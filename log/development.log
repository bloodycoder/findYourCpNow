  [1m[35m (16.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  ↳ bin/rails:9
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  ↳ bin/rails:9
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_try_advisory_lock(372903447937791960)[0m
  ↳ bin/rails:9
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
Migrating to DeviseCreateUsers (20180524154509)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ bin/rails:9
  [1m[35m (5.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying DEFAULT '' NOT NULL, "last_name" character varying DEFAULT '' NOT NULL, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  ↳ db/migrate/20180524154509_devise_create_users.rb:5
  [1m[35m (1.0ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  ↳ db/migrate/20180524154509_devise_create_users.rb:41
  [1m[35m (1.0ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  ↳ db/migrate/20180524154509_devise_create_users.rb:42
  [1m[36mActiveRecord::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180524154509"]]
  ↳ bin/rails:9
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ bin/rails:9
Migrating to CreatePosts (20180525141639)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ bin/rails:9
  [1m[35m (6.3ms)[0m  [1m[35mCREATE TABLE "posts" ("id" bigserial primary key, "content" text, "user_id" bigint, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_5b5ddfd518"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  ↳ db/migrate/20180525141639_create_posts.rb:3
  [1m[35m (1.8ms)[0m  [1m[35mCREATE  INDEX  "index_posts_on_user_id" ON "posts"  ("user_id")[0m
  ↳ db/migrate/20180525141639_create_posts.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180525141639"]]
  ↳ bin/rails:9
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ bin/rails:9
Migrating to AddPaperclipFieldsToPost (20180528143434)
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  ↳ bin/rails:9
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "posts" ADD "image_file_name" character varying[0m
  ↳ db/migrate/20180528143434_add_paperclip_fields_to_post.rb:3
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "posts" ADD "image_content_type" character varying[0m
  ↳ db/migrate/20180528143434_add_paperclip_fields_to_post.rb:4
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "posts" ADD "image_file_size" integer[0m
  ↳ db/migrate/20180528143434_add_paperclip_fields_to_post.rb:5
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "posts" ADD "image_updated_at" timestamp[0m
  ↳ db/migrate/20180528143434_add_paperclip_fields_to_post.rb:6
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180528143434"]]
  ↳ bin/rails:9
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ bin/rails:9
Migrating to CreateComments (20180528152421)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ bin/rails:9
  [1m[35m (4.8ms)[0m  [1m[35mCREATE TABLE "comments" ("id" bigserial primary key, "content" text, "user_id" bigint, "post_id" bigint, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_03de2dc08c"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_2fd19c0db7"
FOREIGN KEY ("post_id")
  REFERENCES "posts" ("id")
)[0m
  ↳ db/migrate/20180528152421_create_comments.rb:3
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX  "index_comments_on_user_id" ON "comments"  ("user_id")[0m
  ↳ db/migrate/20180528152421_create_comments.rb:3
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_comments_on_post_id" ON "comments"  ("post_id")[0m
  ↳ db/migrate/20180528152421_create_comments.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180528152421"]]
  ↳ bin/rails:9
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ bin/rails:9
Migrating to CreateLikes (20180528160659)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ bin/rails:9
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "likes" ("id" bigserial primary key, "user_id" bigint, "post_id" bigint, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_1e09b5dabf"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_87a8aac469"
FOREIGN KEY ("post_id")
  REFERENCES "posts" ("id")
)[0m
  ↳ db/migrate/20180528160659_create_likes.rb:3
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX  "index_likes_on_user_id" ON "likes"  ("user_id")[0m
  ↳ db/migrate/20180528160659_create_likes.rb:3
  [1m[35m (1.7ms)[0m  [1m[35mCREATE  INDEX  "index_likes_on_post_id" ON "likes"  ("post_id")[0m
  ↳ db/migrate/20180528160659_create_likes.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180528160659"]]
  ↳ bin/rails:9
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ bin/rails:9
Migrating to AddUniqueIndexToLikes (20180529154453)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ bin/rails:9
  [1m[35m (1.0ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_likes_on_user_id_and_post_id" ON "likes"  ("user_id", "post_id")[0m
  ↳ db/migrate/20180529154453_add_unique_index_to_likes.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180529154453"]]
  ↳ bin/rails:9
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ bin/rails:9
Migrating to CreateProfiles (20180529180046)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ bin/rails:9
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "profiles" ("id" bigserial primary key, "user_id" bigint, "location" character varying, "birthday" date, "gender" character varying, "bio" text, "avatar_file_name" character varying, "avatar_content_type" character varying, "avatar_file_size" integer, "avatar_updated_at" timestamp, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_e424190865"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  ↳ db/migrate/20180529180046_create_profiles.rb:3
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_profiles_on_user_id" ON "profiles"  ("user_id")[0m
  ↳ db/migrate/20180529180046_create_profiles.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180529180046"]]
  ↳ bin/rails:9
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ bin/rails:9
Migrating to AddOmniauthToUsers (20180530161916)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ bin/rails:9
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "users" ADD "provider" character varying[0m
  ↳ db/migrate/20180530161916_add_omniauth_to_users.rb:3
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "uid" character varying[0m
  ↳ db/migrate/20180530161916_add_omniauth_to_users.rb:4
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "name" character varying[0m
  ↳ db/migrate/20180530161916_add_omniauth_to_users.rb:5
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "users" ADD "image" text[0m
  ↳ db/migrate/20180530161916_add_omniauth_to_users.rb:6
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180530161916"]]
  ↳ bin/rails:9
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ bin/rails:9
Migrating to CreateRequests (20180530202325)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ bin/rails:9
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "requests" ("id" bigserial primary key, "requester_id" integer, "requestee_id" integer, "accepted" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  ↳ db/migrate/20180530202325_create_requests.rb:3
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_requests_on_requester_id" ON "requests"  ("requester_id")[0m
  ↳ db/migrate/20180530202325_create_requests.rb:3
  [1m[35m (1.4ms)[0m  [1m[35mCREATE  INDEX  "index_requests_on_requestee_id" ON "requests"  ("requestee_id")[0m
  ↳ db/migrate/20180530202325_create_requests.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180530202325"]]
  ↳ bin/rails:9
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ bin/rails:9
Migrating to AddDefaultValueToRequestAcceptedColumn (20180531131207)
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  ↳ bin/rails:9
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "requests" ALTER COLUMN "accepted" TYPE integer, ALTER COLUMN "accepted" SET DEFAULT 0[0m
  ↳ db/migrate/20180531131207_add_default_value_to_request_accepted_column.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180531131207"]]
  ↳ bin/rails:9
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ bin/rails:9
Migrating to AddCoverphotoFieldsToProfile (20180604200723)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ bin/rails:9
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "profiles" ADD "cover_file_name" character varying[0m
  ↳ db/migrate/20180604200723_add_coverphoto_fields_to_profile.rb:3
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "profiles" ADD "cover_content_type" character varying[0m
  ↳ db/migrate/20180604200723_add_coverphoto_fields_to_profile.rb:4
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "profiles" ADD "cover_file_size" integer[0m
  ↳ db/migrate/20180604200723_add_coverphoto_fields_to_profile.rb:5
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "profiles" ADD "cover_updated_at" timestamp[0m
  ↳ db/migrate/20180604200723_add_coverphoto_fields_to_profile.rb:6
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180604200723"]]
  ↳ bin/rails:9
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  ↳ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2019-11-17 03:06:16.320704"], ["updated_at", "2019-11-17 03:06:16.320704"]]
  ↳ bin/rails:9
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(372903447937791960)[0m
  ↳ bin/rails:9
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
Started GET "/" for 127.0.0.1 at 2019-11-17 11:07:37 +0800
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /Users/apple/.rvm/gems/ruby-2.3.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 25ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2019-11-17 11:07:37 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (18.3ms)
Completed 200 OK in 1891ms (Views: 1864.0ms | ActiveRecord: 4.3ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2019-11-17 11:07:43 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (2.8ms)
Completed 200 OK in 80ms (Views: 77.4ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2019-11-17 11:07:55 +0800
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/registrations/new.html.erb within layouts/application (3.5ms)
Completed 200 OK in 76ms (Views: 73.8ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2019-11-17 11:08:08 +0800
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"lzcSJsOO07Lij25Fpb5uJl/HtTaDHJ5XrVtneaBBHaloQ0xwIR/3mOiZcfCF/LANOtMbjkAmdYlunGDMzg2qtA==", "user"=>{"first_name"=>"Picard", "last_name"=>"Xie", "email"=>"510297127@qq.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ /Users/apple/.rvm/gems/ruby-2.3.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Exists (2.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "510297127@qq.com"], ["LIMIT", 1]]
  ↳ /Users/apple/.rvm/gems/ruby-2.3.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ /Users/apple/.rvm/gems/ruby-2.3.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/registrations/new.html.erb within layouts/application (5.1ms)
Completed 200 OK in 240ms (Views: 63.7ms | ActiveRecord: 2.9ms)


Started POST "/users" for 127.0.0.1 at 2019-11-17 11:08:15 +0800
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"zcW0BUCWl30I+d7oZR9c5BQLJHALJSmEh2mi12vMR28ikRAtIJ7GImhfkG2sP5Jo/Y9DoIcaQKQ0k42N86DEEg==", "user"=>{"first_name"=>"Picard", "last_name"=>"Xie", "email"=>"510297127@qq.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ /Users/apple/.rvm/gems/ruby-2.3.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "510297127@qq.com"], ["LIMIT", 1]]
  ↳ /Users/apple/.rvm/gems/ruby-2.3.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Create (1.6ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Picard"], ["last_name", "Xie"], ["email", "510297127@qq.com"], ["encrypted_password", "$2a$11$GLnMPrwcP2hoHz9VwIztmeCGErkVYMj9okszD5wI0onI.7FRDN39O"], ["created_at", "2019-11-17 03:08:15.574278"], ["updated_at", "2019-11-17 03:08:15.574278"]]
  ↳ /Users/apple/.rvm/gems/ruby-2.3.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Create (1.7ms)[0m  [1m[32mINSERT INTO "profiles" ("user_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["user_id", 1], ["created_at", "2019-11-17 03:08:15.632248"], ["updated_at", "2019-11-17 03:08:15.632248"]]
  ↳ app/models/user.rb:47
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:47
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ /Users/apple/.rvm/gems/ruby-2.3.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ /Users/apple/.rvm/gems/ruby-2.3.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2019-11-17 03:08:15.641974"], ["last_sign_in_at", "2019-11-17 03:08:15.641974"], ["current_sign_in_ip", "127.0.0.1/32"], ["last_sign_in_ip", "127.0.0.1/32"], ["updated_at", "2019-11-17 03:08:15.642868"], ["id", 1]]
  ↳ /Users/apple/.rvm/gems/ruby-2.3.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ /Users/apple/.rvm/gems/ruby-2.3.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 221ms (ActiveRecord: 12.8ms)


Started GET "/" for 127.0.0.1 at 2019-11-17 11:08:15 +0800
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /Users/apple/.rvm/gems/ruby-2.3.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (1.7ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (1.8ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (NULL) OR user_id = 1) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  Rendered posts/index.html.erb within layouts/application (14.1ms)
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:34
Completed 200 OK in 121ms (Views: 61.6ms | ActiveRecord: 12.1ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2019-11-17 11:08:23 +0800
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"tiGZUlFngNuHQA5KGWbNsbRrS+OGoPTj2rzq5ompIvlZdT16MW/RhOfmQM/QRgM9Xe8sMwqfncNpRsW8EcWhhA=="}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /Users/apple/.rvm/gems/ruby-2.3.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ /Users/apple/.rvm/gems/ruby-2.3.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ /Users/apple/.rvm/gems/ruby-2.3.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 13ms (ActiveRecord: 1.3ms)


Started GET "/" for 127.0.0.1 at 2019-11-17 11:08:23 +0800
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2019-11-17 11:08:23 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (2.1ms)
Completed 200 OK in 51ms (Views: 49.2ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2019-11-17 11:08:27 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"cLOXqqgwFjCMHX1GHsTwSqt7vvhhPFarn/l1zPlhMSDvHhAYGZAUmmWYOet32IPK1X5wP6QJZF3IFHGr3ycVAw==", "user"=>{"email"=>"510297127@qq.com", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "510297127@qq.com"], ["LIMIT", 1]]
  ↳ /Users/apple/.rvm/gems/ruby-2.3.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ /Users/apple/.rvm/gems/ruby-2.3.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "remember_created_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_created_at", "2019-11-17 03:08:27.357492"], ["updated_at", "2019-11-17 03:08:27.358662"], ["id", 1]]
  ↳ /Users/apple/.rvm/gems/ruby-2.3.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ /Users/apple/.rvm/gems/ruby-2.3.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ /Users/apple/.rvm/gems/ruby-2.3.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["sign_in_count", 2], ["current_sign_in_at", "2019-11-17 03:08:27.364993"], ["updated_at", "2019-11-17 03:08:27.365943"], ["id", 1]]
  ↳ /Users/apple/.rvm/gems/ruby-2.3.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ /Users/apple/.rvm/gems/ruby-2.3.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 184ms (ActiveRecord: 4.5ms)


Started GET "/" for 127.0.0.1 at 2019-11-17 11:08:27 +0800
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /Users/apple/.rvm/gems/ruby-2.3.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (NULL) OR user_id = 1) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  Rendered posts/index.html.erb within layouts/application (7.4ms)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:34
Completed 200 OK in 58ms (Views: 48.1ms | ActiveRecord: 2.8ms)


Started GET "/profiles/1" for 127.0.0.1 at 2019-11-17 11:08:31 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /Users/apple/.rvm/gems/ruby-2.3.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:31
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:60
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:79
  Rendered profiles/show.html.erb within layouts/application (9.1ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:34
Completed 200 OK in 75ms (Views: 55.8ms | ActiveRecord: 3.6ms)


Started GET "/" for 127.0.0.1 at 2019-11-17 14:48:04 +0800
  
PG::ConnectionBad (could not connect to server: Connection refused
	Is the server running on host "localhost" (127.0.0.1) and accepting
	TCP/IP connections on port 5432?
could not connect to server: Connection refused
	Is the server running on host "localhost" (::1) and accepting
	TCP/IP connections on port 5432?
):
  
pg (1.0.0) lib/pg.rb:56:in `initialize'
pg (1.0.0) lib/pg.rb:56:in `new'
pg (1.0.0) lib/pg.rb:56:in `connect'
activerecord (5.2.0) lib/active_record/connection_adapters/postgresql_adapter.rb:684:in `connect'
activerecord (5.2.0) lib/active_record/connection_adapters/postgresql_adapter.rb:215:in `initialize'
activerecord (5.2.0) lib/active_record/connection_adapters/postgresql_adapter.rb:40:in `new'
activerecord (5.2.0) lib/active_record/connection_adapters/postgresql_adapter.rb:40:in `postgresql_connection'
activerecord (5.2.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:809:in `new_connection'
activerecord (5.2.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:853:in `checkout_new_connection'
activerecord (5.2.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:832:in `try_to_checkout_new_connection'
activerecord (5.2.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:793:in `acquire_connection'
activerecord (5.2.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:521:in `checkout'
activerecord (5.2.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:380:in `connection'
activerecord (5.2.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:1008:in `retrieve_connection'
activerecord (5.2.0) lib/active_record/connection_handling.rb:118:in `retrieve_connection'
activerecord (5.2.0) lib/active_record/connection_handling.rb:90:in `connection'
activerecord (5.2.0) lib/active_record/migration.rb:554:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.0) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.11.4) lib/puma/configuration.rb:225:in `call'
puma (3.11.4) lib/puma/server.rb:632:in `handle_request'
puma (3.11.4) lib/puma/server.rb:446:in `process_client'
puma (3.11.4) lib/puma/server.rb:306:in `block in run'
puma (3.11.4) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2019-11-17 14:48:16 +0800
  
PG::ConnectionBad (could not connect to server: Connection refused
	Is the server running on host "localhost" (127.0.0.1) and accepting
	TCP/IP connections on port 5432?
could not connect to server: Connection refused
	Is the server running on host "localhost" (::1) and accepting
	TCP/IP connections on port 5432?
):
  
pg (1.0.0) lib/pg.rb:56:in `initialize'
pg (1.0.0) lib/pg.rb:56:in `new'
pg (1.0.0) lib/pg.rb:56:in `connect'
activerecord (5.2.0) lib/active_record/connection_adapters/postgresql_adapter.rb:684:in `connect'
activerecord (5.2.0) lib/active_record/connection_adapters/postgresql_adapter.rb:215:in `initialize'
activerecord (5.2.0) lib/active_record/connection_adapters/postgresql_adapter.rb:40:in `new'
activerecord (5.2.0) lib/active_record/connection_adapters/postgresql_adapter.rb:40:in `postgresql_connection'
activerecord (5.2.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:809:in `new_connection'
activerecord (5.2.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:853:in `checkout_new_connection'
activerecord (5.2.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:832:in `try_to_checkout_new_connection'
activerecord (5.2.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:793:in `acquire_connection'
activerecord (5.2.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:521:in `checkout'
activerecord (5.2.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:380:in `connection'
activerecord (5.2.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:1008:in `retrieve_connection'
activerecord (5.2.0) lib/active_record/connection_handling.rb:118:in `retrieve_connection'
activerecord (5.2.0) lib/active_record/connection_handling.rb:90:in `connection'
activerecord (5.2.0) lib/active_record/migration.rb:554:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.0) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.11.4) lib/puma/configuration.rb:225:in `call'
puma (3.11.4) lib/puma/server.rb:632:in `handle_request'
puma (3.11.4) lib/puma/server.rb:446:in `process_client'
puma (3.11.4) lib/puma/server.rb:306:in `block in run'
puma (3.11.4) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2019-11-17 14:48:20 +0800
  
PG::ConnectionBad (could not connect to server: Connection refused
	Is the server running on host "localhost" (127.0.0.1) and accepting
	TCP/IP connections on port 5432?
could not connect to server: Connection refused
	Is the server running on host "localhost" (::1) and accepting
	TCP/IP connections on port 5432?
):
  
pg (1.0.0) lib/pg.rb:56:in `initialize'
pg (1.0.0) lib/pg.rb:56:in `new'
pg (1.0.0) lib/pg.rb:56:in `connect'
activerecord (5.2.0) lib/active_record/connection_adapters/postgresql_adapter.rb:684:in `connect'
activerecord (5.2.0) lib/active_record/connection_adapters/postgresql_adapter.rb:215:in `initialize'
activerecord (5.2.0) lib/active_record/connection_adapters/postgresql_adapter.rb:40:in `new'
activerecord (5.2.0) lib/active_record/connection_adapters/postgresql_adapter.rb:40:in `postgresql_connection'
activerecord (5.2.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:809:in `new_connection'
activerecord (5.2.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:853:in `checkout_new_connection'
activerecord (5.2.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:832:in `try_to_checkout_new_connection'
activerecord (5.2.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:793:in `acquire_connection'
activerecord (5.2.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:521:in `checkout'
activerecord (5.2.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:380:in `connection'
activerecord (5.2.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:1008:in `retrieve_connection'
activerecord (5.2.0) lib/active_record/connection_handling.rb:118:in `retrieve_connection'
activerecord (5.2.0) lib/active_record/connection_handling.rb:90:in `connection'
activerecord (5.2.0) lib/active_record/migration.rb:554:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.0) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.11.4) lib/puma/configuration.rb:225:in `call'
puma (3.11.4) lib/puma/server.rb:632:in `handle_request'
puma (3.11.4) lib/puma/server.rb:446:in `process_client'
puma (3.11.4) lib/puma/server.rb:306:in `block in run'
puma (3.11.4) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  [1m[35m (4.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  ↳ bin/rails:9
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  ↳ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(372903447937791960)[0m
  ↳ bin/rails:9
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
Migrating to DeviseCreateUsers (20180524154509)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ bin/rails:9
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying DEFAULT '' NOT NULL, "last_name" character varying DEFAULT '' NOT NULL, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  ↳ db/migrate/20180524154509_devise_create_users.rb:5
  [1m[35m (1.1ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  ↳ db/migrate/20180524154509_devise_create_users.rb:41
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  ↳ db/migrate/20180524154509_devise_create_users.rb:42
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180524154509"]]
  ↳ bin/rails:9
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ bin/rails:9
Migrating to CreatePosts (20180525141639)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ bin/rails:9
  [1m[35m (5.0ms)[0m  [1m[35mCREATE TABLE "posts" ("id" bigserial primary key, "content" text, "user_id" bigint, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_5b5ddfd518"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  ↳ db/migrate/20180525141639_create_posts.rb:3
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_posts_on_user_id" ON "posts"  ("user_id")[0m
  ↳ db/migrate/20180525141639_create_posts.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180525141639"]]
  ↳ bin/rails:9
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ bin/rails:9
Migrating to AddPaperclipFieldsToPost (20180528143434)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ bin/rails:9
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "posts" ADD "image_file_name" character varying[0m
  ↳ db/migrate/20180528143434_add_paperclip_fields_to_post.rb:3
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "posts" ADD "image_content_type" character varying[0m
  ↳ db/migrate/20180528143434_add_paperclip_fields_to_post.rb:4
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "posts" ADD "image_file_size" integer[0m
  ↳ db/migrate/20180528143434_add_paperclip_fields_to_post.rb:5
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "posts" ADD "image_updated_at" timestamp[0m
  ↳ db/migrate/20180528143434_add_paperclip_fields_to_post.rb:6
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180528143434"]]
  ↳ bin/rails:9
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ bin/rails:9
Migrating to CreateComments (20180528152421)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ bin/rails:9
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "comments" ("id" bigserial primary key, "content" text, "user_id" bigint, "post_id" bigint, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_03de2dc08c"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_2fd19c0db7"
FOREIGN KEY ("post_id")
  REFERENCES "posts" ("id")
)[0m
  ↳ db/migrate/20180528152421_create_comments.rb:3
  [1m[35m (1.9ms)[0m  [1m[35mCREATE  INDEX  "index_comments_on_user_id" ON "comments"  ("user_id")[0m
  ↳ db/migrate/20180528152421_create_comments.rb:3
  [1m[35m (1.4ms)[0m  [1m[35mCREATE  INDEX  "index_comments_on_post_id" ON "comments"  ("post_id")[0m
  ↳ db/migrate/20180528152421_create_comments.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180528152421"]]
  ↳ bin/rails:9
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ bin/rails:9
Migrating to CreateLikes (20180528160659)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ bin/rails:9
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "likes" ("id" bigserial primary key, "user_id" bigint, "post_id" bigint, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_1e09b5dabf"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_87a8aac469"
FOREIGN KEY ("post_id")
  REFERENCES "posts" ("id")
)[0m
  ↳ db/migrate/20180528160659_create_likes.rb:3
  [1m[35m (1.5ms)[0m  [1m[35mCREATE  INDEX  "index_likes_on_user_id" ON "likes"  ("user_id")[0m
  ↳ db/migrate/20180528160659_create_likes.rb:3
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_likes_on_post_id" ON "likes"  ("post_id")[0m
  ↳ db/migrate/20180528160659_create_likes.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180528160659"]]
  ↳ bin/rails:9
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ bin/rails:9
Migrating to AddUniqueIndexToLikes (20180529154453)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ bin/rails:9
  [1m[35m (1.5ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_likes_on_user_id_and_post_id" ON "likes"  ("user_id", "post_id")[0m
  ↳ db/migrate/20180529154453_add_unique_index_to_likes.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180529154453"]]
  ↳ bin/rails:9
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ bin/rails:9
Migrating to CreateProfiles (20180529180046)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ bin/rails:9
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "profiles" ("id" bigserial primary key, "user_id" bigint, "location" character varying, "birthday" date, "gender" character varying, "bio" text, "avatar_file_name" character varying, "avatar_content_type" character varying, "avatar_file_size" integer, "avatar_updated_at" timestamp, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_e424190865"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  ↳ db/migrate/20180529180046_create_profiles.rb:3
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX  "index_profiles_on_user_id" ON "profiles"  ("user_id")[0m
  ↳ db/migrate/20180529180046_create_profiles.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180529180046"]]
  ↳ bin/rails:9
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ bin/rails:9
Migrating to AddOmniauthToUsers (20180530161916)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ bin/rails:9
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "users" ADD "provider" character varying[0m
  ↳ db/migrate/20180530161916_add_omniauth_to_users.rb:3
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "users" ADD "uid" character varying[0m
  ↳ db/migrate/20180530161916_add_omniauth_to_users.rb:4
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" ADD "name" character varying[0m
  ↳ db/migrate/20180530161916_add_omniauth_to_users.rb:5
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "users" ADD "image" text[0m
  ↳ db/migrate/20180530161916_add_omniauth_to_users.rb:6
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180530161916"]]
  ↳ bin/rails:9
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ bin/rails:9
Migrating to CreateRequests (20180530202325)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ bin/rails:9
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "requests" ("id" bigserial primary key, "requester_id" integer, "requestee_id" integer, "accepted" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  ↳ db/migrate/20180530202325_create_requests.rb:3
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX  "index_requests_on_requester_id" ON "requests"  ("requester_id")[0m
  ↳ db/migrate/20180530202325_create_requests.rb:3
  [1m[35m (1.5ms)[0m  [1m[35mCREATE  INDEX  "index_requests_on_requestee_id" ON "requests"  ("requestee_id")[0m
  ↳ db/migrate/20180530202325_create_requests.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180530202325"]]
  ↳ bin/rails:9
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ bin/rails:9
Migrating to AddDefaultValueToRequestAcceptedColumn (20180531131207)
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ bin/rails:9
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "requests" ALTER COLUMN "accepted" TYPE integer, ALTER COLUMN "accepted" SET DEFAULT 0[0m
  ↳ db/migrate/20180531131207_add_default_value_to_request_accepted_column.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180531131207"]]
  ↳ bin/rails:9
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ bin/rails:9
Migrating to AddCoverphotoFieldsToProfile (20180604200723)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ bin/rails:9
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "profiles" ADD "cover_file_name" character varying[0m
  ↳ db/migrate/20180604200723_add_coverphoto_fields_to_profile.rb:3
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "profiles" ADD "cover_content_type" character varying[0m
  ↳ db/migrate/20180604200723_add_coverphoto_fields_to_profile.rb:4
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "profiles" ADD "cover_file_size" integer[0m
  ↳ db/migrate/20180604200723_add_coverphoto_fields_to_profile.rb:5
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "profiles" ADD "cover_updated_at" timestamp[0m
  ↳ db/migrate/20180604200723_add_coverphoto_fields_to_profile.rb:6
  [1m[36mActiveRecord::SchemaMigration Create (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180604200723"]]
  ↳ bin/rails:9
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  ↳ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Create (0.9ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2019-11-17 06:57:01.794271"], ["updated_at", "2019-11-17 06:57:01.794271"]]
  ↳ bin/rails:9
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ bin/rails:9
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(372903447937791960)[0m
  ↳ bin/rails:9
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
Started GET "/" for 127.0.0.1 at 2019-11-17 14:57:16 +0800
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /Users/apple/.rvm/gems/ruby-2.3.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by PostsController#index as HTML
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /Users/apple/.rvm/gems/ruby-2.3.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Completed 401 Unauthorized in 28ms (ActiveRecord: 6.2ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2019-11-17 14:57:16 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (9.0ms)
Completed 200 OK in 490ms (Views: 471.7ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2019-11-17 15:11:57 +0800
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2019-11-17 15:11:57 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.9ms)
Completed 200 OK in 68ms (Views: 66.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2019-11-17 15:12:00 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"fw4jYA6du2HHpKIopY6fL+wao16MxFMFx65iMYSMjCY7xFvBsSGekDz7deyssYd2qrZeL20HWAEJN269RtthiQ==", "user"=>{"email"=>"", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"Log in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"fw4jYA6du2HHpKIopY6fL+wao16MxFMFx65iMYSMjCY7xFvBsSGekDz7deyssYd2qrZeL20HWAEJN269RtthiQ==", "user"=>{"email"=>"", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"Log in"}
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.9ms)
Completed 200 OK in 56ms (Views: 53.1ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2019-11-17 15:12:01 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"legzR2OH05ZplYmYHc3cwanMImtcS2hrD+yhvqax9DzRIkvm3Dv2Z5LKXlwU8sSY72DfGr2IY2/Bda0yZOYZkw==", "user"=>{"email"=>"", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"Log in"}
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.0ms)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"legzR2OH05ZplYmYHc3cwanMImtcS2hrD+yhvqax9DzRIkvm3Dv2Z5LKXlwU8sSY72DfGr2IY2/Bda0yZOYZkw==", "user"=>{"email"=>"", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"Log in"}
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 87ms (Views: 84.8ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2019-11-17 15:12:23 +0800
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/registrations/new.html.erb within layouts/application (2.4ms)
Completed 200 OK in 62ms (Views: 59.9ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2019-11-17 15:12:57 +0800
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"QXDTyzEMHneMKAPvp0omLsRUeYfwUYW92PV6iZB+opHNszK/DBURKLCPh2ayhb+GJd2TML0T4wXLTOpnSxVsgQ==", "user"=>{"first_name"=>"Picard", "last_name"=>"Xie", "email"=>"picardxie@foxmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ /Users/apple/.rvm/gems/ruby-2.3.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "picardxie@foxmail.com"], ["LIMIT", 1]]
  ↳ /Users/apple/.rvm/gems/ruby-2.3.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Picard"], ["last_name", "Xie"], ["email", "picardxie@foxmail.com"], ["encrypted_password", "$2a$11$R4/IsUrYmJATsTMaJpiuYOSEGpv8tQf2yBk79yHo28DPjvltyChMa"], ["created_at", "2019-11-17 07:12:57.388011"], ["updated_at", "2019-11-17 07:12:57.388011"]]
  ↳ /Users/apple/.rvm/gems/ruby-2.3.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Create (2.5ms)[0m  [1m[32mINSERT INTO "profiles" ("user_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["user_id", 1], ["created_at", "2019-11-17 07:12:57.431694"], ["updated_at", "2019-11-17 07:12:57.431694"]]
  ↳ app/models/user.rb:47
  [1m[36mProfile Load (0.7ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:47
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ /Users/apple/.rvm/gems/ruby-2.3.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ /Users/apple/.rvm/gems/ruby-2.3.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (1.1ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2019-11-17 07:12:57.442451"], ["last_sign_in_at", "2019-11-17 07:12:57.442451"], ["current_sign_in_ip", "127.0.0.1/32"], ["last_sign_in_ip", "127.0.0.1/32"], ["updated_at", "2019-11-17 07:12:57.443414"], ["id", 1]]
  ↳ /Users/apple/.rvm/gems/ruby-2.3.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ /Users/apple/.rvm/gems/ruby-2.3.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 246ms (ActiveRecord: 14.5ms)


Started GET "/" for 127.0.0.1 at 2019-11-17 15:12:57 +0800
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /Users/apple/.rvm/gems/ruby-2.3.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (1.6ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (0.5ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (1.9ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (NULL) OR user_id = 1) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  Rendered posts/index.html.erb within layouts/application (13.8ms)
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:34
Completed 200 OK in 142ms (Views: 76.9ms | ActiveRecord: 12.4ms)


Started GET "/profiles/1" for 127.0.0.1 at 2019-11-17 15:13:01 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /Users/apple/.rvm/gems/ruby-2.3.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:31
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:60
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:79
  Rendered profiles/show.html.erb within layouts/application (11.8ms)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:34
Completed 200 OK in 86ms (Views: 68.2ms | ActiveRecord: 3.4ms)


Started GET "/profiles/1/edit" for 127.0.0.1 at 2019-11-17 15:13:02 +0800
Processing by ProfilesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /Users/apple/.rvm/gems/ruby-2.3.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:10
  Rendering profiles/edit.html.erb within layouts/application
  Rendered profiles/edit.html.erb within layouts/application (11.3ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:34
Completed 200 OK in 73ms (Views: 62.2ms | ActiveRecord: 2.5ms)


Started GET "/" for 127.0.0.1 at 2019-11-17 15:13:12 +0800
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /Users/apple/.rvm/gems/ruby-2.3.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (0.8ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (0.5ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (NULL) OR user_id = 1) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  Rendered posts/index.html.erb within layouts/application (16.1ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:34
Completed 200 OK in 83ms (Views: 66.2ms | ActiveRecord: 3.6ms)


Started GET "/users/edit.1" for 127.0.0.1 at 2019-11-17 15:13:15 +0800
Processing by Devise::RegistrationsController#edit as 
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /Users/apple/.rvm/gems/ruby-2.3.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/registrations/edit.html.erb within layouts/application (5.0ms)
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:34
Completed 200 OK in 91ms (Views: 86.4ms | ActiveRecord: 1.6ms)


Started GET "/" for 127.0.0.1 at 2019-11-17 15:13:18 +0800
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /Users/apple/.rvm/gems/ruby-2.3.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (0.5ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (NULL) OR user_id = 1) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  Rendered posts/index.html.erb within layouts/application (6.7ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:34
Completed 200 OK in 72ms (Views: 58.9ms | ActiveRecord: 2.6ms)


Started GET "/profiles/1" for 127.0.0.1 at 2019-11-17 15:13:19 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /Users/apple/.rvm/gems/ruby-2.3.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.6ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:31
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:60
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:79
  Rendered profiles/show.html.erb within layouts/application (7.8ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:34
Completed 200 OK in 66ms (Views: 51.6ms | ActiveRecord: 3.6ms)


Started GET "/users/index" for 127.0.0.1 at 2019-11-17 15:13:21 +0800
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /Users/apple/.rvm/gems/ruby-2.3.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (id != 1) LIMIT $1 OFFSET $2[0m  [["LIMIT", 12], ["OFFSET", 0]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (2.2ms)
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:34
Completed 200 OK in 63ms (Views: 54.7ms | ActiveRecord: 2.0ms)


Started GET "/users/index" for 127.0.0.1 at 2019-11-17 15:13:23 +0800
Processing by UsersController#index as HTML
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /Users/apple/.rvm/gems/ruby-2.3.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (id != 1) LIMIT $1 OFFSET $2[0m  [["LIMIT", 12], ["OFFSET", 0]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (2.5ms)
  [1m[36mProfile Load (0.5ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:34
Completed 200 OK in 67ms (Views: 56.5ms | ActiveRecord: 3.1ms)


Started GET "/users/index" for 127.0.0.1 at 2019-11-17 15:13:26 +0800
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /Users/apple/.rvm/gems/ruby-2.3.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (id != 1) LIMIT $1 OFFSET $2[0m  [["LIMIT", 12], ["OFFSET", 0]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (2.1ms)
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:34
Completed 200 OK in 53ms (Views: 47.0ms | ActiveRecord: 1.8ms)


Started GET "/profiles/1" for 127.0.0.1 at 2019-11-17 15:13:27 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /Users/apple/.rvm/gems/ruby-2.3.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.5ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:31
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:60
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:79
  Rendered profiles/show.html.erb within layouts/application (11.0ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:34
Completed 200 OK in 82ms (Views: 66.2ms | ActiveRecord: 3.3ms)


Started GET "/users/index" for 127.0.0.1 at 2019-11-17 15:13:28 +0800
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /Users/apple/.rvm/gems/ruby-2.3.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (id != 1) LIMIT $1 OFFSET $2[0m  [["LIMIT", 12], ["OFFSET", 0]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (2.6ms)
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:34
Completed 200 OK in 72ms (Views: 62.0ms | ActiveRecord: 2.0ms)


Started GET "/users/index" for 127.0.0.1 at 2019-11-17 15:13:37 +0800
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /Users/apple/.rvm/gems/ruby-2.3.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (id != 1) LIMIT $1 OFFSET $2[0m  [["LIMIT", 12], ["OFFSET", 0]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (2.8ms)
  [1m[36mProfile Load (0.5ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:34
Completed 200 OK in 56ms (Views: 47.3ms | ActiveRecord: 2.0ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2019-11-17 15:13:38 +0800
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"Jyo3+jFtlqvKdzoAOrOia+RWBk46STPdzd9PqohqFVlj4E9bjtGzWjEo7cQzjLoyovr7P9uKONkDRkMmSj349g=="}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /Users/apple/.rvm/gems/ruby-2.3.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ /Users/apple/.rvm/gems/ruby-2.3.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ /Users/apple/.rvm/gems/ruby-2.3.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 28ms (ActiveRecord: 1.1ms)


Started GET "/" for 127.0.0.1 at 2019-11-17 15:13:38 +0800
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2019-11-17 15:13:38 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 50ms (Views: 48.9ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2019-11-17 15:13:49 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"KlDObRdrXXXt1H7cOgGCODCUuPoa67H7S+Pr5gUmJXMBf987p3b9iRMvdIN8zT58Pc6YzNuqaLhpcmRFKKWdVw==", "user"=>{"email"=>"picardxie@foxmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "picardxie@foxmail.com"], ["LIMIT", 1]]
  ↳ /Users/apple/.rvm/gems/ruby-2.3.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ /Users/apple/.rvm/gems/ruby-2.3.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "remember_created_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_created_at", "2019-11-17 07:13:49.280048"], ["updated_at", "2019-11-17 07:13:49.281038"], ["id", 1]]
  ↳ /Users/apple/.rvm/gems/ruby-2.3.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ /Users/apple/.rvm/gems/ruby-2.3.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ /Users/apple/.rvm/gems/ruby-2.3.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["sign_in_count", 2], ["current_sign_in_at", "2019-11-17 07:13:49.287379"], ["updated_at", "2019-11-17 07:13:49.288352"], ["id", 1]]
  ↳ /Users/apple/.rvm/gems/ruby-2.3.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ /Users/apple/.rvm/gems/ruby-2.3.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 161ms (ActiveRecord: 4.8ms)


Started GET "/" for 127.0.0.1 at 2019-11-17 15:13:49 +0800
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /Users/apple/.rvm/gems/ruby-2.3.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (0.5ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (NULL) OR user_id = 1) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  Rendered posts/index.html.erb within layouts/application (6.8ms)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:34
Completed 200 OK in 63ms (Views: 53.0ms | ActiveRecord: 2.5ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2019-11-17 15:13:53 +0800
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"FNMiIs95IHgQasY0QESAbk9SCJeLvaJg/fsS9Nvi7PGKezOWywfDSeimRy77Ayv0VPEgTLeEl49PH9BrgfHsWw=="}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /Users/apple/.rvm/gems/ruby-2.3.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ /Users/apple/.rvm/gems/ruby-2.3.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "remember_created_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_created_at", nil], ["updated_at", "2019-11-17 07:13:53.190163"], ["id", 1]]
  ↳ /Users/apple/.rvm/gems/ruby-2.3.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ /Users/apple/.rvm/gems/ruby-2.3.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 13ms (ActiveRecord: 2.0ms)


Started GET "/" for 127.0.0.1 at 2019-11-17 15:13:53 +0800
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2019-11-17 15:13:53 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 51ms (Views: 49.2ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2019-11-17 15:13:55 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (2.1ms)
Completed 200 OK in 46ms (Views: 44.4ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2019-12-17 15:52:16 +0800
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by Devise::SessionsController#new as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (2.5ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "last_sign_in_at" = $2, "sign_in_count" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["current_sign_in_at", "2019-12-17 07:52:16.540766"], ["last_sign_in_at", "2019-12-17 07:48:50.445993"], ["sign_in_count", 4], ["updated_at", "2019-12-17 07:52:16.544128"], ["id", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 232ms (ActiveRecord: 8.5ms)


Started GET "/" for 127.0.0.1 at 2019-12-17 15:52:16 +0800
Processing by PostsController#index as HTML
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (1.4ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (2,3) OR user_id = 1) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (1.7ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (4.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (1.8ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[36mLike Load (0.7ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:63
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:74
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:78
  [1m[35m (2.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mComment Load (0.3ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1 ORDER BY "comments"."created_at" ASC[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:110
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:111
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:112
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (2.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:108
  Rendered posts/index.html.erb within layouts/application (163.9ms)
  [1m[35m (2.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:34
Completed 200 OK in 1016ms (Views: 914.2ms | ActiveRecord: 53.8ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2019-12-17 15:58:15 +0800
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by Devise::SessionsController#new as HTML
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "last_sign_in_at" = $2, "sign_in_count" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["current_sign_in_at", "2019-12-17 07:58:15.830776"], ["last_sign_in_at", "2019-12-17 07:52:16.540766"], ["sign_in_count", 5], ["updated_at", "2019-12-17 07:58:15.832088"], ["id", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 198ms (ActiveRecord: 9.8ms)


Started GET "/" for 127.0.0.1 at 2019-12-17 15:58:15 +0800
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (4.7ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (2,3) OR user_id = 1) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (4.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (1.9ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:63
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:74
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:78
  [1m[35m (2.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mComment Load (0.3ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1 ORDER BY "comments"."created_at" ASC[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:110
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:111
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:112
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:108
  Rendered posts/index.html.erb within layouts/application (175.3ms)
  [1m[35m (4.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:34
Completed 200 OK in 945ms (Views: 840.6ms | ActiveRecord: 48.8ms)


Started GET "/users/index" for 127.0.0.1 at 2019-12-17 15:58:22 +0800
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (id != 1) LIMIT $1 OFFSET $2[0m  [["LIMIT", 12], ["OFFSET", 0]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mProfile Load (1.6ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mUser Load (4.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  Rendered users/index.html.erb within layouts/application (21.9ms)
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:34
Completed 200 OK in 112ms (Views: 94.0ms | ActiveRecord: 10.7ms)


Started GET "/profiles/1" for 127.0.0.1 at 2019-12-17 15:58:26 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (5.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:31
  [1m[35m (2.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:60
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["requester_id", 1], ["accepted", 1], ["LIMIT", 4]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:65
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:65
  [1m[35m (1.9ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:79
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:80
  [1m[36mLike Exists (4.5ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:107
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:119
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:157
  Rendered profiles/show.html.erb within layouts/application (41.0ms)
  [1m[35m (4.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:34
Completed 200 OK in 127ms (Views: 94.8ms | ActiveRecord: 22.9ms)


Started GET "/" for 127.0.0.1 at 2019-12-17 15:58:30 +0800
Processing by PostsController#index as HTML
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (3.9ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (1.8ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (0.6ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (2,3) OR user_id = 1) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (1.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (2.2ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (2.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (2.6ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:63
  [1m[35m (3.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:74
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:78
  [1m[35m (2.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mComment Load (0.3ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1 ORDER BY "comments"."created_at" ASC[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:110
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:111
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:112
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (7.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:108
  Rendered posts/index.html.erb within layouts/application (84.9ms)
  [1m[35m (3.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:34
Completed 200 OK in 249ms (Views: 204.5ms | ActiveRecord: 35.4ms)


Started GET "/" for 127.0.0.1 at 2019-12-17 15:58:32 +0800
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (4.3ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (5.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (2,3) OR user_id = 1) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (1.1ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (3.2ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[36mLike Load (1.8ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:63
  [1m[35m (3.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:74
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:78
  [1m[35m (2.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mComment Load (0.3ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1 ORDER BY "comments"."created_at" ASC[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:110
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:111
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:112
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (6.8ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:108
  Rendered posts/index.html.erb within layouts/application (95.8ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:34
Completed 200 OK in 186ms (Views: 140.5ms | ActiveRecord: 40.7ms)


Started GET "/users/edit.1" for 127.0.0.1 at 2019-12-17 15:58:34 +0800
Processing by Devise::RegistrationsController#edit as 
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/registrations/edit.html.erb within layouts/application (17.6ms)
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (3.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:34
Completed 200 OK in 152ms (Views: 139.9ms | ActiveRecord: 5.8ms)


Started GET "/" for 127.0.0.1 at 2019-12-17 15:58:37 +0800
Processing by PostsController#index as HTML
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (4.5ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (4.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (1.6ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (2,3) OR user_id = 1) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (2.5ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (2.1ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (1.6ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[36mLike Load (0.5ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:63
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:74
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:78
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mComment Load (0.3ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1 ORDER BY "comments"."created_at" ASC[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:110
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:111
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:112
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (5.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:108
  Rendered posts/index.html.erb within layouts/application (114.0ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:34
Completed 200 OK in 224ms (Views: 180.9ms | ActiveRecord: 35.3ms)


Started GET "/" for 127.0.0.1 at 2019-12-17 15:58:40 +0800
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (2,3) OR user_id = 1) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[36mLike Load (1.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:63
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:74
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:78
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mComment Load (0.3ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1 ORDER BY "comments"."created_at" ASC[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:110
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:111
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:112
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (5.6ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:108
  Rendered posts/index.html.erb within layouts/application (86.8ms)
  [1m[35m (4.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:34
Completed 200 OK in 215ms (Views: 188.5ms | ActiveRecord: 18.4ms)


Started GET "/users/edit.1" for 127.0.0.1 at 2019-12-17 16:03:19 +0800
Processing by Devise::RegistrationsController#edit as 
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/registrations/edit.html.erb within layouts/application (4.9ms)
  [1m[36mProfile Load (2.9ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:34
Completed 200 OK in 107ms (Views: 100.0ms | ActiveRecord: 5.5ms)


Started GET "/profiles/1" for 127.0.0.1 at 2019-12-17 16:03:22 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:31
  [1m[35m (3.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:60
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["requester_id", 1], ["accepted", 1], ["LIMIT", 4]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:65
  [1m[36mProfile Load (1.1ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:65
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:79
  [1m[36mPost Load (2.8ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:80
  [1m[36mLike Exists (1.6ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:107
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:119
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:157
  Rendered profiles/show.html.erb within layouts/application (36.9ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:34
Completed 200 OK in 128ms (Views: 109.0ms | ActiveRecord: 13.6ms)


Started GET "/users/index" for 127.0.0.1 at 2019-12-17 16:03:23 +0800
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (id != 1) LIMIT $1 OFFSET $2[0m  [["LIMIT", 12], ["OFFSET", 0]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mProfile Load (2.1ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mProfile Load (2.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  Rendered users/index.html.erb within layouts/application (21.0ms)
  [1m[36mProfile Load (3.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (2.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:34
Completed 200 OK in 106ms (Views: 87.0ms | ActiveRecord: 15.2ms)


Started GET "/" for 127.0.0.1 at 2019-12-17 16:33:21 +0800
Processing by PostsController#index as HTML
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (3.6ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (0.6ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (2,3) OR user_id = 1) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (2.9ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (4.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (1.8ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (1.9ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:63
  [1m[35m (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:74
  [1m[36mLike Load (2.0ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:78
  [1m[35m (3.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mComment Load (3.3ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1 ORDER BY "comments"."created_at" ASC[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:110
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:111
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:112
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:108
  Rendered posts/index.html.erb within layouts/application (72.4ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:34
Completed 200 OK in 234ms (Views: 193.1ms | ActiveRecord: 34.6ms)


Started GET "/users/edit.1" for 127.0.0.1 at 2019-12-17 16:33:23 +0800
Processing by Devise::RegistrationsController#edit as 
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/registrations/edit.html.erb within layouts/application (6.4ms)
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (2.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:34
Completed 200 OK in 110ms (Views: 104.2ms | ActiveRecord: 3.4ms)


Started GET "/" for 127.0.0.1 at 2019-12-17 16:33:25 +0800
Processing by PostsController#index as HTML
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (2.0ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (2,3) OR user_id = 1) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (1.7ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (2.5ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:63
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:74
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:78
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mComment Load (0.3ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1 ORDER BY "comments"."created_at" ASC[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:110
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:111
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:112
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (3.9ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:108
  Rendered posts/index.html.erb within layouts/application (81.2ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:34
Completed 200 OK in 173ms (Views: 143.1ms | ActiveRecord: 20.9ms)


Started GET "/profiles/1" for 127.0.0.1 at 2019-12-17 16:33:26 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mProfile Load (2.8ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:31
  [1m[35m (2.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:60
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["requester_id", 1], ["accepted", 1], ["LIMIT", 4]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[36mProfile Load (2.8ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:65
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:65
  [1m[35m (2.0ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:79
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:80
  [1m[36mLike Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:107
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:119
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:157
  Rendered profiles/show.html.erb within layouts/application (37.3ms)
  [1m[35m (4.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:34
Completed 200 OK in 146ms (Views: 116.8ms | ActiveRecord: 20.5ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2019-12-17 16:33:29 +0800
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"w0UiayL/yFthccJw5ssEI4vamrJyH2IR52KW0s/AjHcGyGywwYje6Pokx39vLhlxNnjlelMk7vfs+CfqDYBfaA=="}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (4.3ms)[0m  [1m[33mUPDATE "users" SET "remember_created_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_created_at", nil], ["updated_at", "2019-12-17 08:33:29.136617"], ["id", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 15ms (ActiveRecord: 6.0ms)


Started GET "/" for 127.0.0.1 at 2019-12-17 16:33:29 +0800
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2019-12-17 16:33:29 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (3.4ms)
Completed 200 OK in 86ms (Views: 85.1ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2019-12-17 16:33:48 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"dNXOJVwyEz0BPRZmEwDvv5hvvNo7VA0Vgdkboj9efM9TFcsHPQ9wvFO/RjJ0xV9A6SMqGsj+ui0bBDxTkUBFyw==", "user"=>{"email"=>"hudenghang15@mails.ucas.ac.cn", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"提交"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "hudenghang15@mails.ucas.ac.cn"], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (3.2ms)[0m  [1m[35mBEGIN[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "remember_created_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_created_at", "2019-12-17 08:33:48.789533"], ["updated_at", "2019-12-17 08:33:48.797729"], ["id", 2]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["sign_in_count", 2], ["current_sign_in_at", "2019-12-17 08:33:48.802677"], ["updated_at", "2019-12-17 08:33:48.804120"], ["id", 2]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 236ms (ActiveRecord: 7.8ms)


Started GET "/" for 127.0.0.1 at 2019-12-17 16:33:48 +0800
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 2], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (2.0ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (1) OR user_id = 2) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  [1m[36mUser Load (4.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 2) LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:74
  [1m[36mLike Load (1.4ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:78
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mComment Load (0.2ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1 ORDER BY "comments"."created_at" ASC[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:110
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:111
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:112
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 2) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (2.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:108
  Rendered posts/index.html.erb within layouts/application (67.3ms)
  [1m[35m (4.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 2], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:34
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 2], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:36
Completed 200 OK in 150ms (Views: 122.8ms | ActiveRecord: 19.3ms)


Started GET "/requests" for 127.0.0.1 at 2019-12-17 16:33:54 +0800
Processing by RequestsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering requests/index.html.erb within layouts/application
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 2]]
  ↳ app/views/requests/index.html.erb:6
  [1m[36mProfile Load (2.8ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/requests/index.html.erb:8
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 2]]
  ↳ app/views/requests/index.html.erb:16
  [1m[36mRequest Load (0.3ms)[0m  [1m[34mSELECT  "requests".* FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."requester_id" = $2 LIMIT $3[0m  [["requestee_id", 2], ["requester_id", 3], ["LIMIT", 1]]
  ↳ app/views/requests/index.html.erb:17
  Rendered requests/index.html.erb within layouts/application (26.6ms)
  [1m[36mProfile Load (8.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (2.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 2], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:34
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 2], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:36
Completed 200 OK in 122ms (Views: 96.8ms | ActiveRecord: 20.1ms)


Started GET "/users/index" for 127.0.0.1 at 2019-12-17 16:33:57 +0800
Processing by UsersController#index as HTML
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (id != 2) LIMIT $1 OFFSET $2[0m  [["LIMIT", 12], ["OFFSET", 0]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 2]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mRequest Load (0.3ms)[0m  [1m[34mSELECT  "requests".* FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."requester_id" = $2 LIMIT $3[0m  [["requestee_id", 2], ["requester_id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:18
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 2]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 2], ["id", 1], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  Rendered users/index.html.erb within layouts/application (23.8ms)
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 2], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:34
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 2], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:36
Completed 200 OK in 107ms (Views: 99.1ms | ActiveRecord: 5.7ms)


Started GET "/profiles/2" for 127.0.0.1 at 2019-12-17 16:34:10 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:31
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 2], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:60
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["requester_id", 2], ["accepted", 1], ["LIMIT", 4]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[36mProfile Load (0.5ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:65
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 2], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:79
  [1m[36mPost Load (1.4ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["user_id", 2], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:80
  [1m[36mLike Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 2) LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:107
  [1m[35m (2.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/profiles/show.html.erb:119
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/profiles/show.html.erb:123
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:125
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:125
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:127
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/profiles/show.html.erb:157
  [1m[36mComment Load (0.3ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1 ORDER BY "comments"."created_at" ASC[0m  [["post_id", 2]]
  ↳ app/views/profiles/show.html.erb:159
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:160
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:161
  Rendered profiles/show.html.erb within layouts/application (63.2ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 2], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:34
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 2], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:36
Completed 200 OK in 155ms (Views: 132.4ms | ActiveRecord: 12.9ms)


Started GET "/requests" for 127.0.0.1 at 2019-12-17 16:34:15 +0800
Processing by RequestsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering requests/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 2]]
  ↳ app/views/requests/index.html.erb:6
  [1m[36mProfile Load (1.5ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/requests/index.html.erb:8
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 2]]
  ↳ app/views/requests/index.html.erb:16
  [1m[36mRequest Load (0.3ms)[0m  [1m[34mSELECT  "requests".* FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."requester_id" = $2 LIMIT $3[0m  [["requestee_id", 2], ["requester_id", 3], ["LIMIT", 1]]
  ↳ app/views/requests/index.html.erb:17
  Rendered requests/index.html.erb within layouts/application (9.8ms)
  [1m[36mProfile Load (5.5ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (2.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 2], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:34
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 2], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:36
Completed 200 OK in 118ms (Views: 102.2ms | ActiveRecord: 10.4ms)


Started GET "/" for 127.0.0.1 at 2019-12-17 19:34:25 +0800
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (3.8ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 2], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (2.4ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (1) OR user_id = 2) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (1.6ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 2) LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:74
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mProfile Load (0.9ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:78
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mComment Load (0.3ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1 ORDER BY "comments"."created_at" ASC[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:110
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:111
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:112
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (2.5ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 2) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (1.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:108
  Rendered posts/index.html.erb within layouts/application (60.8ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 2], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:34
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 2], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:36
Completed 200 OK in 158ms (Views: 132.2ms | ActiveRecord: 21.0ms)


Started GET "/profiles/2" for 127.0.0.1 at 2019-12-17 22:38:16 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (4.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (1.7ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:31
  [1m[35m (4.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 2], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:60
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["requester_id", 2], ["accepted", 1], ["LIMIT", 4]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:65
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 2], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:79
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["user_id", 2], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:80
  [1m[36mLike Exists (1.9ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 2) LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:107
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/profiles/show.html.erb:119
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/profiles/show.html.erb:123
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:125
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:125
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:127
  [1m[35m (2.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/profiles/show.html.erb:157
  [1m[36mComment Load (0.3ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1 ORDER BY "comments"."created_at" ASC[0m  [["post_id", 2]]
  ↳ app/views/profiles/show.html.erb:159
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:160
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:161
  Rendered profiles/show.html.erb within layouts/application (141.4ms)
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 2], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:34
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 2], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:36
Completed 200 OK in 609ms (Views: 292.8ms | ActiveRecord: 136.7ms)


Started GET "/" for 127.0.0.1 at 2019-12-17 22:49:13 +0800
  [1m[35m (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 2], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (0.7ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (1) OR user_id = 2) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (2.9ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 2) LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:74
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mProfile Load (1.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:78
  [1m[35m (2.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mComment Load (0.3ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1 ORDER BY "comments"."created_at" ASC[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:110
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:111
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:112
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (1.7ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 2) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:108
  Rendered posts/index.html.erb within layouts/application (322.7ms)
Completed 500 Internal Server Error in 2110ms (ActiveRecord: 41.3ms)


  
ActionView::Template::Error (undefined local variable or method `chat_show_path' for #<#<Class:0x000000050afa50>:0x007f6428887b18>):
    29:               <%= link_to "#{current_user.first_name}", current_user.profile %>
    30:             </li>
    31:             <li class="link-chat-room">
    32:               <%= link_to '聊天室', chat_show_path %>
    33:             </li>
    34:             <li class="link-home">
    35:               <%= link_to '朋友圈', root_url %>
  
app/views/layouts/application.html.erb:32:in `_app_views_layouts_application_html_erb__3872830988739020473_70034076814360'
Started GET "/" for 127.0.0.1 at 2019-12-17 23:14:04 +0800
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 2], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (0.7ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (1) OR user_id = 2) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.5ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (3.6ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 2) LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:74
  [1m[36mLike Load (2.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:78
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mComment Load (0.3ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1 ORDER BY "comments"."created_at" ASC[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:110
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:111
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:112
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (2.7ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 2) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (4.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:108
  Rendered posts/index.html.erb within layouts/application (338.9ms)
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 2], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 2], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:39
Completed 200 OK in 1998ms (Views: 1826.9ms | ActiveRecord: 51.7ms)


Started GET "/chatlist/chat" for 127.0.0.1 at 2019-12-17 23:14:12 +0800
Processing by ChatlistController#chat as HTML
  [1m[36mUser Load (59.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering chatlist/chat.html.erb within layouts/application
  Rendered chatlist/chat.html.erb within layouts/application (9.7ms)
  [1m[36mProfile Load (2.6ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (2.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 2], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 2], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:39
Completed 200 OK in 272ms (Views: 201.1ms | ActiveRecord: 64.2ms)


Started GET "/users/index" for 127.0.0.1 at 2019-12-17 23:16:09 +0800
Processing by UsersController#index as HTML
  [1m[36mUser Load (3.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (3.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (id != 2) LIMIT $1 OFFSET $2[0m  [["LIMIT", 12], ["OFFSET", 0]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mProfile Load (0.7ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mUser Load (4.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 2]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mRequest Load (0.3ms)[0m  [1m[34mSELECT  "requests".* FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."requester_id" = $2 LIMIT $3[0m  [["requestee_id", 2], ["requester_id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:18
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 2]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 2], ["id", 1], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  Rendered users/index.html.erb within layouts/application (52.1ms)
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 2], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 2], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:39
Completed 200 OK in 212ms (Views: 183.9ms | ActiveRecord: 20.1ms)


Started GET "/requests" for 127.0.0.1 at 2019-12-17 23:16:12 +0800
Processing by RequestsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering requests/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 2]]
  ↳ app/views/requests/index.html.erb:6
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/requests/index.html.erb:8
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 2]]
  ↳ app/views/requests/index.html.erb:16
  [1m[36mRequest Load (0.4ms)[0m  [1m[34mSELECT  "requests".* FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."requester_id" = $2 LIMIT $3[0m  [["requestee_id", 2], ["requester_id", 3], ["LIMIT", 1]]
  ↳ app/views/requests/index.html.erb:17
  Rendered requests/index.html.erb within layouts/application (24.7ms)
  [1m[36mProfile Load (2.8ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (3.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 2], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 2], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:39
Completed 200 OK in 124ms (Views: 109.5ms | ActiveRecord: 8.0ms)


Started GET "/chatlist/chat" for 127.0.0.1 at 2019-12-17 23:16:14 +0800
Processing by ChatlistController#chat as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering chatlist/chat.html.erb within layouts/application
  Rendered chatlist/chat.html.erb within layouts/application (0.3ms)
  [1m[36mProfile Load (2.1ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 2], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 2], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:39
Completed 200 OK in 111ms (Views: 103.2ms | ActiveRecord: 4.4ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2019-12-17 23:32:09 +0800
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by Devise::SessionsController#new as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 317ms (ActiveRecord: 6.1ms)


Started GET "/" for 127.0.0.1 at 2019-12-17 23:32:10 +0800
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 2], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (0.7ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (1) OR user_id = 2) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (1.5ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 2) LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (2.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:74
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:78
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mComment Load (0.3ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1 ORDER BY "comments"."created_at" ASC[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:110
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:111
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:112
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 2) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (2.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:108
  Rendered posts/index.html.erb within layouts/application (154.8ms)
  [1m[35m (3.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 2], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 2], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:39
Completed 200 OK in 1083ms (Views: 990.7ms | ActiveRecord: 34.8ms)


Started GET "/chatlist/chat" for 127.0.0.1 at 2019-12-17 23:32:15 +0800
Processing by ChatlistController#chat as HTML
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Completed 500 Internal Server Error in 65ms (ActiveRecord: 1.4ms)


  
NoMethodError (undefined method `friends' for #<Class:0x0000000130a268>
Did you mean?  find):
  
app/controllers/chatlist_controller.rb:3:in `chat'
Started GET "/chatlist/chat" for 127.0.0.1 at 2019-12-17 23:33:53 +0800
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by ChatlistController#chat as HTML
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Completed 500 Internal Server Error in 72ms (ActiveRecord: 11.7ms)


  
NoMethodError (undefined method `friends' for nil:NilClass):
  
app/controllers/chatlist_controller.rb:3:in `chat'
Started GET "/" for 127.0.0.1 at 2019-12-17 23:37:05 +0800
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 2], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (0.7ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (1) OR user_id = 2) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 2) LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:74
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:78
  [1m[35m (3.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mComment Load (0.4ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1 ORDER BY "comments"."created_at" ASC[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:110
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:111
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:112
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 2) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:108
  Rendered posts/index.html.erb within layouts/application (317.0ms)
  [1m[35m (3.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 2], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 2], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:39
Completed 200 OK in 1384ms (Views: 1234.2ms | ActiveRecord: 41.2ms)


Started GET "/chatlist/chat" for 127.0.0.1 at 2019-12-17 23:37:09 +0800
Processing by ChatlistController#chat as HTML
  [1m[36mUser Load (4.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering chatlist/chat.html.erb within layouts/application
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 LIMIT $3 OFFSET $4[0m  [["requester_id", 2], ["accepted", 1], ["LIMIT", 12], ["OFFSET", 0]]
  ↳ app/views/chatlist/chat.html.erb:6
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/chatlist/chat.html.erb:9
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 2]]
  ↳ app/views/chatlist/chat.html.erb:17
  [1m[36mUser Exists (1.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 2], ["id", 1], ["LIMIT", 1]]
  ↳ app/views/chatlist/chat.html.erb:19
  Rendered chatlist/chat.html.erb within layouts/application (22.9ms)
  [1m[36mProfile Load (3.7ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 2], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 2], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:39
Completed 200 OK in 212ms (Views: 191.6ms | ActiveRecord: 12.7ms)


Started GET "/chatlist/chat" for 127.0.0.1 at 2019-12-17 23:37:16 +0800
Processing by ChatlistController#chat as HTML
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering chatlist/chat.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 LIMIT $3 OFFSET $4[0m  [["requester_id", 2], ["accepted", 1], ["LIMIT", 12], ["OFFSET", 0]]
  ↳ app/views/chatlist/chat.html.erb:6
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/chatlist/chat.html.erb:9
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 2]]
  ↳ app/views/chatlist/chat.html.erb:17
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 2], ["id", 1], ["LIMIT", 1]]
  ↳ app/views/chatlist/chat.html.erb:19
  Rendered chatlist/chat.html.erb within layouts/application (20.1ms)
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (3.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 2], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 2], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:39
Completed 200 OK in 163ms (Views: 147.8ms | ActiveRecord: 10.1ms)


Started GET "/" for 127.0.0.1 at 2019-12-17 23:46:23 +0800
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by PostsController#index as HTML
  [1m[36mUser Load (4.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (3.6ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 2], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (0.7ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (1) OR user_id = 2) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 2) LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:74
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:78
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mComment Load (0.3ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1 ORDER BY "comments"."created_at" ASC[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:110
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:111
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:112
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 2) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (2.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:108
  Rendered posts/index.html.erb within layouts/application (265.9ms)
  [1m[35m (5.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 2], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 2], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:39
Completed 200 OK in 1212ms (Views: 1015.8ms | ActiveRecord: 76.9ms)


Started GET "/chatlist/chat" for 127.0.0.1 at 2019-12-17 23:46:27 +0800
Processing by ChatlistController#chat as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering chatlist/chat.html.erb within layouts/application
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 2], ["accepted", 1]]
  ↳ app/views/chatlist/chat.html.erb:6
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/chatlist/chat.html.erb:9
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 2]]
  ↳ app/views/chatlist/chat.html.erb:17
  [1m[36mUser Exists (3.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 2], ["id", 1], ["LIMIT", 1]]
  ↳ app/views/chatlist/chat.html.erb:19
  Rendered chatlist/chat.html.erb within layouts/application (59.0ms)
Completed 500 Internal Server Error in 72ms (ActiveRecord: 10.0ms)


  
ActionView::Template::Error (undefined method `prev_page' for #<User::ActiveRecord_Associations_CollectionProxy:0x00000003a00ea8>):
    26:   </div>
    27: </div>
    28: <div class="friends-next-page-div">
    29: <%= link_to_previous_page @friends, '前一页', class: "previous-page friend-page" %>
    30: <%= link_to_next_page @friends, '后一页', class: "next-page friend-page" %>
    31: </div>
  
app/views/chatlist/chat.html.erb:29:in `_app_views_chatlist_chat_html_erb___4567659374582426099_30335780'
Started GET "/" for 127.0.0.1 at 2019-12-17 23:47:33 +0800
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by PostsController#index as HTML
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (4.8ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 2], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (2.1ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (1) OR user_id = 2) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (2.5ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 2) LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:74
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:78
  [1m[35m (2.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mComment Load (0.3ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1 ORDER BY "comments"."created_at" ASC[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:110
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:111
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:112
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 2) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (3.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:108
  Rendered posts/index.html.erb within layouts/application (268.5ms)
  [1m[35m (2.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 2], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 2], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:39
Completed 200 OK in 1279ms (Views: 1106.0ms | ActiveRecord: 64.3ms)


Started GET "/chatlist/chat" for 127.0.0.1 at 2019-12-17 23:47:45 +0800
Processing by ChatlistController#chat as HTML
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering chatlist/chat.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 2], ["accepted", 1]]
  ↳ app/views/chatlist/chat.html.erb:6
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/chatlist/chat.html.erb:9
  [1m[36mUser Load (4.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 2]]
  ↳ app/views/chatlist/chat.html.erb:17
  [1m[36mUser Exists (2.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 2], ["id", 1], ["LIMIT", 1]]
  ↳ app/views/chatlist/chat.html.erb:19
  Rendered chatlist/chat.html.erb within layouts/application (20.6ms)
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (4.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 2], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 2], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:39
Completed 200 OK in 211ms (Views: 189.2ms | ActiveRecord: 18.4ms)


Started GET "/users/index" for 127.0.0.1 at 2019-12-18 00:06:26 +0800
Processing by UsersController#index as HTML
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (3.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (id != 2) LIMIT $1 OFFSET $2[0m  [["LIMIT", 12], ["OFFSET", 0]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 2]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mRequest Load (3.7ms)[0m  [1m[34mSELECT  "requests".* FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."requester_id" = $2 LIMIT $3[0m  [["requestee_id", 2], ["requester_id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:18
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 2]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 2], ["id", 1], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  Rendered users/index.html.erb within layouts/application (41.8ms)
  [1m[36mProfile Load (4.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (2.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 2], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 2], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:39
Completed 200 OK in 229ms (Views: 189.8ms | ActiveRecord: 26.3ms)


Started GET "/chatlist/chat" for 127.0.0.1 at 2019-12-18 00:09:25 +0800
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by ChatlistController#chat as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering chatlist/chat.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 2], ["accepted", 1]]
  ↳ app/views/chatlist/chat.html.erb:6
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/chatlist/chat.html.erb:9
  [1m[36mUser Load (3.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 2]]
  ↳ app/views/chatlist/chat.html.erb:17
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 2], ["id", 1], ["LIMIT", 1]]
  ↳ app/views/chatlist/chat.html.erb:19
  Rendered chatlist/chat.html.erb within layouts/application (75.9ms)
  [1m[36mProfile Load (1.7ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (2.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 2], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 2], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:39
Completed 200 OK in 1200ms (Views: 1091.2ms | ActiveRecord: 20.5ms)


Started GET "/chatlist/chat" for 127.0.0.1 at 2019-12-18 00:09:26 +0800
Processing by ChatlistController#chat as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering chatlist/chat.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 2], ["accepted", 1]]
  ↳ app/views/chatlist/chat.html.erb:6
  [1m[36mProfile Load (3.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/chatlist/chat.html.erb:9
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 2]]
  ↳ app/views/chatlist/chat.html.erb:17
  [1m[36mUser Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 2], ["id", 1], ["LIMIT", 1]]
  ↳ app/views/chatlist/chat.html.erb:19
  Rendered chatlist/chat.html.erb within layouts/application (12.2ms)
  [1m[36mProfile Load (0.7ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 2], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 2], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:39
Completed 200 OK in 131ms (Views: 119.7ms | ActiveRecord: 7.1ms)


Started GET "/" for 127.0.0.1 at 2019-12-18 01:15:17 +0800
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 2], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (0.7ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (1) OR user_id = 2) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 2) LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:74
  [1m[36mLike Load (1.5ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:78
  [1m[35m (2.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mComment Load (0.3ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1 ORDER BY "comments"."created_at" ASC[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:110
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:111
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:112
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (2.0ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 2) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:108
  Rendered posts/index.html.erb within layouts/application (296.1ms)
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 2], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 2], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:39
Completed 200 OK in 1343ms (Views: 1187.5ms | ActiveRecord: 38.0ms)


Started GET "/" for 127.0.0.1 at 2019-12-18 01:15:19 +0800
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (3.5ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 2], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (3.8ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (0.5ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (1) OR user_id = 2) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 2) LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:74
  [1m[36mLike Load (0.7ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mProfile Load (1.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:78
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mComment Load (0.3ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1 ORDER BY "comments"."created_at" ASC[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:110
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:111
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:112
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (2.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 2) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:108
  Rendered posts/index.html.erb within layouts/application (78.1ms)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 2], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 2], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:39
Completed 200 OK in 203ms (Views: 176.0ms | ActiveRecord: 19.0ms)


Started GET "/chatlist/chat" for 127.0.0.1 at 2019-12-18 01:15:23 +0800
Processing by ChatlistController#chat as HTML
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering chatlist/chat.html.erb within layouts/application
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 LIMIT $3[0m  [["requester_id", 2], ["accepted", 1], ["LIMIT", 11]]
  ↳ /usr/lib/ruby/vendor_ruby/did_you_mean/core_ext/name_error.rb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 LIMIT $3[0m  [["requester_id", 2], ["accepted", 1], ["LIMIT", 11]]
  ↳ /usr/lib/ruby/vendor_ruby/did_you_mean/core_ext/name_error.rb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 LIMIT $3[0m  [["requester_id", 2], ["accepted", 1], ["LIMIT", 11]]
  ↳ /usr/lib/ruby/vendor_ruby/did_you_mean/core_ext/name_error.rb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 LIMIT $3[0m  [["requester_id", 2], ["accepted", 1], ["LIMIT", 11]]
  ↳ /usr/lib/ruby/vendor_ruby/did_you_mean/core_ext/name_error.rb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 LIMIT $3[0m  [["requester_id", 2], ["accepted", 1], ["LIMIT", 11]]
  ↳ /usr/lib/ruby/vendor_ruby/did_you_mean/core_ext/name_error.rb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 LIMIT $3[0m  [["requester_id", 2], ["accepted", 1], ["LIMIT", 11]]
  ↳ /usr/lib/ruby/vendor_ruby/did_you_mean/core_ext/name_error.rb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 LIMIT $3[0m  [["requester_id", 2], ["accepted", 1], ["LIMIT", 11]]
  ↳ /usr/lib/ruby/vendor_ruby/did_you_mean/core_ext/name_error.rb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 LIMIT $3[0m  [["requester_id", 2], ["accepted", 1], ["LIMIT", 11]]
  ↳ /usr/lib/ruby/vendor_ruby/did_you_mean/core_ext/name_error.rb:6
  Rendered chatlist/chat.html.erb within layouts/application (782.8ms)
Completed 500 Internal Server Error in 797ms (ActiveRecord: 4.7ms)


  
ActionView::Template::Error (undefined local variable or method `contact_active' for #<#<Class:0x007fec9f271968>:0x007fec9f247e38>):
    4:   </div>
    5:   <div class="panel-body" id="tab-panel-body">
    6:     <div class="tab-content">
    7:       <div class="tab-pane fade in <%= contact_active %>" id="contact-tab">
    8:         <ul class="list-group">
    9:           <% @friends.each do |friend| %>
   10:             <li class="list-group-item" style="padding: 0px; margin-bottom: 0px;">
  
app/views/chatlist/chat.html.erb:7:in `_app_views_chatlist_chat_html_erb__2418319711040500086_70327129575680'
Started GET "/" for 127.0.0.1 at 2019-12-18 01:17:13 +0800
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by PostsController#index as HTML
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 2], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (1.6ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (1) OR user_id = 2) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 2) LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:74
  [1m[36mLike Load (1.0ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:78
  [1m[35m (4.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mComment Load (0.3ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1 ORDER BY "comments"."created_at" ASC[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:110
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:111
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:112
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 2) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:108
  Rendered posts/index.html.erb within layouts/application (294.3ms)
  [1m[35m (3.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 2], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 2], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:39
Completed 200 OK in 1289ms (Views: 1121.6ms | ActiveRecord: 47.7ms)


Started GET "/chatlist/chat" for 127.0.0.1 at 2019-12-18 01:17:19 +0800
Processing by ChatlistController#chat as HTML
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering chatlist/chat.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 2], ["accepted", 1]]
  ↳ app/views/chatlist/chat.html.erb:9
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/chatlist/chat.html.erb:12
  Rendered chatlist/chat.html.erb within layouts/application (386.6ms)
Completed 500 Internal Server Error in 399ms (ActiveRecord: 3.2ms)


  
ActionView::Template::Error (undefined method `user_path' for #<#<Class:0x007f2c23008e98>:0x007f2c23013528>
Did you mean?  users_index_path):
    16:                 </button>
    17: 
    18:               <div id="user-<%= friend.id %>" class="collapse">
    19:                   <%= link_to user_path(friend), class: 'btn btn-info btn-block', role: "button", style: "border-radius: 0" do %>
    20:                       <i class="fa fa-angle-right"></i> 发起聊天
    21:                   <% end %>
    22:                   <%= link_to user_path(friend), class: 'btn btn-info btn-block', role: "button", style: "border-radius: 0" do %>
  
app/views/chatlist/chat.html.erb:19:in `block in _app_views_chatlist_chat_html_erb__2920863980437311309_69913771264920'
app/views/chatlist/chat.html.erb:9:in `_app_views_chatlist_chat_html_erb__2920863980437311309_69913771264920'
Started GET "/chatlist/chat" for 127.0.0.1 at 2019-12-18 01:20:27 +0800
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by ChatlistController#chat as HTML
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering chatlist/chat.html.erb within layouts/application
  Rendered chatlist/chat.html.erb within layouts/application (0.9ms)
Completed 500 Internal Server Error in 99ms (ActiveRecord: 4.6ms)


  
SyntaxError (/home/yicheng/sda4/share/findYourCpNow/app/views/chatlist/chat.html.erb:19: syntax error, unexpected tLABEL
...link_to(friend.profile), class: 'btn btn-info btn-block', ro...
...                               ^
/home/yicheng/sda4/share/findYourCpNow/app/views/chatlist/chat.html.erb:19: syntax error, unexpected ',', expecting keyword_end
...lass: 'btn btn-info btn-block', role: "button", style: "bord...
...                               ^
/home/yicheng/sda4/share/findYourCpNow/app/views/chatlist/chat.html.erb:19: syntax error, unexpected ',', expecting keyword_end
...nfo btn-block', role: "button", style: "border-radius: 0" do...
...                               ^
/home/yicheng/sda4/share/findYourCpNow/app/views/chatlist/chat.html.erb:19: syntax error, unexpected keyword_do, expecting keyword_end
...", style: "border-radius: 0" do @output_buffer.safe_append='
...                               ^
/home/yicheng/sda4/share/findYourCpNow/app/views/chatlist/chat.html.erb:22: syntax error, unexpected tLABEL
...link_to(friend.profile), class: 'btn btn-info btn-block', ro...
...                               ^
/home/yicheng/sda4/share/findYourCpNow/app/views/chatlist/chat.html.erb:22: syntax error, unexpected ',', expecting keyword_end
...lass: 'btn btn-info btn-block', role: "button", style: "bord...
...                               ^
/home/yicheng/sda4/share/findYourCpNow/app/views/chatlist/chat.html.erb:22: syntax error, unexpected ',', expecting keyword_end
...nfo btn-block', role: "button", style: "border-radius: 0" do...
...                               ^
/home/yicheng/sda4/share/findYourCpNow/app/views/chatlist/chat.html.erb:22: syntax error, unexpected keyword_do, expecting keyword_end
...", style: "border-radius: 0" do @output_buffer.safe_append='
...                               ^
/home/yicheng/sda4/share/findYourCpNow/app/views/chatlist/chat.html.erb:27: syntax error, unexpected keyword_end, expecting end-of-input
'.freeze;            end 
                        ^):
  
app/views/chatlist/chat.html.erb:19: syntax error, unexpected tLABEL
app/views/chatlist/chat.html.erb:19: syntax error, unexpected ',', expecting keyword_end
app/views/chatlist/chat.html.erb:19: syntax error, unexpected ',', expecting keyword_end
app/views/chatlist/chat.html.erb:19: syntax error, unexpected keyword_do, expecting keyword_end
app/views/chatlist/chat.html.erb:22: syntax error, unexpected tLABEL
app/views/chatlist/chat.html.erb:22: syntax error, unexpected ',', expecting keyword_end
app/views/chatlist/chat.html.erb:22: syntax error, unexpected ',', expecting keyword_end
app/views/chatlist/chat.html.erb:22: syntax error, unexpected keyword_do, expecting keyword_end
app/views/chatlist/chat.html.erb:27: syntax error, unexpected keyword_end, expecting end-of-input
Started GET "/" for 127.0.0.1 at 2019-12-18 01:21:42 +0800
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by PostsController#index as HTML
  [1m[36mUser Load (4.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 2], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (0.7ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (1) OR user_id = 2) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 2) LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:74
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mProfile Load (2.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:78
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mComment Load (0.5ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1 ORDER BY "comments"."created_at" ASC[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:110
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:111
  [1m[36mCACHE Profile Load (0.1ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:112
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (3.1ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 2) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:108
  Rendered posts/index.html.erb within layouts/application (305.1ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 2], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 2], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:39
Completed 200 OK in 1272ms (Views: 1112.8ms | ActiveRecord: 43.4ms)


Started GET "/chatlist/chat" for 127.0.0.1 at 2019-12-18 01:21:47 +0800
Processing by ChatlistController#chat as HTML
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering chatlist/chat.html.erb within layouts/application
  Rendered chatlist/chat.html.erb within layouts/application (0.8ms)
Completed 500 Internal Server Error in 14ms (ActiveRecord: 2.1ms)


  
SyntaxError (/home/yicheng/sda4/share/findYourCpNow/app/views/chatlist/chat.html.erb:19: syntax error, unexpected tLABEL, expecting keyword_end
... link_to(friend.profile) class: 'btn btn-info btn-block', ro...
...                               ^
/home/yicheng/sda4/share/findYourCpNow/app/views/chatlist/chat.html.erb:19: syntax error, unexpected ',', expecting keyword_end
...lass: 'btn btn-info btn-block', role: "button", style: "bord...
...                               ^
/home/yicheng/sda4/share/findYourCpNow/app/views/chatlist/chat.html.erb:19: syntax error, unexpected ',', expecting keyword_end
...nfo btn-block', role: "button", style: "border-radius: 0" do...
...                               ^
/home/yicheng/sda4/share/findYourCpNow/app/views/chatlist/chat.html.erb:19: syntax error, unexpected keyword_do, expecting keyword_end
...", style: "border-radius: 0" do @output_buffer.safe_append='
...                               ^
/home/yicheng/sda4/share/findYourCpNow/app/views/chatlist/chat.html.erb:22: syntax error, unexpected tLABEL, expecting keyword_end
... link_to(friend.profile) class: 'btn btn-info btn-block', ro...
...                               ^
/home/yicheng/sda4/share/findYourCpNow/app/views/chatlist/chat.html.erb:22: syntax error, unexpected ',', expecting keyword_end
...lass: 'btn btn-info btn-block', role: "button", style: "bord...
...                               ^
/home/yicheng/sda4/share/findYourCpNow/app/views/chatlist/chat.html.erb:22: syntax error, unexpected ',', expecting keyword_end
...nfo btn-block', role: "button", style: "border-radius: 0" do...
...                               ^
/home/yicheng/sda4/share/findYourCpNow/app/views/chatlist/chat.html.erb:22: syntax error, unexpected keyword_do, expecting keyword_end
...", style: "border-radius: 0" do @output_buffer.safe_append='
...                               ^
/home/yicheng/sda4/share/findYourCpNow/app/views/chatlist/chat.html.erb:27: syntax error, unexpected keyword_end, expecting end-of-input
'.freeze;            end 
                        ^):
  
app/views/chatlist/chat.html.erb:19: syntax error, unexpected tLABEL, expecting keyword_end
app/views/chatlist/chat.html.erb:19: syntax error, unexpected ',', expecting keyword_end
app/views/chatlist/chat.html.erb:19: syntax error, unexpected ',', expecting keyword_end
app/views/chatlist/chat.html.erb:19: syntax error, unexpected keyword_do, expecting keyword_end
app/views/chatlist/chat.html.erb:22: syntax error, unexpected tLABEL, expecting keyword_end
app/views/chatlist/chat.html.erb:22: syntax error, unexpected ',', expecting keyword_end
app/views/chatlist/chat.html.erb:22: syntax error, unexpected ',', expecting keyword_end
app/views/chatlist/chat.html.erb:22: syntax error, unexpected keyword_do, expecting keyword_end
app/views/chatlist/chat.html.erb:27: syntax error, unexpected keyword_end, expecting end-of-input
Started GET "/" for 127.0.0.1 at 2019-12-18 01:22:54 +0800
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (3.5ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 2], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (6.1ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (1) OR user_id = 2) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (1.7ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 2) LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (2.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:74
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mProfile Load (2.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:78
  [1m[35m (5.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mComment Load (0.3ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1 ORDER BY "comments"."created_at" ASC[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:110
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:111
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:112
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (2.5ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 2) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:108
  Rendered posts/index.html.erb within layouts/application (256.2ms)
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 2], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 2], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:39
Completed 200 OK in 1133ms (Views: 964.0ms | ActiveRecord: 59.6ms)


Started GET "/chatlist/chat" for 127.0.0.1 at 2019-12-18 01:22:58 +0800
Processing by ChatlistController#chat as HTML
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering chatlist/chat.html.erb within layouts/application
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 2], ["accepted", 1]]
  ↳ app/views/chatlist/chat.html.erb:9
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/chatlist/chat.html.erb:12
  Rendered chatlist/chat.html.erb within layouts/application (20.4ms)
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 2], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 2], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:39
Completed 200 OK in 123ms (Views: 111.0ms | ActiveRecord: 8.3ms)


Started GET "/profiles/1" for 127.0.0.1 at 2019-12-18 01:23:10 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (1.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mUser Load (4.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 2]]
  ↳ app/views/profiles/show.html.erb:22
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 2], ["id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:24
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:60
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["requester_id", 1], ["accepted", 1], ["LIMIT", 4]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[36mProfile Load (1.9ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:65
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:65
  [1m[35m (2.0ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:79
  [1m[36mPost Load (1.1ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:80
  [1m[36mLike Exists (2.6ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 2) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:107
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:119
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:157
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:181
  Rendered profiles/show.html.erb within layouts/application (47.6ms)
  [1m[35m (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 2], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 2], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:39
Completed 200 OK in 213ms (Views: 177.5ms | ActiveRecord: 22.0ms)


Started GET "/requests" for 127.0.0.1 at 2019-12-18 01:23:20 +0800
Processing by RequestsController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering requests/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 2]]
  ↳ app/views/requests/index.html.erb:6
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/requests/index.html.erb:8
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 2]]
  ↳ app/views/requests/index.html.erb:16
  [1m[36mRequest Load (2.2ms)[0m  [1m[34mSELECT  "requests".* FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."requester_id" = $2 LIMIT $3[0m  [["requestee_id", 2], ["requester_id", 3], ["LIMIT", 1]]
  ↳ app/views/requests/index.html.erb:17
  Rendered requests/index.html.erb within layouts/application (37.9ms)
  [1m[36mProfile Load (0.6ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (2.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 2], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 2], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:39
Completed 200 OK in 155ms (Views: 132.7ms | ActiveRecord: 9.5ms)


Started PUT "/requests/3?request%5Brequester_id%5D=3" for 127.0.0.1 at 2019-12-18 01:23:21 +0800
Processing by RequestsController#update as HTML
  Parameters: {"authenticity_token"=>"hkilGrI1OlQlOLzZaDcNZEnDIzWGzadhRmI+oKtJJ6VxNl4RX8HTGv7DYxuY/aFOxvTrD76lh4BrHB/K0I0LJg==", "request"=>{"requester_id"=>"3"}, "id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRequest Load (0.3ms)[0m  [1m[34mSELECT  "requests".* FROM "requests" WHERE "requests"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/requests_controller.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/request.rb:6
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/request.rb:6
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/request.rb:6
  [1m[36mRequest Update (2.6ms)[0m  [1m[33mUPDATE "requests" SET "accepted" = $1, "updated_at" = $2 WHERE "requests"."id" = $3[0m  [["accepted", 1], ["updated_at", "2019-12-17 17:23:21.479137"], ["id", 3]]
  ↳ app/models/request.rb:6
  [1m[35m (4.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/request.rb:6
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/request.rb:7
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/request.rb:7
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/request.rb:7
  [1m[36mRequest Create (1.4ms)[0m  [1m[32mINSERT INTO "requests" ("requester_id", "requestee_id", "accepted", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["requester_id", 2], ["requestee_id", 3], ["accepted", 1], ["created_at", "2019-12-17 17:23:21.494499"], ["updated_at", "2019-12-17 17:23:21.494499"]]
  ↳ app/models/request.rb:7
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/request.rb:7
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/requests_controller.rb:16
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/controllers/requests_controller.rb:16
Redirected to http://localhost:3000/profiles/3
Completed 302 Found in 35ms (ActiveRecord: 14.8ms)


Started GET "/profiles/3" for 127.0.0.1 at 2019-12-18 01:23:21 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (1.1ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 2]]
  ↳ app/views/profiles/show.html.erb:22
  [1m[36mUser Exists (3.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 2], ["id", 3], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:24
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 3], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:60
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["requester_id", 3], ["accepted", 1], ["LIMIT", 4]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[36mProfile Load (3.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:65
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:65
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 3], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:79
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["user_id", 3], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:80
  [1m[36mLike Exists (2.9ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 2) LIMIT $2[0m  [["post_id", 3], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:107
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/profiles/show.html.erb:119
  [1m[35m (3.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/profiles/show.html.erb:157
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:181
  Rendered profiles/show.html.erb within layouts/application (45.1ms)
  [1m[35m (5.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 2], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 194ms (Views: 160.6ms | ActiveRecord: 25.2ms)


Started GET "/chatlist/chat" for 127.0.0.1 at 2019-12-18 01:23:24 +0800
Processing by ChatlistController#chat as HTML
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering chatlist/chat.html.erb within layouts/application
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 2], ["accepted", 1]]
  ↳ app/views/chatlist/chat.html.erb:9
  [1m[36mProfile Load (4.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/chatlist/chat.html.erb:12
  [1m[36mProfile Load (2.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/chatlist/chat.html.erb:12
  Rendered chatlist/chat.html.erb within layouts/application (15.7ms)
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (2.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 2], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 162ms (Views: 145.7ms | ActiveRecord: 11.7ms)


Started GET "/chatlist/chat" for 127.0.0.1 at 2019-12-18 01:24:57 +0800
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by ChatlistController#chat as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering chatlist/chat.html.erb within layouts/application
  [1m[36mUser Load (4.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 2], ["accepted", 1]]
  ↳ app/views/chatlist/chat.html.erb:9
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/chatlist/chat.html.erb:12
  [1m[36mProfile Load (4.9ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/chatlist/chat.html.erb:12
  Rendered chatlist/chat.html.erb within layouts/application (72.8ms)
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 2], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 1119ms (Views: 1021.6ms | ActiveRecord: 26.4ms)


  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(372903447937791960)[0m
  ↳ bin/rails:9
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
Migrating to CreateRooms (20191216113935)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ bin/rails:9
  [1m[35m (32.3ms)[0m  [1m[35mCREATE TABLE "rooms" ("id" bigserial primary key, "name" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  ↳ db/migrate/20191216113935_create_rooms.rb:3
  [1m[35m (1.5ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_rooms_on_name" ON "rooms"  ("name")[0m
  ↳ db/migrate/20191216113935_create_rooms.rb:8
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20191216113935"]]
  ↳ bin/rails:9
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ bin/rails:9
Migrating to CreateRoomMessages (20191216114025)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ bin/rails:9
  [1m[35m (12.8ms)[0m  [1m[35mCREATE TABLE "room_messages" ("id" bigserial primary key, "room_id" bigint, "user_id" bigint, "message" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_8ed44f6e34"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
, CONSTRAINT "fk_rails_76bc7b974e"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  ↳ db/migrate/20191216114025_create_room_messages.rb:3
  [1m[35m (1.5ms)[0m  [1m[35mCREATE  INDEX  "index_room_messages_on_room_id" ON "room_messages"  ("room_id")[0m
  ↳ db/migrate/20191216114025_create_room_messages.rb:3
  [1m[35m (1.4ms)[0m  [1m[35mCREATE  INDEX  "index_room_messages_on_user_id" ON "room_messages"  ("user_id")[0m
  ↳ db/migrate/20191216114025_create_room_messages.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20191216114025"]]
  ↳ bin/rails:9
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (8.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  ↳ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(372903447937791960)[0m
  ↳ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
Started GET "/" for 127.0.0.1 at 2020-01-15 09:48:23 +0800
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 23ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2020-01-15 09:48:24 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1591.2ms)
Completed 200 OK in 1954ms (Views: 1911.0ms | ActiveRecord: 5.5ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2020-01-15 09:48:41 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"LV3GfTjCOCBs2FLubhMQysCJJ9jsqYuTGtZwmuxT9c8XDWbm0kMgiJ7me5BbB76oGPgh6ER6todit01jI+PQQA==", "user"=>{"email"=>"wangyicheng215@mails.ucas.ac.cn", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"提交"}
  [1m[36mUser Load (17.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "wangyicheng215@mails.ucas.ac.cn"], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (3.6ms)[0m  [1m[33mUPDATE "users" SET "remember_created_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_created_at", "2020-01-15 09:48:41.450805"], ["updated_at", "2020-01-15 09:48:41.451918"], ["id", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (3.7ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 6], ["current_sign_in_at", "2020-01-15 09:48:41.459426"], ["last_sign_in_at", "2019-12-17 07:58:15.830776"], ["updated_at", "2020-01-15 09:48:41.460233"], ["id", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 284ms (ActiveRecord: 26.9ms)


Started GET "/" for 127.0.0.1 at 2020-01-15 09:48:41 +0800
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (2.4ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (2.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (3.1ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (2,3) OR user_id = 1) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  [1m[36mUser Load (4.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (2.2ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:63
  [1m[35m (6.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:74
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:78
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mComment Load (0.3ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1 ORDER BY "comments"."created_at" ASC[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:110
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:111
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:112
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (5.9ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:108
  Rendered posts/index.html.erb within layouts/application (155.0ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 321ms (Views: 210.7ms | ActiveRecord: 52.8ms)


Started GET "/chatroom" for 127.0.0.1 at 2020-01-15 09:48:57 +0800
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "public_room"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:3
Completed 500 Internal Server Error in 35ms (ActiveRecord: 8.2ms)


  
NoMethodError (undefined method `room_messages' for nil:NilClass):
  
app/controllers/rooms_controller.rb:5:in `index'
Started GET "/" for 127.0.0.1 at 2020-01-15 09:49:09 +0800
Processing by PostsController#index as HTML
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (3.6ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (8.8ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (5.7ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (2,3) OR user_id = 1) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (5.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (5.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (4.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:63
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:74
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:78
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mComment Load (0.2ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1 ORDER BY "comments"."created_at" ASC[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:110
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:111
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:112
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (2.2ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:108
  Rendered posts/index.html.erb within layouts/application (82.6ms)
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 188ms (Views: 138.7ms | ActiveRecord: 42.7ms)


Started GET "/" for 127.0.0.1 at 2020-01-15 09:49:14 +0800
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (2.4ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (0.7ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (2,3) OR user_id = 1) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  [1m[36mUser Load (3.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (2.5ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (2.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (5.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:63
  [1m[35m (2.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:74
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:78
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mComment Load (0.4ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1 ORDER BY "comments"."created_at" ASC[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:110
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:111
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:112
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (7.2ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:108
  Rendered posts/index.html.erb within layouts/application (91.5ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 195ms (Views: 152.1ms | ActiveRecord: 34.6ms)


Started GET "/" for 127.0.0.1 at 2020-01-15 09:49:17 +0800
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (8.9ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (4.9ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (2,3) OR user_id = 1) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (4.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (3.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:63
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:74
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:78
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mComment Load (0.2ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1 ORDER BY "comments"."created_at" ASC[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:110
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:111
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:112
  [1m[36mCACHE User Load (2.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (1.9ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:108
  Rendered posts/index.html.erb within layouts/application (84.9ms)
  [1m[35m (3.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 198ms (Views: 153.4ms | ActiveRecord: 36.8ms)


Started GET "/profiles/1" for 127.0.0.1 at 2020-01-15 09:49:18 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (1.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mProfile Load (0.8ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:31
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["requester_id", 1], ["accepted", 1], ["LIMIT", 4]]
  ↳ app/views/profiles/show.html.erb:66
  [1m[36mProfile Load (2.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:82
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:83
  [1m[36mLike Exists (4.7ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:110
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:122
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:160
  Rendered profiles/show.html.erb within layouts/application (42.4ms)
  [1m[35m (3.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 151ms (Views: 123.6ms | ActiveRecord: 19.5ms)


Started GET "/profiles/3" for 127.0.0.1 at 2020-01-15 09:49:22 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (1.8ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/profiles/show.html.erb:22
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 3], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:24
  [1m[35m (2.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 3], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["requester_id", 3], ["accepted", 1], ["LIMIT", 4]]
  ↳ app/views/profiles/show.html.erb:66
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (2.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 3], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:82
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["user_id", 3], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:83
  [1m[36mLike Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 3], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:110
  [1m[35m (2.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/profiles/show.html.erb:122
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/profiles/show.html.erb:160
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:184
  Rendered profiles/show.html.erb within layouts/application (47.5ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 148ms (Views: 126.3ms | ActiveRecord: 13.7ms)


Started GET "/profiles/2" for 127.0.0.1 at 2020-01-15 09:49:24 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/profiles/show.html.erb:22
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:24
  [1m[35m (2.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 2], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["requester_id", 2], ["accepted", 1], ["LIMIT", 4]]
  ↳ app/views/profiles/show.html.erb:66
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 2], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:82
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["user_id", 2], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:83
  [1m[36mLike Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:110
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:115
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/profiles/show.html.erb:122
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/profiles/show.html.erb:126
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:128
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:128
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:130
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/profiles/show.html.erb:160
  [1m[36mComment Load (0.7ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1 ORDER BY "comments"."created_at" ASC[0m  [["post_id", 2]]
  ↳ app/views/profiles/show.html.erb:162
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:163
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:164
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:184
  Rendered profiles/show.html.erb within layouts/application (60.3ms)
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 167ms (Views: 143.7ms | ActiveRecord: 18.8ms)


Started GET "/chatroom" for 127.0.0.1 at 2020-01-15 09:49:28 +0800
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "public_room"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:3
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.6ms)


  
NoMethodError (undefined method `room_messages' for nil:NilClass):
  
app/controllers/rooms_controller.rb:5:in `index'
Started GET "/profiles/2" for 127.0.0.1 at 2020-01-15 09:49:54 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/profiles/show.html.erb:22
  [1m[36mUser Exists (2.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:24
  [1m[35m (7.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 2], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["requester_id", 2], ["accepted", 1], ["LIMIT", 4]]
  ↳ app/views/profiles/show.html.erb:66
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 2], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:82
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["user_id", 2], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:83
  [1m[36mLike Exists (4.7ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:110
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:115
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/profiles/show.html.erb:122
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/profiles/show.html.erb:126
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:128
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:128
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:130
  [1m[35m (7.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/profiles/show.html.erb:160
  [1m[36mComment Load (0.3ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1 ORDER BY "comments"."created_at" ASC[0m  [["post_id", 2]]
  ↳ app/views/profiles/show.html.erb:162
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:163
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:164
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:184
  Rendered profiles/show.html.erb within layouts/application (57.2ms)
  [1m[35m (4.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 159ms (Views: 118.9ms | ActiveRecord: 32.3ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2020-01-15 09:49:58 +0800
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"50MbsL50ooxmhfBqmMQlt2wsBHPw70fp2FdIDT1nbhUSoKkNfY50a48vAcvKChFZ/59u7aJZ7ufPLKE5jWeNmQ=="}
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (2.4ms)[0m  [1m[33mUPDATE "users" SET "remember_created_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_created_at", nil], ["updated_at", "2020-01-15 09:49:58.356210"], ["id", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 14ms (ActiveRecord: 6.3ms)


Started GET "/" for 127.0.0.1 at 2020-01-15 09:49:58 +0800
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2020-01-15 09:49:58 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (5.4ms)
Completed 200 OK in 98ms (Views: 97.2ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2020-01-15 09:50:01 +0800
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/registrations/new.html.erb within layouts/application (2.6ms)
Completed 200 OK in 98ms (Views: 97.2ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2020-01-15 09:50:55 +0800
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"i1tCf2QrJXCpqzUnuHGOSZe98iIwFjEUJqIHLPAhkEU0wLw4nKy75r/IvCnLxB2najNmEjVehik+0/I9D3ZvDg==", "user"=>{"first_name"=>"Qin", "last_name"=>"Zheng", "email"=>"qinzheng15@mails.ucas.ac.cn", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"注册"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "qinzheng15@mails.ucas.ac.cn"], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Create (2.5ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Qin"], ["last_name", "Zheng"], ["email", "qinzheng15@mails.ucas.ac.cn"], ["encrypted_password", "$2a$11$NzxghY1DWXl9cAzjDofdne9VuM9sMnamZA7LdZf6NRM1z6Kgr6.oO"], ["created_at", "2020-01-15 09:50:55.817471"], ["updated_at", "2020-01-15 09:50:55.817471"]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Create (1.0ms)[0m  [1m[32mINSERT INTO "profiles" ("user_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["user_id", 4], ["created_at", "2020-01-15 09:50:55.822244"], ["updated_at", "2020-01-15 09:50:55.822244"]]
  ↳ app/models/user.rb:52
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:52
  [1m[35m (2.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (1.6ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2020-01-15 09:50:55.830606"], ["last_sign_in_at", "2020-01-15 09:50:55.830606"], ["current_sign_in_ip", "127.0.0.1/32"], ["last_sign_in_ip", "127.0.0.1/32"], ["updated_at", "2020-01-15 09:50:55.831355"], ["id", 4]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 241ms (ActiveRecord: 9.7ms)


Started GET "/" for 127.0.0.1 at 2020-01-15 09:50:55 +0800
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 4], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (1.5ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (NULL) OR user_id = 4) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  Rendered posts/index.html.erb within layouts/application (15.8ms)
  [1m[35m (2.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 4], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 118ms (Views: 105.2ms | ActiveRecord: 5.3ms)


Started POST "/posts" for 127.0.0.1 at 2020-01-15 09:51:12 +0800
Processing by PostsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"0eXmCciaD/j2sRtjsP74mYfegeGOF0e/0XiqZl6DBYwicQtRfull+iv/cB55MNwypCvTMkOCKwMrlKRkZHqgXg==", "post"=>{"content"=>"Hello everyone"}, "commit"=>"发布"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/posts_controller.rb:13
  [1m[36mPost Create (7.1ms)[0m  [1m[32mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "Hello everyone"], ["user_id", 4], ["created_at", "2020-01-15 09:51:12.669992"], ["updated_at", "2020-01-15 09:51:12.669992"]]
  ↳ app/controllers/posts_controller.rb:13
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/posts_controller.rb:13
Redirected to http://localhost:3000/
Completed 302 Found in 16ms (ActiveRecord: 9.4ms)


Started GET "/" for 127.0.0.1 at 2020-01-15 09:51:12 +0800
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (7.2ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 4], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (0.6ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (NULL) OR user_id = 4) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (7.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 4) LIMIT $2[0m  [["post_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:108
  Rendered posts/index.html.erb within layouts/application (26.9ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 4], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 139ms (Views: 115.9ms | ActiveRecord: 17.0ms)


Started GET "/users/index" for 127.0.0.1 at 2020-01-15 09:51:23 +0800
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (3.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (id != 4) LIMIT $1 OFFSET $2[0m  [["LIMIT", 12], ["OFFSET", 0]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 4]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 4], ["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mUser Exists (2.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requester_id", 4], ["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:20
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 4]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 4], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mUser Exists (4.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requester_id", 4], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:20
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 4]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 4], ["id", 1], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mUser Exists (4.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requester_id", 4], ["id", 1], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:20
  Rendered users/index.html.erb within layouts/application (42.0ms)
  [1m[36mProfile Load (3.7ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 4], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 136ms (Views: 104.7ms | ActiveRecord: 26.0ms)


Started POST "/requests?request%5Brequestee_id%5D=3" for 127.0.0.1 at 2020-01-15 09:51:25 +0800
Processing by RequestsController#create as HTML
  Parameters: {"authenticity_token"=>"5xWOCYxZg0BbM4gkStQ5g2/SGgq/vA3O2IBDEqNe+tQUgWNROirpQoZ941mDGh0oTCdI2XIpYXIibE0QmadfBg==", "request"=>{"requestee_id"=>"3"}}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/requests_controller.rb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/requests_controller.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/requests_controller.rb:4
  [1m[36mRequest Create (0.8ms)[0m  [1m[32mINSERT INTO "requests" ("requester_id", "requestee_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["requester_id", 4], ["requestee_id", 3], ["created_at", "2020-01-15 09:51:25.484122"], ["updated_at", "2020-01-15 09:51:25.484122"]]
  ↳ app/controllers/requests_controller.rb:4
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/requests_controller.rb:4
Redirected to http://localhost:3000/
Completed 302 Found in 33ms (ActiveRecord: 8.2ms)


Started GET "/" for 127.0.0.1 at 2020-01-15 09:51:25 +0800
Processing by PostsController#index as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (5.5ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 4], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (2.1ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (5.5ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (NULL) OR user_id = 4) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 4) LIMIT $2[0m  [["post_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (6.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:108
  Rendered posts/index.html.erb within layouts/application (28.9ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 4], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 137ms (Views: 111.0ms | ActiveRecord: 21.3ms)


Started GET "/users/index" for 127.0.0.1 at 2020-01-15 09:51:27 +0800
Processing by UsersController#index as HTML
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (id != 4) LIMIT $1 OFFSET $2[0m  [["LIMIT", 12], ["OFFSET", 0]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mProfile Load (1.6ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 4]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (3.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 4], ["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requester_id", 4], ["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:20
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 4]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 4], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mUser Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requester_id", 4], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:20
  [1m[36mProfile Load (4.7ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 4]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 4], ["id", 1], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requester_id", 4], ["id", 1], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:20
  Rendered users/index.html.erb within layouts/application (36.7ms)
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 4], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 145ms (Views: 121.8ms | ActiveRecord: 18.0ms)


Started POST "/requests?request%5Brequestee_id%5D=2" for 127.0.0.1 at 2020-01-15 09:51:29 +0800
Processing by RequestsController#create as HTML
  Parameters: {"authenticity_token"=>"PJM9bzyf5at1fpGkfQCXdm9D5yNUFV7+tucfx+2SLcbPB9A3iuyPqagw+tm0zrPdTLa18JmAMkJMCxHF12uIFA==", "request"=>{"requestee_id"=>"2"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (2.8ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/requests_controller.rb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/requests_controller.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/requests_controller.rb:4
  [1m[36mRequest Create (0.3ms)[0m  [1m[32mINSERT INTO "requests" ("requester_id", "requestee_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["requester_id", 4], ["requestee_id", 2], ["created_at", "2020-01-15 09:51:29.149232"], ["updated_at", "2020-01-15 09:51:29.149232"]]
  ↳ app/controllers/requests_controller.rb:4
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/requests_controller.rb:4
Redirected to http://localhost:3000/
Completed 302 Found in 16ms (ActiveRecord: 6.2ms)


Started GET "/" for 127.0.0.1 at 2020-01-15 09:51:29 +0800
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (2.8ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 4], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (3.1ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (NULL) OR user_id = 4) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 4) LIMIT $2[0m  [["post_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:108
  Rendered posts/index.html.erb within layouts/application (36.4ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 4], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 133ms (Views: 119.6ms | ActiveRecord: 8.5ms)


Started GET "/users/index" for 127.0.0.1 at 2020-01-15 09:51:31 +0800
Processing by UsersController#index as HTML
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (id != 4) LIMIT $1 OFFSET $2[0m  [["LIMIT", 12], ["OFFSET", 0]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mProfile Load (1.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mUser Load (3.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 4]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 4], ["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requester_id", 4], ["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:20
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 4]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 4], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requester_id", 4], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:20
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 4]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 4], ["id", 1], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requester_id", 4], ["id", 1], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:20
  Rendered users/index.html.erb within layouts/application (36.0ms)
  [1m[36mProfile Load (0.5ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 4], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 139ms (Views: 125.6ms | ActiveRecord: 10.7ms)


Started POST "/requests?request%5Brequestee_id%5D=1" for 127.0.0.1 at 2020-01-15 09:51:32 +0800
Processing by RequestsController#create as HTML
  Parameters: {"authenticity_token"=>"KtMloxd0wePZLkuqUj5Zhzzeg5cKhEE8WDvz/TdME2TZR8j7oQer4QRgINeb8H0sHyvRRMcRLYCi1/3/DbW2tg==", "request"=>{"requestee_id"=>"1"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/requests_controller.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/requests_controller.rb:4
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/requests_controller.rb:4
  [1m[36mRequest Create (1.4ms)[0m  [1m[32mINSERT INTO "requests" ("requester_id", "requestee_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["requester_id", 4], ["requestee_id", 1], ["created_at", "2020-01-15 09:51:32.422209"], ["updated_at", "2020-01-15 09:51:32.422209"]]
  ↳ app/controllers/requests_controller.rb:4
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/requests_controller.rb:4
Redirected to http://localhost:3000/
Completed 302 Found in 14ms (ActiveRecord: 5.0ms)


Started GET "/" for 127.0.0.1 at 2020-01-15 09:51:32 +0800
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (2.7ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 4], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (2.1ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (3.7ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (NULL) OR user_id = 4) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 4) LIMIT $2[0m  [["post_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (2.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:108
  Rendered posts/index.html.erb within layouts/application (33.9ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 4], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 145ms (Views: 122.1ms | ActiveRecord: 15.7ms)


Started GET "/chatroom" for 127.0.0.1 at 2020-01-15 09:51:35 +0800
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "public_room"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:3
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.6ms)


  
NoMethodError (undefined method `room_messages' for nil:NilClass):
  
app/controllers/rooms_controller.rb:5:in `index'
Started GET "/" for 127.0.0.1 at 2020-01-15 09:56:26 +0800
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 20ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2020-01-15 09:56:26 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (624.2ms)
Completed 200 OK in 816ms (Views: 758.5ms | ActiveRecord: 3.6ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2020-01-15 09:56:32 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"GmQrdJ7kiKzmy3UV2j9qmEGPXpnExdjRsd1u0Vzm31KqGyy7ierM0M9bZEe1hyHtYmZbKenQl+/zJlIUvDHvEg==", "user"=>{"email"=>"qinzheng15@mails.ucas.ac.cn", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"提交"}
  [1m[36mUser Load (4.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "qinzheng15@mails.ucas.ac.cn"], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "remember_created_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_created_at", "2020-01-15 09:56:32.351353"], ["updated_at", "2020-01-15 09:56:32.352495"], ["id", 4]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["sign_in_count", 2], ["current_sign_in_at", "2020-01-15 09:56:32.356507"], ["updated_at", "2020-01-15 09:56:32.357198"], ["id", 4]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 248ms (ActiveRecord: 6.4ms)


Started GET "/" for 127.0.0.1 at 2020-01-15 09:56:32 +0800
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (2.2ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 4], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (2.4ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (NULL) OR user_id = 4) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (1.6ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 4) LIMIT $2[0m  [["post_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (2.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (6.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:108
  Rendered posts/index.html.erb within layouts/application (100.6ms)
  [1m[35m (3.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 4], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 315ms (Views: 211.2ms | ActiveRecord: 47.1ms)


Started GET "/chatroom" for 127.0.0.1 at 2020-01-15 09:56:34 +0800
Processing by RoomsController#index as HTML
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "public_room"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:3
Completed 500 Internal Server Error in 38ms (ActiveRecord: 10.7ms)


  
NoMethodError (undefined method `room_messages' for nil:NilClass):
  
app/controllers/rooms_controller.rb:5:in `index'
Started GET "/" for 127.0.0.1 at 2020-01-15 10:02:13 +0800
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by PostsController#index as HTML
  [1m[36mUser Load (3.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (3.5ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 4], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (5.1ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (NULL) OR user_id = 4) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (2.7ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 4) LIMIT $2[0m  [["post_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (4.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:108
  Rendered posts/index.html.erb within layouts/application (289.3ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 4], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 1201ms (Views: 1028.7ms | ActiveRecord: 46.2ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2020-01-15 10:02:17 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"GmQrdJ7kiKzmy3UV2j9qmEGPXpnExdjRsd1u0Vzm31KqGyy7ierM0M9bZEe1hyHtYmZbKenQl+/zJlIUvDHvEg==", "user"=>{"email"=>"qinzheng15@mails.ucas.ac.cn", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"提交"}
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 8ms (ActiveRecord: 2.7ms)


Started GET "/" for 127.0.0.1 at 2020-01-15 10:02:17 +0800
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (2.5ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 4], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (5.4ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (NULL) OR user_id = 4) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 4) LIMIT $2[0m  [["post_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:108
  Rendered posts/index.html.erb within layouts/application (39.5ms)
  [1m[35m (4.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 4], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 177ms (Views: 149.8ms | ActiveRecord: 20.4ms)


Started GET "/chatroom" for 127.0.0.1 at 2020-01-15 10:02:21 +0800
Processing by RoomsController#index as HTML
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (1.9ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "public_room"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:3
Completed 500 Internal Server Error in 57ms (ActiveRecord: 16.1ms)


  
NoMethodError (undefined method `room_messages' for nil:NilClass):
  
app/controllers/rooms_controller.rb:5:in `index'
Started GET "/newroom" for 127.0.0.1 at 2020-01-15 10:09:38 +0800
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by RoomsController#create as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (5.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/rooms_controller.rb:10
  [1m[36mRoom Create (2.9ms)[0m  [1m[32mINSERT INTO "rooms" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "public_room"], ["created_at", "2020-01-15 10:09:38.278305"], ["updated_at", "2020-01-15 10:09:38.278305"]]
  ↳ app/controllers/rooms_controller.rb:10
  [1m[35m (5.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/rooms_controller.rb:10
  Rendering rooms/create.html.erb within layouts/application
  Rendered rooms/create.html.erb within layouts/application (0.9ms)
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 4], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 1003ms (Views: 884.6ms | ActiveRecord: 31.0ms)


Started GET "/chatroom" for 127.0.0.1 at 2020-01-15 10:09:55 +0800
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "public_room"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:3
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (3.6ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  Rendered rooms/index.html.erb within layouts/application (213.1ms)
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 4], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 349ms (Views: 311.0ms | ActiveRecord: 13.3ms)


Started GET "/cable" for 127.0.0.1 at 2020-01-15 10:09:56 +0800
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-01-15 10:09:56 +0800
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY2xvbmUtYm9vay9Vc2VyLzQ)
Started GET "/" for 127.0.0.1 at 2020-01-15 10:11:11 +0800
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 4], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (1.6ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (NULL) OR user_id = 4) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (2.5ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 4) LIMIT $2[0m  [["post_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (2.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:108
  Rendered posts/index.html.erb within layouts/application (294.9ms)
  [1m[35m (2.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 4], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 1182ms (Views: 993.3ms | ActiveRecord: 59.3ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2020-01-15 10:11:14 +0800
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"x7FIFuXHm487hLgb2S3IiekSGAA6C05MOAmzrkaUFcnEekK21Nv/rwpaDJOfTgw9m1kKsNfI8HS+aF7kig7jug=="}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (1.4ms)[0m  [1m[35mBEGIN[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (3.7ms)[0m  [1m[33mUPDATE "users" SET "remember_created_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_created_at", nil], ["updated_at", "2020-01-15 10:11:15.007954"], ["id", 4]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 25ms (ActiveRecord: 6.9ms)


Started GET "/" for 127.0.0.1 at 2020-01-15 10:11:15 +0800
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2020-01-15 10:11:15 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (13.2ms)
Completed 200 OK in 113ms (Views: 112.4ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2020-01-15 10:11:21 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"BAI9IZNGwG72A4QWF1cMkCUYOM490VBxmoN61cYE25Yk4L/oUE1ZF7mEpJYohl/W2HSOM80qDE7//9aFDNMsNw==", "user"=>{"email"=>"wangyicheng215@mails.ucas.ac.cn", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"提交"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "wangyicheng215@mails.ucas.ac.cn"], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "remember_created_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_created_at", "2020-01-15 10:11:21.523672"], ["updated_at", "2020-01-15 10:11:21.524604"], ["id", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (1.9ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 7], ["current_sign_in_at", "2020-01-15 10:11:21.530096"], ["last_sign_in_at", "2020-01-15 09:48:41.459426"], ["updated_at", "2020-01-15 10:11:21.531031"], ["id", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 243ms (ActiveRecord: 6.6ms)


Started GET "/" for 127.0.0.1 at 2020-01-15 10:11:21 +0800
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (2.8ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (2,3) OR user_id = 1) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (3.6ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (4.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (2.7ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (1.6ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[36mLike Load (1.4ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:63
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:74
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:78
  [1m[35m (2.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mComment Load (0.3ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1 ORDER BY "comments"."created_at" ASC[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:110
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:111
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:112
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (4.0ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:108
  Rendered posts/index.html.erb within layouts/application (160.4ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:39
Completed 200 OK in 279ms (Views: 230.4ms | ActiveRecord: 37.4ms)


Started GET "/requests" for 127.0.0.1 at 2020-01-15 10:11:24 +0800
Processing by RequestsController#index as HTML
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering requests/index.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/requests/index.html.erb:6
  [1m[36mProfile Load (0.8ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/requests/index.html.erb:8
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/requests/index.html.erb:16
  [1m[36mRequest Load (0.7ms)[0m  [1m[34mSELECT  "requests".* FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."requester_id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["requester_id", 4], ["LIMIT", 1]]
  ↳ app/views/requests/index.html.erb:17
  Rendered requests/index.html.erb within layouts/application (29.8ms)
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:39
Completed 200 OK in 221ms (Views: 207.3ms | ActiveRecord: 6.3ms)


Started PUT "/requests/9?request%5Brequester_id%5D=4" for 127.0.0.1 at 2020-01-15 10:11:25 +0800
Processing by RequestsController#update as HTML
  Parameters: {"authenticity_token"=>"C4zSSxqUiCzVj3ikfspBBzj5O6T0aYUlaMi/lAwJ4PTMsyXwtJzHXOg9dJ0Ye5I4RER91rVY1pETWP3fdgLiRA==", "request"=>{"requester_id"=>"4"}, "id"=>"9"}
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRequest Load (0.3ms)[0m  [1m[34mSELECT  "requests".* FROM "requests" WHERE "requests"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/requests_controller.rb:13
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/request.rb:6
  [1m[36mUser Load (4.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/request.rb:6
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/request.rb:6
  [1m[36mRequest Update (1.3ms)[0m  [1m[33mUPDATE "requests" SET "accepted" = $1, "updated_at" = $2 WHERE "requests"."id" = $3[0m  [["accepted", 1], ["updated_at", "2020-01-15 10:11:25.624583"], ["id", 9]]
  ↳ app/models/request.rb:6
  [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/request.rb:6
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/request.rb:7
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/request.rb:7
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/request.rb:7
  [1m[36mRequest Create (2.2ms)[0m  [1m[32mINSERT INTO "requests" ("requester_id", "requestee_id", "accepted", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["requester_id", 1], ["requestee_id", 4], ["accepted", 1], ["created_at", "2020-01-15 10:11:25.636226"], ["updated_at", "2020-01-15 10:11:25.636226"]]
  ↳ app/models/request.rb:7
  [1m[35m (11.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/request.rb:7
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/requests_controller.rb:16
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/controllers/requests_controller.rb:16
Redirected to http://localhost:3000/profiles/4
Completed 302 Found in 50ms (ActiveRecord: 28.9ms)


Started GET "/profiles/4" for 127.0.0.1 at 2020-01-15 10:11:25 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (3.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/profiles/show.html.erb:22
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 4], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:24
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 4], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["requester_id", 4], ["accepted", 1], ["LIMIT", 4]]
  ↳ app/views/profiles/show.html.erb:66
  [1m[36mProfile Load (1.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 4], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:82
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["user_id", 4], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:83
  [1m[36mLike Exists (4.8ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 4], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:110
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/profiles/show.html.erb:122
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/profiles/show.html.erb:160
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:184
  Rendered profiles/show.html.erb within layouts/application (49.1ms)
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 221ms (Views: 180.6ms | ActiveRecord: 16.5ms)


Started GET "/newroon" for 127.0.0.1 at 2020-01-15 10:11:40 +0800
  
ActionController::RoutingError (No route matches [GET] "/newroon"):
  
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.12.2) lib/puma/configuration.rb:227:in `call'
puma (3.12.2) lib/puma/server.rb:674:in `handle_request'
puma (3.12.2) lib/puma/server.rb:476:in `process_client'
puma (3.12.2) lib/puma/server.rb:334:in `block in run'
puma (3.12.2) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
Started GET "/newroom" for 127.0.0.1 at 2020-01-15 10:11:45 +0800
Processing by RoomsController#create as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/rooms_controller.rb:10
  [1m[36mRoom Create (3.4ms)[0m  [1m[32mINSERT INTO "rooms" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "public_room"], ["created_at", "2020-01-15 10:11:45.293695"], ["updated_at", "2020-01-15 10:11:45.293695"]]
  ↳ app/controllers/rooms_controller.rb:10
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/rooms_controller.rb:10
Completed 500 Internal Server Error in 27ms (ActiveRecord: 9.8ms)


  
ActiveRecord::RecordNotUnique (PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_rooms_on_name"
DETAIL:  Key (name)=(public_room) already exists.
: INSERT INTO "rooms" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"):
  
app/controllers/rooms_controller.rb:10:in `create'
Started GET "/newroon" for 127.0.0.1 at 2020-01-15 10:12:01 +0800
  
ActionController::RoutingError (No route matches [GET] "/newroon"):
  
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.12.2) lib/puma/configuration.rb:227:in `call'
puma (3.12.2) lib/puma/server.rb:674:in `handle_request'
puma (3.12.2) lib/puma/server.rb:476:in `process_client'
puma (3.12.2) lib/puma/server.rb:334:in `block in run'
puma (3.12.2) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
Started GET "/newroom" for 127.0.0.1 at 2020-01-15 10:12:09 +0800
Processing by RoomsController#create as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (2.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/rooms_controller.rb:10
  [1m[36mRoom Create (4.0ms)[0m  [1m[32mINSERT INTO "rooms" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "public_room"], ["created_at", "2020-01-15 10:12:09.630734"], ["updated_at", "2020-01-15 10:12:09.630734"]]
  ↳ app/controllers/rooms_controller.rb:10
  [1m[35m (1.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/rooms_controller.rb:10
Completed 500 Internal Server Error in 13ms (ActiveRecord: 8.2ms)


  
ActiveRecord::RecordNotUnique (PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_rooms_on_name"
DETAIL:  Key (name)=(public_room) already exists.
: INSERT INTO "rooms" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"):
  
app/controllers/rooms_controller.rb:10:in `create'
Started GET "/profiles/1" for 127.0.0.1 at 2020-01-15 10:12:21 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (1.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:31
  [1m[35m (2.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["requester_id", 1], ["accepted", 1], ["LIMIT", 4]]
  ↳ app/views/profiles/show.html.erb:66
  [1m[36mProfile Load (1.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (0.5ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (1.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[35m (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:82
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:83
  [1m[36mLike Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:110
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:122
  [1m[35m (1.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:160
  Rendered profiles/show.html.erb within layouts/application (48.5ms)
  [1m[35m (1.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 154ms (Views: 130.1ms | ActiveRecord: 17.4ms)


Started GET "/newroom" for 127.0.0.1 at 2020-01-15 10:12:40 +0800
Processing by RoomsController#create as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/rooms_controller.rb:10
  [1m[36mRoom Create (5.0ms)[0m  [1m[32mINSERT INTO "rooms" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "public_room"], ["created_at", "2020-01-15 10:12:40.280842"], ["updated_at", "2020-01-15 10:12:40.280842"]]
  ↳ app/controllers/rooms_controller.rb:10
  [1m[35m (2.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/rooms_controller.rb:10
Completed 500 Internal Server Error in 12ms (ActiveRecord: 7.7ms)


  
ActiveRecord::RecordNotUnique (PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_rooms_on_name"
DETAIL:  Key (name)=(public_room) already exists.
: INSERT INTO "rooms" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"):
  
app/controllers/rooms_controller.rb:10:in `create'
Started GET "/" for 127.0.0.1 at 2020-01-15 10:12:54 +0800
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (2.5ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (4.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (2,3,4) OR user_id = 1) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (0.8ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (2.2ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (3.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (2.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (3.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[36mLike Load (0.4ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:63
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:74
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:78
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mComment Load (2.3ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1 ORDER BY "comments"."created_at" ASC[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:110
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:111
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:112
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (1.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:108
  Rendered posts/index.html.erb within layouts/application (87.7ms)
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 205ms (Views: 167.2ms | ActiveRecord: 32.4ms)


Started GET "/chatroom" for 127.0.0.1 at 2020-01-15 10:12:58 +0800
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "public_room"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:3
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (0.4ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  Rendered rooms/index.html.erb within layouts/application (51.2ms)
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (1.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 205ms (Views: 142.7ms | ActiveRecord: 11.8ms)


Started GET "/cable" for 127.0.0.1 at 2020-01-15 10:12:58 +0800
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-01-15 10:12:58 +0800
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY2xvbmUtYm9vay9Vc2VyLzE)
Started GET "/profiles/1" for 127.0.0.1 at 2020-01-15 10:32:31 +0800
  [1m[35m (2.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:31
  [1m[35m (4.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["requester_id", 1], ["accepted", 1], ["LIMIT", 4]]
  ↳ app/views/profiles/show.html.erb:66
  [1m[36mProfile Load (3.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (1.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[35m (2.9ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:82
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:83
  [1m[36mLike Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:110
  [1m[35m (3.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:122
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:160
  Rendered profiles/show.html.erb within layouts/application (284.2ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 1042ms (Views: 851.5ms | ActiveRecord: 49.7ms)


Started GET "/users/index" for 127.0.0.1 at 2020-01-15 10:32:36 +0800
Processing by UsersController#index as HTML
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (id != 1) LIMIT $1 OFFSET $2[0m  [["LIMIT", 12], ["OFFSET", 0]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (1.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 4], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  Rendered users/index.html.erb within layouts/application (30.8ms)
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 202ms (Views: 190.7ms | ActiveRecord: 8.5ms)


Started GET "/profiles/2" for 127.0.0.1 at 2020-01-15 10:32:38 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (1.8ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/profiles/show.html.erb:22
  [1m[36mUser Exists (1.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:24
  [1m[35m (2.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 2], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["requester_id", 2], ["accepted", 1], ["LIMIT", 4]]
  ↳ app/views/profiles/show.html.erb:66
  [1m[36mProfile Load (1.7ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (1.6ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[35m (3.0ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 2], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:82
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["user_id", 2], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:83
  [1m[36mLike Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:110
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:115
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/profiles/show.html.erb:122
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/profiles/show.html.erb:126
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:128
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:128
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:130
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/profiles/show.html.erb:160
  [1m[36mComment Load (3.5ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1 ORDER BY "comments"."created_at" ASC[0m  [["post_id", 2]]
  ↳ app/views/profiles/show.html.erb:162
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:163
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:164
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:184
  Rendered profiles/show.html.erb within layouts/application (81.6ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 205ms (Views: 174.2ms | ActiveRecord: 23.0ms)


Started GET "/rooms/2?chat%5Buser2_id%5D=2" for 127.0.0.1 at 2020-01-15 10:32:39 +0800
Processing by RoomsController#show as HTML
  Parameters: {"chat"=>{"user2_id"=>"2"}, "id"=>"2"}
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (1.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:20
  [1m[35m (6.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/rooms_controller.rb:25
  [1m[36mRoom Create (2.8ms)[0m  [1m[32mINSERT INTO "rooms" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "1_2"], ["created_at", "2020-01-15 10:32:39.802338"], ["updated_at", "2020-01-15 10:32:39.802338"]]
  ↳ app/controllers/rooms_controller.rb:25
  [1m[35m (2.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/rooms_controller.rb:25
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (0.4ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 5]]
  ↳ app/views/rooms/index.html.erb:7
  Rendered rooms/index.html.erb within layouts/application (67.1ms)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 309ms (Views: 237.6ms | ActiveRecord: 26.9ms)


Started POST "/room_messages" for 127.0.0.1 at 2020-01-15 10:32:47 +0800
Processing by RoomMessagesController#create as JS
  Parameters: {"utf8"=>"✓", "room_message"=>{"message"=>"nengyongma", "room_id"=>"5"}, "commit"=>"发送"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/room_messages_controller.rb:12
  [1m[35m (3.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/room_messages_controller.rb:4
  [1m[36mRoomMessage Create (3.1ms)[0m  [1m[32mINSERT INTO "room_messages" ("room_id", "user_id", "message", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["room_id", 5], ["user_id", 1], ["message", "nengyongma"], ["created_at", "2020-01-15 10:32:47.658473"], ["updated_at", "2020-01-15 10:32:47.658473"]]
  ↳ app/controllers/room_messages_controller.rb:4
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/room_messages_controller.rb:4
[ActionCable] Broadcasting to room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzU: #<RoomMessage id: 1, room_id: 5, user_id: 1, message: "nengyongma", created_at: "2020-01-15 02:32:47", updated_at: "2020-01-15 02:32:47">
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/room_message.rb:9
Completed 500 Internal Server Error in 42ms (ActiveRecord: 7.9ms)


  
Redis::CannotConnectError (Error connecting to Redis on localhost:6379 (Errno::ECONNREFUSED)):
  
app/controllers/room_messages_controller.rb:7:in `create'
Started POST "/room_messages" for 127.0.0.1 at 2020-01-15 10:32:49 +0800
Processing by RoomMessagesController#create as JS
  Parameters: {"utf8"=>"✓", "room_message"=>{"message"=>"nengyongma", "room_id"=>"5"}, "commit"=>"发送"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/room_messages_controller.rb:12
  [1m[35m (3.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/room_messages_controller.rb:4
  [1m[36mRoomMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "room_messages" ("room_id", "user_id", "message", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["room_id", 5], ["user_id", 1], ["message", "nengyongma"], ["created_at", "2020-01-15 10:32:49.106581"], ["updated_at", "2020-01-15 10:32:49.106581"]]
  ↳ app/controllers/room_messages_controller.rb:4
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/room_messages_controller.rb:4
[ActionCable] Broadcasting to room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzU: #<RoomMessage id: 2, room_id: 5, user_id: 1, message: "nengyongma", created_at: "2020-01-15 02:32:49", updated_at: "2020-01-15 02:32:49">
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/room_message.rb:9
Completed 500 Internal Server Error in 17ms (ActiveRecord: 5.5ms)


  
Redis::CannotConnectError (Error connecting to Redis on localhost:6379 (Errno::ECONNREFUSED)):
  
app/controllers/room_messages_controller.rb:7:in `create'
Started POST "/room_messages" for 127.0.0.1 at 2020-01-15 10:32:50 +0800
Processing by RoomMessagesController#create as JS
  Parameters: {"utf8"=>"✓", "room_message"=>{"message"=>"nengyongma", "room_id"=>"5"}, "commit"=>"发送"}
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/room_messages_controller.rb:12
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/room_messages_controller.rb:4
  [1m[36mRoomMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "room_messages" ("room_id", "user_id", "message", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["room_id", 5], ["user_id", 1], ["message", "nengyongma"], ["created_at", "2020-01-15 10:32:50.045321"], ["updated_at", "2020-01-15 10:32:50.045321"]]
  ↳ app/controllers/room_messages_controller.rb:4
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/room_messages_controller.rb:4
[ActionCable] Broadcasting to room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzU: #<RoomMessage id: 3, room_id: 5, user_id: 1, message: "nengyongma", created_at: "2020-01-15 02:32:50", updated_at: "2020-01-15 02:32:50">
  [1m[36mProfile Load (4.1ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/room_message.rb:9
Completed 500 Internal Server Error in 18ms (ActiveRecord: 7.9ms)


  
Redis::CannotConnectError (Error connecting to Redis on localhost:6379 (Errno::ECONNREFUSED)):
  
app/controllers/room_messages_controller.rb:7:in `create'
Started GET "/cable" for 127.0.0.1 at 2020-01-15 10:33:05 +0800
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-01-15 10:33:05 +0800
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY2xvbmUtYm9vay9Vc2VyLzE)
Started GET "/users/sign_in" for 127.0.0.1 at 2020-01-15 11:16:12 +0800
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by Devise::SessionsController#new as HTML
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (1.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "last_sign_in_at" = $2, "sign_in_count" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["current_sign_in_at", "2020-01-15 11:16:12.426036"], ["last_sign_in_at", "2020-01-15 10:11:21.530096"], ["sign_in_count", 8], ["updated_at", "2020-01-15 11:16:12.429442"], ["id", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (3.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 299ms (ActiveRecord: 12.3ms)


Started GET "/" for 127.0.0.1 at 2020-01-15 11:16:12 +0800
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (0.8ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (2,3,4) OR user_id = 1) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (2.1ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (0.8ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (1.6ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (0.7ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:63
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:74
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:78
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mComment Load (0.4ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1 ORDER BY "comments"."created_at" ASC[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:110
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:111
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:112
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:108
  Rendered posts/index.html.erb within layouts/application (219.2ms)
  [1m[35m (3.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 1147ms (Views: 1032.5ms | ActiveRecord: 49.0ms)


Started GET "/users/index" for 127.0.0.1 at 2020-01-15 11:16:17 +0800
Processing by UsersController#index as HTML
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (id != 1) LIMIT $1 OFFSET $2[0m  [["LIMIT", 12], ["OFFSET", 0]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mProfile Load (2.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mUser Load (5.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mProfile Load (1.6ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 4], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  Rendered users/index.html.erb within layouts/application (33.3ms)
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 145ms (Views: 123.9ms | ActiveRecord: 14.2ms)


Started GET "/profiles/3" for 127.0.0.1 at 2020-01-15 11:16:19 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (3.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/profiles/show.html.erb:22
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 3], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:24
  [1m[35m (3.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 3], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["requester_id", 3], ["accepted", 1], ["LIMIT", 4]]
  ↳ app/views/profiles/show.html.erb:66
  [1m[36mProfile Load (5.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (1.8ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 3], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:82
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["user_id", 3], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:83
  [1m[36mLike Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 3], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:110
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/profiles/show.html.erb:122
  [1m[35m (2.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/profiles/show.html.erb:160
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:184
  Rendered profiles/show.html.erb within layouts/application (87.6ms)
  [1m[35m (4.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 285ms (Views: 243.6ms | ActiveRecord: 29.7ms)


Started GET "/rooms/3?chat%5Buser2_id%5D=3" for 127.0.0.1 at 2020-01-15 11:16:21 +0800
Processing by RoomsController#show as HTML
  Parameters: {"chat"=>{"user2_id"=>"3"}, "id"=>"3"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (1.6ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:20
  [1m[35m (1.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/rooms_controller.rb:25
  [1m[36mRoom Create (1.2ms)[0m  [1m[32mINSERT INTO "rooms" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "1_3"], ["created_at", "2020-01-15 11:16:21.361676"], ["updated_at", "2020-01-15 11:16:21.361676"]]
  ↳ app/controllers/rooms_controller.rb:25
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/rooms_controller.rb:25
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (2.8ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 6]]
  ↳ app/views/rooms/index.html.erb:7
  Rendered rooms/index.html.erb within layouts/application (81.6ms)
  [1m[36mProfile Load (4.1ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 300ms (Views: 216.2ms | ActiveRecord: 26.7ms)


Started GET "/cable" for 127.0.0.1 at 2020-01-15 11:16:21 +0800
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-01-15 11:16:21 +0800
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY2xvbmUtYm9vay9Vc2VyLzE)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:3
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzY
Started POST "/room_messages" for 127.0.0.1 at 2020-01-15 11:16:28 +0800
Processing by RoomMessagesController#create as JS
  Parameters: {"utf8"=>"✓", "room_message"=>{"message"=>"Work", "room_id"=>"6"}, "commit"=>"发送"}
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/room_messages_controller.rb:12
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/room_messages_controller.rb:4
  [1m[36mRoomMessage Create (2.2ms)[0m  [1m[32mINSERT INTO "room_messages" ("room_id", "user_id", "message", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["room_id", 6], ["user_id", 1], ["message", "Work"], ["created_at", "2020-01-15 11:16:28.887222"], ["updated_at", "2020-01-15 11:16:28.887222"]]
  ↳ app/controllers/room_messages_controller.rb:4
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/room_messages_controller.rb:4
[ActionCable] Broadcasting to room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzY: #<RoomMessage id: 4, room_id: 6, user_id: 1, message: "Work", created_at: "2020-01-15 03:16:28", updated_at: "2020-01-15 03:16:28">
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/room_message.rb:9
RoomChannel transmitting {"id"=>4, "room_id"=>6, "user_id"=>1, "message"=>"Work", "created_at"=>"2020-01-15T11:16:28.887+08:00", "updated_at"=>"2020-01-15T11:16:28.887+08:00", "user_full_name"=>"Wang Yicheng", "user_avatar_url"=>"https://wx3.sinaimg.cn/mw690/515a7464ly1g8pj3k5sctj20sg0izqbz.jpg"} (via streamed from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzY)
No template found for RoomMessagesController#create, rendering head :no_content
Completed 204 No Content in 204ms (ActiveRecord: 7.1ms)


Started GET "/cable" for 127.0.0.1 at 2020-01-15 11:25:03 +0800
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-01-15 11:25:03 +0800
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY2xvbmUtYm9vay9Vc2VyLzE)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:3
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzY
Started GET "/" for 127.0.0.1 at 2020-01-15 22:44:26 +0800
  [1m[35m (5.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (2.7ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (0.9ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (2,3,4) OR user_id = 1) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (2.5ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (5.1ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (0.5ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (1.9ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (3.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (2.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (1.9ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[36mLike Load (1.0ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:63
  [1m[35m (3.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:74
  [1m[36mLike Load (0.9ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:78
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mComment Load (0.3ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1 ORDER BY "comments"."created_at" ASC[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:110
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:111
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:112
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:108
  Rendered posts/index.html.erb within layouts/application (417.4ms)
  [1m[35m (5.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 1681ms (Views: 1456.6ms | ActiveRecord: 79.0ms)


Started GET "/users/index" for 127.0.0.1 at 2020-01-15 22:44:31 +0800
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (id != 1) LIMIT $1 OFFSET $2[0m  [["LIMIT", 12], ["OFFSET", 0]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mProfile Load (0.6ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (2.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 4], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  Rendered users/index.html.erb within layouts/application (41.2ms)
  [1m[36mProfile Load (2.8ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 217ms (Views: 194.6ms | ActiveRecord: 15.5ms)


Started GET "/profiles/2" for 127.0.0.1 at 2020-01-15 22:44:32 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (4.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/profiles/show.html.erb:22
  [1m[36mUser Exists (3.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:24
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 2], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["requester_id", 2], ["accepted", 1], ["LIMIT", 4]]
  ↳ app/views/profiles/show.html.erb:66
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (1.6ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[35m (2.0ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 2], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:82
  [1m[36mPost Load (1.0ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["user_id", 2], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:83
  [1m[36mLike Exists (1.9ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:110
  [1m[36mLike Load (0.4ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:115
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/profiles/show.html.erb:122
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/profiles/show.html.erb:126
  [1m[36mLike Load (3.4ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:128
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:128
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:130
  [1m[35m (2.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/profiles/show.html.erb:160
  [1m[36mComment Load (0.3ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1 ORDER BY "comments"."created_at" ASC[0m  [["post_id", 2]]
  ↳ app/views/profiles/show.html.erb:162
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:163
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:164
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:184
  Rendered profiles/show.html.erb within layouts/application (99.0ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 282ms (Views: 234.8ms | ActiveRecord: 28.0ms)


Started GET "/profiles/4" for 127.0.0.1 at 2020-01-15 22:44:36 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/profiles/show.html.erb:22
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 4], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:24
  [1m[35m (3.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 4], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["requester_id", 4], ["accepted", 1], ["LIMIT", 4]]
  ↳ app/views/profiles/show.html.erb:66
  [1m[36mProfile Load (1.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[35m (2.4ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 4], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:82
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["user_id", 4], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:83
  [1m[36mLike Exists (3.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 4], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:110
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/profiles/show.html.erb:122
  [1m[35m (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/profiles/show.html.erb:160
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:184
  Rendered profiles/show.html.erb within layouts/application (58.0ms)
  [1m[35m (2.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 189ms (Views: 160.1ms | ActiveRecord: 21.8ms)


Started GET "/users/index" for 127.0.0.1 at 2020-01-15 22:44:41 +0800
Processing by UsersController#index as HTML
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (id != 1) LIMIT $1 OFFSET $2[0m  [["LIMIT", 12], ["OFFSET", 0]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (2.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (2.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 4], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  Rendered users/index.html.erb within layouts/application (27.5ms)
  [1m[36mProfile Load (3.9ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (4.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 136ms (Views: 111.5ms | ActiveRecord: 20.2ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2020-01-15 22:44:43 +0800
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"cfZsKIH4zYIXs8eAVex+3u2zL/qq9R+6Y9ai9WKeHZzatMTaryL3QM/AY5GiWBjEudNX9lPsYRYhT/JvX0GrHA=="}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (9.4ms)[0m  [1m[33mUPDATE "users" SET "remember_created_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_created_at", nil], ["updated_at", "2020-01-15 22:44:43.928083"], ["id", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (3.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 29ms (ActiveRecord: 13.0ms)


Started GET "/" for 127.0.0.1 at 2020-01-15 22:44:43 +0800
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2020-01-15 22:44:43 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (19.8ms)
Completed 200 OK in 141ms (Views: 140.1ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2020-01-15 22:44:48 +0800
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/registrations/new.html.erb within layouts/application (6.6ms)
Completed 200 OK in 105ms (Views: 104.1ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2020-01-15 22:45:33 +0800
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"HIPXTcN4D/rsZTL1QQHy2sHS7FsFPH1sXzehZhtjnh3d9FIAPh/I820LlqNMjLNsy/a/dFQzhyFnbiD8+AP0ww==", "user"=>{"first_name"=>"Xie", "last_name"=>"Yi", "email"=>"xieyi19@mails.ucas.ac.cn", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"注册"}
  [1m[35m (3.0ms)[0m  [1m[35mBEGIN[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Exists (2.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "xieyi19@mails.ucas.ac.cn"], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Create (9.2ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Xie"], ["last_name", "Yi"], ["email", "xieyi19@mails.ucas.ac.cn"], ["encrypted_password", "$2a$11$ualQ5QukQfRtGAfFk92qwOuB8yFPaJm2yfDB514x/CiLdkpnU3SrG"], ["created_at", "2020-01-15 22:45:33.930589"], ["updated_at", "2020-01-15 22:45:33.930589"]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Create (5.6ms)[0m  [1m[32mINSERT INTO "profiles" ("user_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["user_id", 5], ["created_at", "2020-01-15 22:45:33.942290"], ["updated_at", "2020-01-15 22:45:33.942290"]]
  ↳ app/models/user.rb:52
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:52
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (1.2ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2020-01-15 22:45:33.965920"], ["last_sign_in_at", "2020-01-15 22:45:33.965920"], ["current_sign_in_ip", "127.0.0.1/32"], ["last_sign_in_ip", "127.0.0.1/32"], ["updated_at", "2020-01-15 22:45:33.968177"], ["id", 5]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 340ms (ActiveRecord: 23.9ms)


Started GET "/" for 127.0.0.1 at 2020-01-15 22:45:33 +0800
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (2.9ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 5], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (4.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (NULL) OR user_id = 5) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  Rendered posts/index.html.erb within layouts/application (9.9ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 5], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 129ms (Views: 109.3ms | ActiveRecord: 8.3ms)


Started GET "/users/index" for 127.0.0.1 at 2020-01-15 22:45:36 +0800
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (4.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (id != 5) LIMIT $1 OFFSET $2[0m  [["LIMIT", 12], ["OFFSET", 0]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mProfile Load (1.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 5]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 5], ["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requester_id", 5], ["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:20
  [1m[36mProfile Load (4.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 5]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 5], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requester_id", 5], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:20
  [1m[36mProfile Load (1.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 5]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 5], ["id", 4], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requester_id", 5], ["id", 4], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:20
  [1m[36mProfile Load (3.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 5]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 5], ["id", 1], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requester_id", 5], ["id", 1], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:20
  Rendered users/index.html.erb within layouts/application (52.6ms)
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (4.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 5], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 160ms (Views: 130.8ms | ActiveRecord: 24.3ms)


Started GET "/profiles/1" for 127.0.0.1 at 2020-01-15 22:45:40 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (1.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 5]]
  ↳ app/views/profiles/show.html.erb:22
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 5], ["id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:24
  [1m[36mUser Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requester_id", 5], ["id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:25
  [1m[35m (2.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["requester_id", 1], ["accepted", 1], ["LIMIT", 4]]
  ↳ app/views/profiles/show.html.erb:66
  [1m[36mProfile Load (1.7ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (2.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:82
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:83
  [1m[36mLike Exists (2.2ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 5) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:110
  [1m[35m (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:122
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:160
  [1m[36mProfile Load (0.7ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:184
  Rendered profiles/show.html.erb within layouts/application (57.0ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 5], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 190ms (Views: 157.8ms | ActiveRecord: 22.1ms)


Started GET "/profiles/1" for 127.0.0.1 at 2020-01-15 22:46:30 +0800
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 5]]
  ↳ app/views/profiles/show.html.erb:22
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 5], ["id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:24
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requester_id", 5], ["id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:25
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["requester_id", 1], ["accepted", 1], ["LIMIT", 4]]
  ↳ app/views/profiles/show.html.erb:66
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (4.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:82
  [1m[36mPost Load (1.4ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:83
  [1m[36mLike Exists (3.2ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 5) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:110
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:122
  [1m[35m (3.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:160
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:184
  Rendered profiles/show.html.erb within layouts/application (325.6ms)
  [1m[35m (2.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 5], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 1396ms (Views: 1201.5ms | ActiveRecord: 54.5ms)


Started GET "/profiles/1" for 127.0.0.1 at 2020-01-15 22:47:36 +0800
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 5]]
  ↳ app/views/profiles/show.html.erb:22
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 5], ["id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:24
  [1m[36mUser Exists (3.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requester_id", 5], ["id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:25
  [1m[35m (1.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["requester_id", 1], ["accepted", 1], ["LIMIT", 4]]
  ↳ app/views/profiles/show.html.erb:66
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (1.7ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:82
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:83
  [1m[36mLike Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 5) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:110
  [1m[35m (2.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:122
  [1m[35m (2.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:160
  [1m[36mProfile Load (0.9ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:184
  Rendered profiles/show.html.erb within layouts/application (241.3ms)
  [1m[35m (3.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 5], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 1215ms (Views: 1034.9ms | ActiveRecord: 47.2ms)


Started GET "/" for 127.0.0.1 at 2020-01-15 23:01:17 +0800
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 5], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (3.3ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (NULL) OR user_id = 5) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  Rendered posts/index.html.erb within layouts/application (35.6ms)
  [1m[35m (4.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 5], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 178ms (Views: 144.8ms | ActiveRecord: 14.9ms)


Started GET "/profiles/5" for 127.0.0.1 at 2020-01-15 23:02:12 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mProfile Load (1.9ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:31
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 5], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 5], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:82
  Rendered profiles/show.html.erb within layouts/application (14.5ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 5], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 130ms (Views: 118.5ms | ActiveRecord: 4.5ms)


Started GET "/" for 127.0.0.1 at 2020-01-15 23:02:37 +0800
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (1.6ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 5], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (NULL) OR user_id = 5) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  Rendered posts/index.html.erb within layouts/application (14.8ms)
  [1m[35m (2.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 5], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 141ms (Views: 126.4ms | ActiveRecord: 5.0ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2020-01-15 23:02:41 +0800
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"QBvvjJ1QUmemMuuFa4dzs6gDJN0rmM/hhUZaOJJhigwWTH8Lv2jfRz/+xbgEnhGkjDkLJZ1d+TDGRI1Gv/tpSQ=="}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 15ms (ActiveRecord: 0.9ms)


Started GET "/" for 127.0.0.1 at 2020-01-15 23:02:41 +0800
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2020-01-15 23:02:42 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (10.5ms)
Completed 200 OK in 93ms (Views: 92.3ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2020-01-15 23:02:45 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"rLTJSqhW8taYYh4zpoEjYtBRcErYPbAboF6cfLvudhSSSuiqwtGsbDnwk/9UttnASfWLNOyyLQh3CwU1BncQjw==", "user"=>{"email"=>"wangyicheng215@mails.ucas.ac.cn", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"提交"}
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "wangyicheng215@mails.ucas.ac.cn"], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (2.4ms)[0m  [1m[33mUPDATE "users" SET "remember_created_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_created_at", "2020-01-15 23:02:45.308685"], ["updated_at", "2020-01-15 23:02:45.309666"], ["id", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (3.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 9], ["current_sign_in_at", "2020-01-15 23:02:45.325549"], ["last_sign_in_at", "2020-01-15 11:16:12.426036"], ["updated_at", "2020-01-15 23:02:45.326338"], ["id", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 287ms (ActiveRecord: 9.2ms)


Started GET "/" for 127.0.0.1 at 2020-01-15 23:02:45 +0800
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (1.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (2,3,4) OR user_id = 1) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (0.6ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (2.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (6.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (1.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (1.5ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[36mLike Load (2.1ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:63
  [1m[35m (3.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:74
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:78
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mComment Load (1.0ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1 ORDER BY "comments"."created_at" ASC[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:110
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:111
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:112
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (4.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:108
  Rendered posts/index.html.erb within layouts/application (118.9ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 220ms (Views: 171.0ms | ActiveRecord: 41.3ms)


Started GET "/users/index" for 127.0.0.1 at 2020-01-15 23:02:49 +0800
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (id != 1) LIMIT $1 OFFSET $2[0m  [["LIMIT", 12], ["OFFSET", 0]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mUser Load (4.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 4], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 5], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mUser Exists (2.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requester_id", 1], ["id", 5], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:20
  Rendered users/index.html.erb within layouts/application (42.9ms)
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (2.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 153ms (Views: 131.4ms | ActiveRecord: 15.0ms)


Started POST "/requests?request%5Brequestee_id%5D=5" for 127.0.0.1 at 2020-01-15 23:02:51 +0800
Processing by RequestsController#create as HTML
  Parameters: {"authenticity_token"=>"/NuZY7qg3jdH3eKZlintcbz3eqyh0+Bi3n30IAzBOKypgpMKmWRH9hPqNxXiU/yAMOputx6YrPWyRReyx+YWhw==", "request"=>{"requestee_id"=>"5"}}
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/requests_controller.rb:4
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/requests_controller.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/requests_controller.rb:4
  [1m[36mRequest Create (3.3ms)[0m  [1m[32mINSERT INTO "requests" ("requester_id", "requestee_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["requester_id", 1], ["requestee_id", 5], ["created_at", "2020-01-15 23:02:51.349936"], ["updated_at", "2020-01-15 23:02:51.349936"]]
  ↳ app/controllers/requests_controller.rb:4
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/requests_controller.rb:4
Redirected to http://localhost:3000/
Completed 302 Found in 32ms (ActiveRecord: 13.1ms)


Started GET "/" for 127.0.0.1 at 2020-01-15 23:02:51 +0800
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (2.6ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (2.7ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (2,3,4) OR user_id = 1) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (2.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (2.5ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (1.7ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:63
  [1m[35m (2.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:74
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:78
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mComment Load (0.2ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1 ORDER BY "comments"."created_at" ASC[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:110
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:111
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:112
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (4.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:108
  Rendered posts/index.html.erb within layouts/application (121.1ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 223ms (Views: 185.2ms | ActiveRecord: 31.9ms)


Started GET "/users/index" for 127.0.0.1 at 2020-01-15 23:02:57 +0800
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (id != 1) LIMIT $1 OFFSET $2[0m  [["LIMIT", 12], ["OFFSET", 0]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mProfile Load (2.6ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mProfile Load (1.7ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 4], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 5], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mUser Exists (1.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requester_id", 1], ["id", 5], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:20
  Rendered users/index.html.erb within layouts/application (42.1ms)
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (5.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 155ms (Views: 135.7ms | ActiveRecord: 17.2ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2020-01-15 23:03:07 +0800
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"9QfPVUps/A8jxT8HUZS8kxEqfW2GKckLVbGfwd6vf/GgXsU8aahlznfy6osl7q1inTdpdjlihZw5iXxTFYhR2g=="}
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (5.8ms)[0m  [1m[35mBEGIN[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (3.0ms)[0m  [1m[33mUPDATE "users" SET "remember_created_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_created_at", nil], ["updated_at", "2020-01-15 23:03:07.067449"], ["id", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 21ms (ActiveRecord: 11.8ms)


Started GET "/" for 127.0.0.1 at 2020-01-15 23:03:07 +0800
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2020-01-15 23:03:07 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (7.2ms)
Completed 200 OK in 96ms (Views: 95.2ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2020-01-15 23:03:10 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"xbjoc+IET1iW2LR/j9Dq+AIiZa4IOObrHzC2HLMZ1oWrDpp+EFnQw7PoyOcgY+Ln8S7YMsJ1i+ucrYMqmzMJ9A==", "user"=>{"email"=>"xieyi19@mails.ucas.ac.cn", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"提交"}
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "xieyi19@mails.ucas.ac.cn"], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "remember_created_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_created_at", "2020-01-15 23:03:10.413513"], ["updated_at", "2020-01-15 23:03:10.414485"], ["id", 5]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (2.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["sign_in_count", 2], ["current_sign_in_at", "2020-01-15 23:03:10.421315"], ["updated_at", "2020-01-15 23:03:10.422104"], ["id", 5]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 237ms (ActiveRecord: 7.1ms)


Started GET "/" for 127.0.0.1 at 2020-01-15 23:03:10 +0800
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (2.8ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 5], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (2.6ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (1.1ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (NULL) OR user_id = 5) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  Rendered posts/index.html.erb within layouts/application (12.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 5], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 5], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:39
Completed 200 OK in 115ms (Views: 102.0ms | ActiveRecord: 7.2ms)


Started GET "/requests" for 127.0.0.1 at 2020-01-15 23:03:13 +0800
Processing by RequestsController#index as HTML
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering requests/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 5]]
  ↳ app/views/requests/index.html.erb:6
  [1m[36mProfile Load (3.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/requests/index.html.erb:8
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 5]]
  ↳ app/views/requests/index.html.erb:16
  [1m[36mRequest Load (0.3ms)[0m  [1m[34mSELECT  "requests".* FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."requester_id" = $2 LIMIT $3[0m  [["requestee_id", 5], ["requester_id", 1], ["LIMIT", 1]]
  ↳ app/views/requests/index.html.erb:17
  Rendered requests/index.html.erb within layouts/application (12.1ms)
  [1m[36mProfile Load (4.7ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (2.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 5], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 5], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:39
Completed 200 OK in 124ms (Views: 106.9ms | ActiveRecord: 13.0ms)


Started GET "/users/index" for 127.0.0.1 at 2020-01-15 23:13:34 +0800
Processing by UsersController#index as HTML
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (id != 5) LIMIT $1 OFFSET $2[0m  [["LIMIT", 12], ["OFFSET", 0]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mProfile Load (0.5ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 5]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (2.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 5], ["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requester_id", 5], ["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:20
  [1m[36mProfile Load (1.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 5]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 5], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requester_id", 5], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:20
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 5]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (2.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 5], ["id", 4], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requester_id", 5], ["id", 4], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:20
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 5]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mRequest Load (0.3ms)[0m  [1m[34mSELECT  "requests".* FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."requester_id" = $2 LIMIT $3[0m  [["requestee_id", 5], ["requester_id", 1], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:18
  Rendered users/index.html.erb within layouts/application (43.6ms)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (1.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 5], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 5], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:39
Completed 200 OK in 157ms (Views: 134.1ms | ActiveRecord: 19.9ms)


Started GET "/profiles/1" for 127.0.0.1 at 2020-01-15 23:13:42 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 5]]
  ↳ app/views/profiles/show.html.erb:22
  [1m[36mRequest Load (1.2ms)[0m  [1m[34mSELECT  "requests".* FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."requester_id" = $2 LIMIT $3[0m  [["requestee_id", 5], ["requester_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:23
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["requester_id", 1], ["accepted", 1], ["LIMIT", 4]]
  ↳ app/views/profiles/show.html.erb:66
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (0.6ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:82
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:83
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 5) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:110
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:122
  [1m[35m (3.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:160
  [1m[36mProfile Load (2.5ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:184
  Rendered profiles/show.html.erb within layouts/application (79.0ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 5], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 5], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:39
Completed 200 OK in 193ms (Views: 166.4ms | ActiveRecord: 15.5ms)


Started GET "/rooms/1?chat%5Buser2_id%5D=1" for 127.0.0.1 at 2020-01-15 23:13:44 +0800
Processing by RoomsController#show as HTML
  Parameters: {"chat"=>{"user2_id"=>"1"}, "id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:20
  [1m[35m (2.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/rooms_controller.rb:25
  [1m[36mRoom Create (1.8ms)[0m  [1m[32mINSERT INTO "rooms" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "1_5"], ["created_at", "2020-01-15 23:13:44.523500"], ["updated_at", "2020-01-15 23:13:44.523500"]]
  ↳ app/controllers/rooms_controller.rb:25
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/rooms_controller.rb:25
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (2.6ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 7]]
  ↳ app/views/rooms/index.html.erb:7
  Rendered rooms/index.html.erb within layouts/application (71.0ms)
  [1m[36mProfile Load (3.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 5], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 5], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:39
Completed 200 OK in 219ms (Views: 164.1ms | ActiveRecord: 21.8ms)


Started GET "/cable" for 127.0.0.1 at 2020-01-15 23:13:44 +0800
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-01-15 23:13:44 +0800
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY2xvbmUtYm9vay9Vc2VyLzU)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:3
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzc
Started POST "/room_messages" for 127.0.0.1 at 2020-01-15 23:13:53 +0800
Processing by RoomMessagesController#create as JS
  Parameters: {"utf8"=>"✓", "room_message"=>{"message"=>"Hello", "room_id"=>"7"}, "commit"=>"发送"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/room_messages_controller.rb:12
  [1m[35m (2.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/room_messages_controller.rb:4
  [1m[36mRoomMessage Create (1.3ms)[0m  [1m[32mINSERT INTO "room_messages" ("room_id", "user_id", "message", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["room_id", 7], ["user_id", 5], ["message", "Hello"], ["created_at", "2020-01-15 23:13:53.172390"], ["updated_at", "2020-01-15 23:13:53.172390"]]
  ↳ app/controllers/room_messages_controller.rb:4
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/room_messages_controller.rb:4
[ActionCable] Broadcasting to room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzc: #<RoomMessage id: 5, room_id: 7, user_id: 5, message: "Hello", created_at: "2020-01-15 15:13:53", updated_at: "2020-01-15 15:13:53">
  [1m[36mProfile Load (2.5ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/models/room_message.rb:9
RoomChannel transmitting {"id"=>5, "room_id"=>7, "user_id"=>5, "message"=>"Hello", "created_at"=>"2020-01-15T23:13:53.172+08:00", "updated_at"=>"2020-01-15T23:13:53.172+08:00", "user_full_name"=>"Xie Yi", "user_avatar_url"=>"https://wx3.sinaimg.cn/mw690/515a7464ly1g8pj3k5sctj20sg0izqbz.jpg"} (via streamed from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzc)
No template found for RoomMessagesController#create, rendering head :no_content
Completed 204 No Content in 206ms (ActiveRecord: 7.3ms)


Started GET "/profiles/1" for 127.0.0.1 at 2020-01-15 23:13:58 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (1.7ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 5]]
  ↳ app/views/profiles/show.html.erb:22
  [1m[36mRequest Load (3.3ms)[0m  [1m[34mSELECT  "requests".* FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."requester_id" = $2 LIMIT $3[0m  [["requestee_id", 5], ["requester_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:23
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["requester_id", 1], ["accepted", 1], ["LIMIT", 4]]
  ↳ app/views/profiles/show.html.erb:66
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (2.1ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[35m (2.0ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:82
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:83
  [1m[36mLike Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 5) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:110
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:122
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:160
  [1m[36mProfile Load (2.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:184
  Rendered profiles/show.html.erb within layouts/application (50.8ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 5], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 5], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:39
Completed 200 OK in 171ms (Views: 146.9ms | ActiveRecord: 17.8ms)


Started GET "/rooms/1?chat%5Buser2_id%5D=1" for 127.0.0.1 at 2020-01-15 23:14:00 +0800
Processing by RoomsController#show as HTML
  Parameters: {"chat"=>{"user2_id"=>"1"}, "id"=>"1"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:20
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (0.3ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 7]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 5]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  Rendered rooms/index.html.erb within layouts/application (25.2ms)
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 5], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 5], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:39
Completed 200 OK in 135ms (Views: 128.2ms | ActiveRecord: 2.3ms)


Started GET "/cable" for 127.0.0.1 at 2020-01-15 23:14:00 +0800
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-01-15 23:14:00 +0800
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY2xvbmUtYm9vay9Vc2VyLzU)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:3
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzc
Started GET "/profiles/5" for 127.0.0.1 at 2020-01-15 23:47:36 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:31
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 5], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 5], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:82
  Rendered profiles/show.html.erb within layouts/application (17.3ms)
  [1m[35m (8.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 5], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 5], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:39
Completed 200 OK in 139ms (Views: 117.9ms | ActiveRecord: 11.3ms)


Started GET "/profiles/5" for 127.0.0.1 at 2020-01-15 23:48:06 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (10.5ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mProfile Load (5.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:31
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 5], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 5], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:82
  Rendered profiles/show.html.erb within layouts/application (17.4ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 5], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 5], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:39
Completed 200 OK in 127ms (Views: 100.0ms | ActiveRecord: 17.9ms)


Started GET "/users/index" for 127.0.0.1 at 2020-01-15 23:48:09 +0800
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (id != 5) LIMIT $1 OFFSET $2[0m  [["LIMIT", 12], ["OFFSET", 0]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mProfile Load (2.9ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 5]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 5], ["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mUser Exists (2.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requester_id", 5], ["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:20
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 5]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 5], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requester_id", 5], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:20
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 5]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 5], ["id", 4], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mUser Exists (3.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requester_id", 5], ["id", 4], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:20
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 5]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mRequest Load (0.4ms)[0m  [1m[34mSELECT  "requests".* FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."requester_id" = $2 LIMIT $3[0m  [["requestee_id", 5], ["requester_id", 1], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:18
  Rendered users/index.html.erb within layouts/application (46.3ms)
  [1m[36mProfile Load (4.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 5], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 5], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:39
Completed 200 OK in 147ms (Views: 125.2ms | ActiveRecord: 19.7ms)


Started GET "/profiles/1" for 127.0.0.1 at 2020-01-15 23:48:10 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mUser Load (4.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 5]]
  ↳ app/views/profiles/show.html.erb:22
  [1m[36mRequest Load (0.3ms)[0m  [1m[34mSELECT  "requests".* FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."requester_id" = $2 LIMIT $3[0m  [["requestee_id", 5], ["requester_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:23
  [1m[35m (2.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["requester_id", 1], ["accepted", 1], ["LIMIT", 4]]
  ↳ app/views/profiles/show.html.erb:66
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (3.6ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:82
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:83
  [1m[36mLike Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 5) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:110
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:122
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:160
  [1m[36mProfile Load (2.8ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:184
  Rendered profiles/show.html.erb within layouts/application (65.8ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 5], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 5], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:39
Completed 200 OK in 189ms (Views: 161.4ms | ActiveRecord: 18.2ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-01-15 23:49:52 +0800
RoomChannel stopped streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzc
Started DELETE "/users/sign_out" for 127.0.0.1 at 2020-01-15 23:49:52 +0800
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"tVs7DAgPXFenU2O/7Nh5Dac/Qj8wyF5NfVjtjQervuqGGIm+w4wFFSs07FRZppS03bC0mamshRn684JXBrz2Ig=="}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (4.9ms)[0m  [1m[33mUPDATE "users" SET "remember_created_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_created_at", nil], ["updated_at", "2020-01-15 23:49:52.148831"], ["id", 5]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (7.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 21ms (ActiveRecord: 14.3ms)


Started GET "/" for 127.0.0.1 at 2020-01-15 23:49:52 +0800
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2020-01-15 23:49:52 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (4.3ms)
Completed 200 OK in 91ms (Views: 89.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2020-01-15 23:49:57 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"wWa4OI/F+K9fLvtOVBJMes8OJTSjvTJGQ6udfGVDkOMkyHRzL03knJpPq+WcNO9xBnR5wUB9xZ+16do7CvxetQ==", "user"=>{"email"=>"wangyicheng215@mails.ucas.ac.cn", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"提交"}
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "wangyicheng215@mails.ucas.ac.cn"], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (4.8ms)[0m  [1m[35mBEGIN[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "remember_created_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_created_at", "2020-01-15 23:49:58.201479"], ["updated_at", "2020-01-15 23:49:58.207032"], ["id", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 10], ["current_sign_in_at", "2020-01-15 23:49:58.212127"], ["last_sign_in_at", "2020-01-15 23:02:45.325549"], ["updated_at", "2020-01-15 23:49:58.212931"], ["id", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 240ms (ActiveRecord: 10.9ms)


Started GET "/" for 127.0.0.1 at 2020-01-15 23:49:58 +0800
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (2.3ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (1.6ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (2.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (2,3,4) OR user_id = 1) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (2.7ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (4.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (2.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (1.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (2.5ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[36mLike Load (1.0ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:63
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:74
  [1m[36mLike Load (1.8ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:78
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mComment Load (1.9ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1 ORDER BY "comments"."created_at" ASC[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:110
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:111
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:112
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (4.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:108
  Rendered posts/index.html.erb within layouts/application (96.8ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 200ms (Views: 154.7ms | ActiveRecord: 39.2ms)


Started GET "/users/index" for 127.0.0.1 at 2020-01-15 23:50:00 +0800
Processing by UsersController#index as HTML
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (id != 1) LIMIT $1 OFFSET $2[0m  [["LIMIT", 12], ["OFFSET", 0]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mProfile Load (0.5ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 4], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mProfile Load (3.8ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 5], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requester_id", 1], ["id", 5], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:20
  Rendered users/index.html.erb within layouts/application (39.9ms)
  [1m[36mProfile Load (2.6ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (2.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 152ms (Views: 132.0ms | ActiveRecord: 16.2ms)


Started GET "/profiles/5" for 127.0.0.1 at 2020-01-15 23:50:02 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/profiles/show.html.erb:22
  [1m[36mUser Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 5], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:24
  [1m[36mUser Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requester_id", 1], ["id", 5], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:25
  [1m[35m (2.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 5], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 5], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:82
  Rendered profiles/show.html.erb within layouts/application (22.2ms)
  [1m[36mProfile Load (2.6ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (5.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 156ms (Views: 131.1ms | ActiveRecord: 17.9ms)


Started GET "/rooms/5?chat%5Buser2_id%5D=5" for 127.0.0.1 at 2020-01-15 23:50:04 +0800
Processing by RoomsController#show as HTML
  Parameters: {"chat"=>{"user2_id"=>"5"}, "id"=>"5"}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:20
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (0.5ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 7]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 5]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mProfile Load (1.5ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  Rendered rooms/index.html.erb within layouts/application (26.0ms)
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 131ms (Views: 120.5ms | ActiveRecord: 6.5ms)


Started GET "/cable" for 127.0.0.1 at 2020-01-15 23:50:04 +0800
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-01-15 23:50:04 +0800
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY2xvbmUtYm9vay9Vc2VyLzE)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:3
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzc
Started GET "/users/index" for 127.0.0.1 at 2020-01-15 23:50:13 +0800
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (id != 1) LIMIT $1 OFFSET $2[0m  [["LIMIT", 12], ["OFFSET", 0]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (2.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 4], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mProfile Load (2.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 5], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mUser Exists (3.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requester_id", 1], ["id", 5], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:20
  Rendered users/index.html.erb within layouts/application (40.8ms)
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 141ms (Views: 121.4ms | ActiveRecord: 15.9ms)


Started GET "/profiles/5" for 127.0.0.1 at 2020-01-15 23:50:18 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (3.5ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mUser Load (8.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/profiles/show.html.erb:22
  [1m[36mUser Exists (2.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 5], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:24
  [1m[36mUser Exists (2.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requester_id", 1], ["id", 5], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:25
  [1m[35m (1.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 5], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 5], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:82
  Rendered profiles/show.html.erb within layouts/application (40.8ms)
  [1m[36mProfile Load (1.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 158ms (Views: 125.8ms | ActiveRecord: 22.8ms)


Started GET "/chatroom" for 127.0.0.1 at 2020-01-15 23:51:33 +0800
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "public_room"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:3
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (0.5ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  Rendered rooms/index.html.erb within layouts/application (17.7ms)
  [1m[36mProfile Load (3.6ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 132ms (Views: 120.5ms | ActiveRecord: 5.4ms)


  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:3
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzE
Started POST "/room_messages" for 127.0.0.1 at 2020-01-15 23:51:41 +0800
Processing by RoomMessagesController#create as JS
  Parameters: {"utf8"=>"✓", "room_message"=>{"message"=>"Hello everyone", "room_id"=>"1"}, "commit"=>"发送"}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/room_messages_controller.rb:12
  [1m[35m (1.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/room_messages_controller.rb:4
  [1m[36mRoomMessage Create (2.1ms)[0m  [1m[32mINSERT INTO "room_messages" ("room_id", "user_id", "message", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["room_id", 1], ["user_id", 1], ["message", "Hello everyone"], ["created_at", "2020-01-15 23:51:41.363134"], ["updated_at", "2020-01-15 23:51:41.363134"]]
  ↳ app/controllers/room_messages_controller.rb:4
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/room_messages_controller.rb:4
[ActionCable] Broadcasting to room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzE: #<RoomMessage id: 6, room_id: 1, user_id: 1, message: "Hello everyone", created_at: "2020-01-15 15:51:41", updated_at: "2020-01-15 15:51:41">
  [1m[36mProfile Load (1.7ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/room_message.rb:9
RoomChannel transmitting {"id"=>6, "room_id"=>1, "user_id"=>1, "message"=>"Hello everyone", "created_at"=>"2020-01-15T23:51:41.363+08:00", "updated_at"=>"2020-01-15T23:51:41.363+08:00", "user_full_name"=>"Wang Yicheng", "user_avatar_url"=>"https://wx3.sinaimg.cn/mw690/515a7464ly1g8pj3k5sctj20sg0izqbz.jpg"} (via streamed from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzE)
No template found for RoomMessagesController#create, rendering head :no_content
Completed 204 No Content in 199ms (ActiveRecord: 8.4ms)


Started GET "/chatroom" for 127.0.0.1 at 2020-01-16 00:10:20 +0800
Processing by RoomsController#index as HTML
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "public_room"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:3
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (0.5ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  Rendered rooms/index.html.erb within layouts/application (23.9ms)
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 137ms (Views: 125.3ms | ActiveRecord: 5.2ms)


Started GET "/chatroom" for 127.0.0.1 at 2020-01-16 00:10:23 +0800
Processing by RoomsController#index as HTML
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (1.0ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "public_room"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:3
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (0.3ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  Rendered rooms/index.html.erb within layouts/application (16.0ms)
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (2.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 128ms (Views: 119.6ms | ActiveRecord: 5.5ms)


Started GET "/chatroom" for 127.0.0.1 at 2020-01-16 00:10:24 +0800
Processing by RoomsController#index as HTML
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "public_room"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:3
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (0.3ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mProfile Load (0.6ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  Rendered rooms/index.html.erb within layouts/application (21.2ms)
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 127ms (Views: 116.2ms | ActiveRecord: 4.3ms)


Started GET "/chatroom" for 127.0.0.1 at 2020-01-16 00:10:24 +0800
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "public_room"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:3
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (0.3ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  Rendered rooms/index.html.erb within layouts/application (19.3ms)
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (2.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 129ms (Views: 119.0ms | ActiveRecord: 6.2ms)


Started GET "/chatroom" for 127.0.0.1 at 2020-01-16 00:10:25 +0800
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "public_room"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:3
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (1.4ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mProfile Load (1.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  Rendered rooms/index.html.erb within layouts/application (22.0ms)
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 150ms (Views: 137.3ms | ActiveRecord: 5.4ms)


Started GET "/chatroom" for 127.0.0.1 at 2020-01-16 00:10:25 +0800
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (2.4ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "public_room"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:3
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (4.9ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  Rendered rooms/index.html.erb within layouts/application (27.9ms)
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (2.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 138ms (Views: 121.8ms | ActiveRecord: 10.6ms)


Started GET "/chatroom" for 127.0.0.1 at 2020-01-16 00:10:25 +0800
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (1.8ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "public_room"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:3
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (0.3ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mProfile Load (1.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  Rendered rooms/index.html.erb within layouts/application (33.7ms)
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 139ms (Views: 128.6ms | ActiveRecord: 6.7ms)


Started GET "/users/index" for 127.0.0.1 at 2020-01-16 00:10:34 +0800
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (id != 1) LIMIT $1 OFFSET $2[0m  [["LIMIT", 12], ["OFFSET", 0]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mProfile Load (1.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 4], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mProfile Load (2.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (1.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 5], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requester_id", 1], ["id", 5], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:20
  Rendered users/index.html.erb within layouts/application (38.4ms)
  [1m[36mProfile Load (2.7ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 157ms (Views: 138.7ms | ActiveRecord: 14.7ms)


Started GET "/profiles/5" for 127.0.0.1 at 2020-01-16 00:10:35 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (1.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/profiles/show.html.erb:22
  [1m[36mUser Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 5], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:24
  [1m[36mUser Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requester_id", 1], ["id", 5], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:25
  [1m[35m (2.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 5], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 5], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:82
  Rendered profiles/show.html.erb within layouts/application (23.5ms)
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (2.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 144ms (Views: 124.8ms | ActiveRecord: 12.1ms)


Started GET "/rooms/5?chat%5Buser2_id%5D=5" for 127.0.0.1 at 2020-01-16 00:10:37 +0800
Processing by RoomsController#show as HTML
  Parameters: {"chat"=>{"user2_id"=>"5"}, "id"=>"5"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:20
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (0.3ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 7]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 5]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mProfile Load (1.7ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  Rendered rooms/index.html.erb within layouts/application (19.8ms)
  [1m[36mProfile Load (2.5ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (1.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 130ms (Views: 117.3ms | ActiveRecord: 8.6ms)


Started GET "/chatroom" for 127.0.0.1 at 2020-01-16 00:10:41 +0800
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "public_room"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:3
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (1.6ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mUser Load (4.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mProfile Load (1.5ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  Rendered rooms/index.html.erb within layouts/application (43.5ms)
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (1.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 149ms (Views: 127.6ms | ActiveRecord: 10.3ms)


Started GET "/users/index" for 127.0.0.1 at 2020-01-16 00:34:49 +0800
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (id != 1) LIMIT $1 OFFSET $2[0m  [["LIMIT", 12], ["OFFSET", 0]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mProfile Load (3.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mProfile Load (0.8ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (3.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 4], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 5], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mUser Exists (2.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requester_id", 1], ["id", 5], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:20
  Rendered users/index.html.erb within layouts/application (38.8ms)
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (3.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 155ms (Views: 130.1ms | ActiveRecord: 19.6ms)


Started GET "/profiles/5" for 127.0.0.1 at 2020-01-16 00:34:50 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/profiles/show.html.erb:22
  [1m[36mUser Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 5], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:24
  [1m[36mUser Exists (2.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requester_id", 1], ["id", 5], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:25
  [1m[35m (2.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 5], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 5], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:82
  Rendered profiles/show.html.erb within layouts/application (23.0ms)
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (2.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 152ms (Views: 130.4ms | ActiveRecord: 13.4ms)


Started GET "/rooms/5?chat%5Buser2_id%5D=5" for 127.0.0.1 at 2020-01-16 00:34:52 +0800
Processing by RoomsController#show as HTML
  Parameters: {"chat"=>{"user2_id"=>"5"}, "id"=>"5"}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (1.3ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:20
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (2.6ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 7]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 5]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  Rendered rooms/index.html.erb within layouts/application (26.9ms)
  [1m[36mProfile Load (2.1ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (2.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 131ms (Views: 115.0ms | ActiveRecord: 12.4ms)


Started GET "/users/index" for 127.0.0.1 at 2020-01-16 00:35:37 +0800
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (id != 1) LIMIT $1 OFFSET $2[0m  [["LIMIT", 12], ["OFFSET", 0]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mProfile Load (1.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (4.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 4], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (4.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 5], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requester_id", 1], ["id", 5], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:20
  Rendered users/index.html.erb within layouts/application (38.6ms)
  [1m[36mProfile Load (6.5ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 143ms (Views: 117.1ms | ActiveRecord: 22.2ms)


Started GET "/profiles/3" for 127.0.0.1 at 2020-01-16 00:35:38 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/profiles/show.html.erb:22
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 3], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:24
  [1m[35m (2.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 3], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["requester_id", 3], ["accepted", 1], ["LIMIT", 4]]
  ↳ app/views/profiles/show.html.erb:66
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (2.7ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 3], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:82
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["user_id", 3], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:83
  [1m[36mLike Exists (2.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 3], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:110
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/profiles/show.html.erb:122
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/profiles/show.html.erb:160
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:184
  Rendered profiles/show.html.erb within layouts/application (41.5ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 159ms (Views: 136.7ms | ActiveRecord: 15.3ms)


Started GET "/rooms/3?chat%5Buser2_id%5D=3" for 127.0.0.1 at 2020-01-16 00:35:40 +0800
Processing by RoomsController#show as HTML
  Parameters: {"chat"=>{"user2_id"=>"3"}, "id"=>"3"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (1.9ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:20
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (2.7ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 6]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mProfile Load (3.5ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  Rendered rooms/index.html.erb within layouts/application (23.9ms)
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:37
Completed 200 OK in 129ms (Views: 116.9ms | ActiveRecord: 9.3ms)


  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:3
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzY
Started GET "/cable" for 127.0.0.1 at 2020-01-16 01:35:08 +0800
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-01-16 01:35:08 +0800
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY2xvbmUtYm9vay9Vc2VyLzE)
  [1m[36mRoom Load (4.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:3
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzc
Started GET "/cable" for 127.0.0.1 at 2020-01-16 01:35:09 +0800
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-01-16 01:35:09 +0800
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY2xvbmUtYm9vay9Vc2VyLzE)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:3
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzc
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:3
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzE
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:3
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzY
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-01-16 01:35:14 +0800
RoomChannel stopped streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzc
RoomChannel stopped streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzE
RoomChannel stopped streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzY
Started GET "/" for 127.0.0.1 at 2020-01-16 01:35:14 +0800
Processing by PostsController#index as HTML
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (0.7ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (2,3,4) OR user_id = 1) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (0.5ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (4.9ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (3.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (3.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (0.7ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (5.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (3.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:63
  [1m[35m (3.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:74
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:78
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mComment Load (2.2ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1 ORDER BY "comments"."created_at" ASC[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:110
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:111
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:112
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:108
  Rendered posts/index.html.erb within layouts/application (434.2ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (1.4ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
Completed 500 Internal Server Error in 1362ms (ActiveRecord: 65.0ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :chat=>{:user2_id=>#<User id: 3, first_name: "Jia", last_name: "Wenqing", email: "jiawenqing15@mails.ucas.ac.cn", created_at: "2019-12-16 23:48:13", updated_at: "2019-12-16 23:48:13", provider: nil, uid: nil, name: nil, image: nil>}, :controller=>"rooms"}, missing required keys: [:id]):
    46:               <% if user.id > current_user.id %>
    47:                 <% if Room.find_by(name:current_user.id.to_s + '_' + user.id.to_s) != nil %>
    48:                   <li class="link-rooms">
    49:                     <%= link_to "私人消息 (#{user.last_name})", room_path(chat:{user2_id:user}) %>
    50:                   </li>
    51:                 <% end %>
    52:               <% end %>
  
app/views/layouts/application.html.erb:49:in `block in _app_views_layouts_application_html_erb___3303000115627186037_34793140'
app/views/layouts/application.html.erb:38:in `_app_views_layouts_application_html_erb___3303000115627186037_34793140'
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-01-16 01:36:35 +0800
RoomChannel stopped streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzc
Started GET "/profiles/1" for 127.0.0.1 at 2020-01-16 01:36:35 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.7ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mProfile Load (1.8ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:31
  [1m[35m (3.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["requester_id", 1], ["accepted", 1], ["LIMIT", 4]]
  ↳ app/views/profiles/show.html.erb:66
  [1m[36mProfile Load (2.6ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:82
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:83
  [1m[36mLike Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:110
  [1m[35m (2.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:122
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:160
  Rendered profiles/show.html.erb within layouts/application (51.7ms)
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 227ms (Views: 183.2ms | ActiveRecord: 22.5ms)


Started GET "/rooms/1?chat%5Buser2_id%5D=3" for 127.0.0.1 at 2020-01-16 01:36:46 +0800
Processing by RoomsController#show as HTML
  Parameters: {"chat"=>{"user2_id"=>"3"}, "id"=>"1"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:20
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (32.1ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 6]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  Rendered rooms/index.html.erb within layouts/application (93.6ms)
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (0.6ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (3.9ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 228ms (Views: 158.2ms | ActiveRecord: 46.7ms)


Started GET "/cable" for 127.0.0.1 at 2020-01-16 01:36:46 +0800
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-01-16 01:36:46 +0800
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY2xvbmUtYm9vay9Vc2VyLzE)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:3
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzY
Started GET "/rooms/1?chat%5Buser2_id%5D=2" for 127.0.0.1 at 2020-01-16 01:36:52 +0800
Processing by RoomsController#show as HTML
  Parameters: {"chat"=>{"user2_id"=>"2"}, "id"=>"1"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:20
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (1.4ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 5]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  Rendered rooms/index.html.erb within layouts/application (22.0ms)
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[35m (2.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 144ms (Views: 131.4ms | ActiveRecord: 8.7ms)


  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:3
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzU
Started GET "/rooms/1?chat%5Buser2_id%5D=5" for 127.0.0.1 at 2020-01-16 01:37:04 +0800
Processing by RoomsController#show as HTML
  Parameters: {"chat"=>{"user2_id"=>"5"}, "id"=>"1"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:20
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (1.6ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 7]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 5]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mProfile Load (3.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  Rendered rooms/index.html.erb within layouts/application (18.7ms)
  [1m[36mProfile Load (4.7ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (1.7ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 147ms (Views: 129.3ms | ActiveRecord: 14.0ms)


  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:3
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzc
Started GET "/rooms/1?chat%5Buser2_id%5D=2" for 127.0.0.1 at 2020-01-16 01:37:07 +0800
Processing by RoomsController#show as HTML
  Parameters: {"chat"=>{"user2_id"=>"2"}, "id"=>"1"}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:20
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (0.3ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 5]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mUser Load (3.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  Rendered rooms/index.html.erb within layouts/application (27.6ms)
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (0.7ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 172ms (Views: 159.1ms | ActiveRecord: 8.8ms)


Started GET "/rooms/3?chat%5Buser2_id%5D=3" for 127.0.0.1 at 2020-01-16 01:38:35 +0800
Processing by RoomsController#show as HTML
  Parameters: {"chat"=>{"user2_id"=>"3"}, "id"=>"3"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:20
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (1.6ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 6]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mProfile Load (2.5ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  Rendered rooms/index.html.erb within layouts/application (24.3ms)
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[35m (2.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 150ms (Views: 135.5ms | ActiveRecord: 10.6ms)


Started GET "/cable" for 127.0.0.1 at 2020-01-16 01:38:35 +0800
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-01-16 01:38:35 +0800
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY2xvbmUtYm9vay9Vc2VyLzE)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:3
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzY
Started GET "/profiles/3" for 127.0.0.1 at 2020-01-16 01:38:37 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (1.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mUser Load (3.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/profiles/show.html.erb:22
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 3], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:24
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 3], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["requester_id", 3], ["accepted", 1], ["LIMIT", 4]]
  ↳ app/views/profiles/show.html.erb:66
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (0.7ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[35m (2.6ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 3], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:82
  [1m[36mPost Load (0.6ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["user_id", 3], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:83
  [1m[36mLike Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 3], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:110
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/profiles/show.html.erb:122
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/profiles/show.html.erb:160
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:184
  Rendered profiles/show.html.erb within layouts/application (61.3ms)
  [1m[36mUser Load (3.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (1.4ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[35m (2.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 170ms (Views: 135.9ms | ActiveRecord: 25.7ms)


Started GET "/users/index" for 127.0.0.1 at 2020-01-16 01:38:39 +0800
Processing by UsersController#index as HTML
  [1m[36mUser Load (4.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (id != 1) LIMIT $1 OFFSET $2[0m  [["LIMIT", 12], ["OFFSET", 0]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 4], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 5], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mUser Exists (4.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requester_id", 1], ["id", 5], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:20
  Rendered users/index.html.erb within layouts/application (39.5ms)
  [1m[36mProfile Load (5.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
Completed 500 Internal Server Error in 157ms (ActiveRecord: 21.0ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :chat=>{:user2_id=>#<User id: 3, first_name: "Jia", last_name: "Wenqing", email: "jiawenqing15@mails.ucas.ac.cn", created_at: "2019-12-16 23:48:13", updated_at: "2019-12-16 23:48:13", provider: nil, uid: nil, name: nil, image: nil>}, :controller=>"rooms"}, missing required keys: [:id]):
    46:               <% if user.id > current_user.id %>
    47:                 <% if Room.find_by(name:current_user.id.to_s + '_' + user.id.to_s) != nil %>
    48:                   <li class="link-rooms">
    49:                     <%= link_to "私人消息 (#{user.last_name})", room_path(chat:{user2_id:user}) %>
    50:                   </li>
    51:                 <% end %>
    52:               <% end %>
  
app/views/layouts/application.html.erb:49:in `block in _app_views_layouts_application_html_erb___3303000115627186037_70331648872720'
app/views/layouts/application.html.erb:38:in `_app_views_layouts_application_html_erb___3303000115627186037_70331648872720'
Started GET "/rooms/5?chat%5Buser2_id%5D=5" for 127.0.0.1 at 2020-01-16 01:38:41 +0800
Processing by RoomsController#show as HTML
  Parameters: {"chat"=>{"user2_id"=>"5"}, "id"=>"5"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.6ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:20
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (4.7ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 7]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 5]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  Rendered rooms/index.html.erb within layouts/application (22.5ms)
  [1m[36mProfile Load (3.1ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (1.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 142ms (Views: 126.1ms | ActiveRecord: 12.5ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-01-16 01:38:41 +0800
RoomChannel stopped streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzY
Started GET "/rooms/5?chat%5Buser2_id%5D=5" for 127.0.0.1 at 2020-01-16 01:38:41 +0800
Processing by RoomsController#show as HTML
  Parameters: {"chat"=>{"user2_id"=>"5"}, "id"=>"5"}
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:20
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (0.4ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 7]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 5]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  Rendered rooms/index.html.erb within layouts/application (17.8ms)
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (2.6ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 130ms (Views: 116.5ms | ActiveRecord: 7.9ms)


Started GET "/cable" for 127.0.0.1 at 2020-01-16 01:38:42 +0800
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-01-16 01:38:42 +0800
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY2xvbmUtYm9vay9Vc2VyLzE)
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:3
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzc
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-01-16 01:38:44 +0800
RoomChannel stopped streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzc
Started DELETE "/users/sign_out" for 127.0.0.1 at 2020-01-16 01:38:44 +0800
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"68nk25FAZ3iF991taGZK4FMhAH3K4UrFZTrPT1rYe9KZjO60QDkVYYh6DOZVg+z1THyfu78aFtueaOOU2Euoig=="}
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (2.1ms)[0m  [1m[33mUPDATE "users" SET "remember_created_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_created_at", nil], ["updated_at", "2020-01-16 01:38:44.632248"], ["id", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 20ms (ActiveRecord: 5.5ms)


Started GET "/" for 127.0.0.1 at 2020-01-16 01:38:44 +0800
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2020-01-16 01:38:44 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (11.0ms)
Completed 200 OK in 103ms (Views: 102.0ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2020-01-16 01:38:53 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"/gB+i34cPwyCnev6nVApqeSqPrQF2+io2hFxzzX42T9ewQlYPvXACx3ktofw/1giZWBlmygFytuO9f/JexOCDQ==", "user"=>{"email"=>"hudenghang15@mails.ucas.ac.cn", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"提交"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "hudenghang15@mails.ucas.ac.cn"], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (2.4ms)[0m  [1m[35mBEGIN[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (2.4ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 3], ["current_sign_in_at", "2020-01-16 01:38:53.989043"], ["last_sign_in_at", "2019-12-17 08:33:48.802677"], ["updated_at", "2020-01-16 01:38:53.993454"], ["id", 2]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (3.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 246ms (ActiveRecord: 9.4ms)


Started GET "/" for 127.0.0.1 at 2020-01-16 01:38:54 +0800
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 2], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (0.6ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (1,3) OR user_id = 2) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 2) LIMIT $2[0m  [["post_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (3.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 2) LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (4.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:74
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:78
  [1m[35m (3.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mComment Load (0.3ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1 ORDER BY "comments"."created_at" ASC[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:110
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:111
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:112
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 2) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:108
  Rendered posts/index.html.erb within layouts/application (68.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:40
Completed 500 Internal Server Error in 218ms (ActiveRecord: 21.7ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :chat=>{:user2_id=>#<User id: 1, first_name: "Wang", last_name: "Yicheng", email: "wangyicheng215@mails.ucas.ac.cn", created_at: "2019-12-16 23:45:28", updated_at: "2020-01-15 17:38:44", provider: nil, uid: nil, name: nil, image: nil>}, :controller=>"rooms"}, missing required keys: [:id]):
    39:               <% if user.id < current_user.id %>
    40:                 <% if Room.find_by(name:user.id.to_s + '_' + current_user.id.to_s) != nil %>
    41:                   <li class="link-rooms">
    42:                     <%= link_to "私人消息 (#{user.last_name})", room_path(chat:{user2_id:user}) %>
    43:                   </li>
    44:                 <% end %>
    45:               <% end %>
  
app/views/layouts/application.html.erb:42:in `block in _app_views_layouts_application_html_erb___3303000115627186037_70331667862300'
app/views/layouts/application.html.erb:38:in `_app_views_layouts_application_html_erb___3303000115627186037_70331667862300'
Started GET "/profiles/1" for 127.0.0.1 at 2020-01-16 01:39:14 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 2]]
  ↳ app/views/profiles/show.html.erb:22
  [1m[36mUser Exists (2.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 2], ["id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:24
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["requester_id", 1], ["accepted", 1], ["LIMIT", 4]]
  ↳ app/views/profiles/show.html.erb:66
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (0.6ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (1.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[35m (2.5ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:82
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:83
  [1m[36mLike Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 2) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:110
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:122
  [1m[35m (2.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:160
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:184
  Rendered profiles/show.html.erb within layouts/application (46.1ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:40
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "2_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "2_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (2.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "2_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 2], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:55
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 2], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:57
Completed 200 OK in 173ms (Views: 143.1ms | ActiveRecord: 20.9ms)


Started GET "/" for 127.0.0.1 at 2020-01-16 01:39:53 +0800
Processing by PostsController#index as HTML
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 2], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (1.9ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (3.3ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (1,3) OR user_id = 2) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (1.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 2) LIMIT $2[0m  [["post_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (1.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (3.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 2) LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:74
  [1m[36mLike Load (1.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:78
  [1m[35m (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mComment Load (0.3ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1 ORDER BY "comments"."created_at" ASC[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:110
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:111
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:112
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 2) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (1.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:108
  Rendered posts/index.html.erb within layouts/application (84.5ms)
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (2.6ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:40
Completed 500 Internal Server Error in 185ms (ActiveRecord: 30.3ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :chat=>{:user2_id=>#<User id: 1, first_name: "Wang", last_name: "Yicheng", email: "wangyicheng215@mails.ucas.ac.cn", created_at: "2019-12-16 23:45:28", updated_at: "2020-01-15 17:38:44", provider: nil, uid: nil, name: nil, image: nil>}, :controller=>"rooms"}, missing required keys: [:id]):
    39:               <% if user.id < current_user.id %>
    40:                 <% if Room.find_by(name:user.id.to_s + '_' + current_user.id.to_s) != nil %>
    41:                   <li class="link-rooms">
    42:                     <%= link_to "私人消息 (#{user.last_name})", room_path(chat:{user2_id:user}) %>
    43:                   </li>
    44:                 <% end %>
    45:               <% end %>
  
app/views/layouts/application.html.erb:42:in `block in _app_views_layouts_application_html_erb___3303000115627186037_50876920'
app/views/layouts/application.html.erb:38:in `_app_views_layouts_application_html_erb___3303000115627186037_50876920'
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-01-16 01:40:25 +0800
RoomChannel stopped streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzY
RoomChannel stopped streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzU
RoomChannel stopped streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzc
Started GET "/" for 127.0.0.1 at 2020-01-16 01:40:25 +0800
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (3.4ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 2], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (5.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (1,3) OR user_id = 2) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (1.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (4.6ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 2) LIMIT $2[0m  [["post_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 2) LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:74
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:78
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mComment Load (3.3ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1 ORDER BY "comments"."created_at" ASC[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:110
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:111
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:112
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 2) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (2.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:108
  Rendered posts/index.html.erb within layouts/application (69.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:40
Completed 500 Internal Server Error in 176ms (ActiveRecord: 26.4ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :chat=>{:user2_id=>#<User id: 1, first_name: "Wang", last_name: "Yicheng", email: "wangyicheng215@mails.ucas.ac.cn", created_at: "2019-12-16 23:45:28", updated_at: "2020-01-15 17:38:44", provider: nil, uid: nil, name: nil, image: nil>}, :controller=>"rooms"}, missing required keys: [:id]):
    39:               <% if user.id < current_user.id %>
    40:                 <% if Room.find_by(name:user.id.to_s + '_' + current_user.id.to_s) != nil %>
    41:                   <li class="link-rooms">
    42:                     <%= link_to "私人消息 (#{user.last_name})", room_path(chat:{user2_id:user}) %>
    43:                   </li>
    44:                 <% end %>
    45:               <% end %>
  
app/views/layouts/application.html.erb:42:in `block in _app_views_layouts_application_html_erb___3303000115627186037_70331770146880'
app/views/layouts/application.html.erb:38:in `_app_views_layouts_application_html_erb___3303000115627186037_70331770146880'
Started GET "/rooms/1?chat%5Buser2_id%5D=2" for 127.0.0.1 at 2020-01-16 01:40:30 +0800
Processing by RoomsController#show as HTML
  Parameters: {"chat"=>{"user2_id"=>"2"}, "id"=>"1"}
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.7ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "2_2"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:20
  [1m[35m (1.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/rooms_controller.rb:25
  [1m[36mRoom Create (0.3ms)[0m  [1m[32mINSERT INTO "rooms" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "2_2"], ["created_at", "2020-01-16 01:40:30.764228"], ["updated_at", "2020-01-16 01:40:30.764228"]]
  ↳ app/controllers/rooms_controller.rb:25
  [1m[35m (5.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/rooms_controller.rb:25
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (1.6ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 8]]
  ↳ app/views/rooms/index.html.erb:7
  Rendered rooms/index.html.erb within layouts/application (16.7ms)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:40
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "2_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "2_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (2.6ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "2_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 2], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:55
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 2], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:57
Completed 200 OK in 150ms (Views: 127.7ms | ActiveRecord: 15.2ms)


Started GET "/cable" for 127.0.0.1 at 2020-01-16 01:40:31 +0800
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-01-16 01:40:31 +0800
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY2xvbmUtYm9vay9Vc2VyLzI)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:3
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzg
Started GET "/chatroom" for 127.0.0.1 at 2020-01-16 01:40:34 +0800
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (1.5ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "public_room"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:3
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (4.1ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  Rendered rooms/index.html.erb within layouts/application (23.5ms)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (2.5ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:40
Completed 500 Internal Server Error in 139ms (ActiveRecord: 9.5ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :chat=>{:user2_id=>#<User id: 1, first_name: "Wang", last_name: "Yicheng", email: "wangyicheng215@mails.ucas.ac.cn", created_at: "2019-12-16 23:45:28", updated_at: "2020-01-15 17:38:44", provider: nil, uid: nil, name: nil, image: nil>}, :controller=>"rooms"}, missing required keys: [:id]):
    39:               <% if user.id < current_user.id %>
    40:                 <% if Room.find_by(name:user.id.to_s + '_' + current_user.id.to_s) != nil %>
    41:                   <li class="link-rooms">
    42:                     <%= link_to "私人消息 (#{user.last_name})", room_path(chat:{user2_id:user}) %>
    43:                   </li>
    44:                 <% end %>
    45:               <% end %>
  
app/views/layouts/application.html.erb:42:in `block in _app_views_layouts_application_html_erb___3303000115627186037_70331702154900'
app/views/layouts/application.html.erb:38:in `_app_views_layouts_application_html_erb___3303000115627186037_70331702154900'
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-01-16 01:42:19 +0800
RoomChannel stopped streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzg
Started GET "/users/sign_in" for 127.0.0.1 at 2020-01-16 01:42:35 +0800
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by Devise::SessionsController#new as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "last_sign_in_at" = $2, "sign_in_count" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["current_sign_in_at", "2020-01-16 01:42:35.481672"], ["last_sign_in_at", "2020-01-16 01:38:53.989043"], ["sign_in_count", 4], ["updated_at", "2020-01-16 01:42:35.482955"], ["id", 2]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 307ms (ActiveRecord: 6.3ms)


Started GET "/" for 127.0.0.1 at 2020-01-16 01:42:36 +0800
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 2], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (1.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (3.0ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (1,3) OR user_id = 2) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (2.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 2) LIMIT $2[0m  [["post_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (2.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 2) LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (2.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:74
  [1m[36mLike Load (1.8ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:78
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mComment Load (0.3ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1 ORDER BY "comments"."created_at" ASC[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:110
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:111
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:112
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 2) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:108
  Rendered posts/index.html.erb within layouts/application (184.9ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:40
Completed 500 Internal Server Error in 1102ms (ActiveRecord: 47.2ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :chat=>{:user2_id=>#<User id: 1, first_name: "Wang", last_name: "Yicheng", email: "wangyicheng215@mails.ucas.ac.cn", created_at: "2019-12-16 23:45:28", updated_at: "2020-01-15 17:38:44", provider: nil, uid: nil, name: nil, image: nil>}, :controller=>"rooms"}, missing required keys: [:id]):
    39:               <% if user.id < current_user.id %>
    40:                 <% if Room.find_by(name:user.id.to_s + '_' + current_user.id.to_s) != nil %>
    41:                   <li class="link-rooms">
    42:                     <%= link_to "私人消息 (#{user.last_name})", room_path(chat:{user2_id:user}) %>
    43:                   </li>
    44:                 <% end %>
    45:               <% end %>
  
app/views/layouts/application.html.erb:42:in `block in _app_views_layouts_application_html_erb___4521822092410025809_63934960'
app/views/layouts/application.html.erb:38:in `_app_views_layouts_application_html_erb___4521822092410025809_63934960'
Started GET "/profiles/1" for 127.0.0.1 at 2020-01-16 01:43:33 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 2]]
  ↳ app/views/profiles/show.html.erb:22
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 2], ["id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:24
  [1m[35m (4.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[36mUser Load (4.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["requester_id", 1], ["accepted", 1], ["LIMIT", 4]]
  ↳ app/views/profiles/show.html.erb:66
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (2.6ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[35m (3.6ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:82
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:83
  [1m[36mLike Exists (2.6ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 2) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:110
  [1m[35m (2.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:122
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:160
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:184
  Rendered profiles/show.html.erb within layouts/application (81.0ms)
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:40
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "2_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "2_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "2_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[35m (3.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 2], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:55
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 2], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:57
Completed 200 OK in 270ms (Views: 224.4ms | ActiveRecord: 31.7ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2020-01-16 01:43:41 +0800
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"WFPgHvjP2RhHRqwZqLx3G8I6cuhPfCeP3bY/EymfSGdBl9slsC6ngLolVrmWyVRy9P8lmIAxvFN6Mxim5Kwl0Q=="}
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (2.5ms)[0m  [1m[33mUPDATE "users" SET "remember_created_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_created_at", nil], ["updated_at", "2020-01-16 01:43:41.312273"], ["id", 2]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 18ms (ActiveRecord: 5.5ms)


Started GET "/" for 127.0.0.1 at 2020-01-16 01:43:41 +0800
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2020-01-16 01:43:41 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (5.2ms)
Completed 200 OK in 94ms (Views: 92.6ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2020-01-16 01:43:52 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"MjnAhRF3GZWgLZfMhgg5Q8aQdKXa2M62TqE1lnUWo2XTIQPKJll3L9RmOYRejbfqbx/L2sVhFnbZOpkb5i5Ytw==", "user"=>{"email"=>"qinzheng15@mails.ucas.ac.cn", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"提交"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "qinzheng15@mails.ucas.ac.cn"], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "remember_created_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_created_at", "2020-01-16 01:43:53.068823"], ["updated_at", "2020-01-16 01:43:53.069802"], ["id", 4]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 3], ["current_sign_in_at", "2020-01-16 01:43:53.074473"], ["last_sign_in_at", "2020-01-15 09:56:32.356507"], ["updated_at", "2020-01-16 01:43:53.075242"], ["id", 4]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 250ms (ActiveRecord: 4.5ms)


Started GET "/" for 127.0.0.1 at 2020-01-16 01:43:53 +0800
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (3.7ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 4], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (2.9ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (1) OR user_id = 4) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (2.5ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 4) LIMIT $2[0m  [["post_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (2.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (2.7ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 4) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (2.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:108
  Rendered posts/index.html.erb within layouts/application (42.0ms)
  [1m[36mUser Load (5.8ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:40
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "3_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:40
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "2_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:40
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "4_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 4], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 161ms (Views: 121.3ms | ActiveRecord: 30.0ms)


Started GET "/users/index" for 127.0.0.1 at 2020-01-16 01:43:57 +0800
Processing by UsersController#index as HTML
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (4.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (id != 4) LIMIT $1 OFFSET $2[0m  [["LIMIT", 12], ["OFFSET", 0]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mProfile Load (0.7ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mUser Load (4.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 4]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 4], ["id", 1], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 4]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (1.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 4], ["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requester_id", 4], ["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:20
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 4]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 4], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mUser Exists (4.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requester_id", 4], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:20
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 4]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (2.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 4], ["id", 5], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requester_id", 4], ["id", 5], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:20
  Rendered users/index.html.erb within layouts/application (47.4ms)
  [1m[36mProfile Load (1.8ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:40
  [1m[36mRoom Load (2.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "3_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:40
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "2_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:40
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "4_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[35m (4.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 4], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 155ms (Views: 119.8ms | ActiveRecord: 31.5ms)


Started GET "/profiles/4" for 127.0.0.1 at 2020-01-16 01:44:02 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mProfile Load (1.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:31
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 4], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["requester_id", 4], ["accepted", 1], ["LIMIT", 4]]
  ↳ app/views/profiles/show.html.erb:66
  [1m[36mProfile Load (2.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 4], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:82
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["user_id", 4], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:83
  [1m[36mLike Exists (6.5ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 4) LIMIT $2[0m  [["post_id", 4], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:110
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/profiles/show.html.erb:122
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/profiles/show.html.erb:160
  Rendered profiles/show.html.erb within layouts/application (36.4ms)
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (1.6ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:40
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "3_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:40
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "2_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:40
  [1m[36mRoom Load (0.7ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "4_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[35m (2.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 4], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 146ms (Views: 115.5ms | ActiveRecord: 21.4ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2020-01-16 01:44:08 +0800
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"uLuLSGs7AGXmskuzLhrXafTBJsDnN8lq4pubtZeKroj3xbQzoJqOQDRtVdXrotZKGK1nDXFNqaNM0qdfm4g1Hg=="}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (1.4ms)[0m  [1m[35mBEGIN[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (1.3ms)[0m  [1m[33mUPDATE "users" SET "remember_created_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_created_at", nil], ["updated_at", "2020-01-16 01:44:08.989665"], ["id", 4]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 12ms (ActiveRecord: 6.5ms)


Started GET "/" for 127.0.0.1 at 2020-01-16 01:44:09 +0800
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2020-01-16 01:44:09 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (2.4ms)
Completed 200 OK in 112ms (Views: 111.6ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2020-01-16 01:44:12 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Fk8xlY6i+D96s/YRE86x6qkCCPwuaC8SpYvNb7BN1yCuocvb5//2W95HZA7cw/Waf9jb7cf/4vLM3ez23PQeTw==", "user"=>{"email"=>"xieyi19@mails.ucas.ac.cn", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"提交"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "xieyi19@mails.ucas.ac.cn"], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (5.1ms)[0m  [1m[35mBEGIN[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "remember_created_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_created_at", "2020-01-16 01:44:12.578273"], ["updated_at", "2020-01-16 01:44:12.584203"], ["id", 5]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 3], ["current_sign_in_at", "2020-01-16 01:44:12.589249"], ["last_sign_in_at", "2020-01-15 23:03:10.421315"], ["updated_at", "2020-01-16 01:44:12.590062"], ["id", 5]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 239ms (ActiveRecord: 9.6ms)


Started GET "/" for 127.0.0.1 at 2020-01-16 01:44:12 +0800
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 5], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (4.9ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (NULL) OR user_id = 5) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  Rendered posts/index.html.erb within layouts/application (16.6ms)
  [1m[36mUser Load (3.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:40
Completed 500 Internal Server Error in 150ms (ActiveRecord: 10.1ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :chat=>{:user2_id=>#<User id: 1, first_name: "Wang", last_name: "Yicheng", email: "wangyicheng215@mails.ucas.ac.cn", created_at: "2019-12-16 23:45:28", updated_at: "2020-01-15 17:38:44", provider: nil, uid: nil, name: nil, image: nil>}, :controller=>"rooms"}, missing required keys: [:id]):
    39:               <% if user.id < current_user.id %>
    40:                 <% if Room.find_by(name:user.id.to_s + '_' + current_user.id.to_s) != nil %>
    41:                   <li class="link-rooms">
    42:                     <%= link_to "私人消息 (#{user.last_name})", room_path(chat:{user2_id:user}) %>
    43:                   </li>
    44:                 <% end %>
    45:               <% end %>
  
app/views/layouts/application.html.erb:42:in `block in _app_views_layouts_application_html_erb___4521822092410025809_70212616392400'
app/views/layouts/application.html.erb:38:in `_app_views_layouts_application_html_erb___4521822092410025809_70212616392400'
Started GET "/" for 127.0.0.1 at 2020-01-16 01:45:58 +0800
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by PostsController#index as HTML
  [1m[36mUser Load (5.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (4.4ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 5], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (1.1ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (NULL) OR user_id = 5) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  Rendered posts/index.html.erb within layouts/application (102.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:40
Completed 500 Internal Server Error in 1099ms (ActiveRecord: 38.6ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :chat=>{:user2_id=>1}, :controller=>"rooms"}, missing required keys: [:id]):
    39:               <% if user.id < current_user.id %>
    40:                 <% if Room.find_by(name:user.id.to_s + '_' + current_user.id.to_s) != nil %>
    41:                   <li class="link-rooms">
    42:                     <%= link_to "私人消息 (#{user.last_name})", room_path(chat:{user2_id:user.id}) %>
    43:                   </li>
    44:                 <% end %>
    45:               <% end %>
  
app/views/layouts/application.html.erb:42:in `block in _app_views_layouts_application_html_erb___1675561852824586438_24913540'
app/views/layouts/application.html.erb:38:in `_app_views_layouts_application_html_erb___1675561852824586438_24913540'
Started GET "/profiles/4" for 127.0.0.1 at 2020-01-16 01:46:30 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 5]]
  ↳ app/views/profiles/show.html.erb:22
  [1m[36mUser Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 5], ["id", 4], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:24
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requester_id", 5], ["id", 4], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:25
  [1m[35m (2.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 4], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["requester_id", 4], ["accepted", 1], ["LIMIT", 4]]
  ↳ app/views/profiles/show.html.erb:66
  [1m[36mProfile Load (0.7ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 4], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:82
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["user_id", 4], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:83
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 5) LIMIT $2[0m  [["post_id", 4], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:110
  [1m[35m (3.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/profiles/show.html.erb:122
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/profiles/show.html.erb:160
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:184
  Rendered profiles/show.html.erb within layouts/application (190.1ms)
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:40
  [1m[36mRoom Load (1.7ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "3_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:40
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "2_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:40
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "4_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:40
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 5], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:55
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 5], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:57
Completed 200 OK in 333ms (Views: 296.4ms | ActiveRecord: 23.6ms)


Started GET "/" for 127.0.0.1 at 2020-01-16 01:46:34 +0800
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (3.0ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 5], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (NULL) OR user_id = 5) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  Rendered posts/index.html.erb within layouts/application (11.7ms)
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:40
Completed 500 Internal Server Error in 126ms (ActiveRecord: 6.3ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :chat=>{:user2_id=>1}, :controller=>"rooms"}, missing required keys: [:id]):
    39:               <% if user.id < current_user.id %>
    40:                 <% if Room.find_by(name:user.id.to_s + '_' + current_user.id.to_s) != nil %>
    41:                   <li class="link-rooms">
    42:                     <%= link_to "私人消息 (#{user.last_name})", room_path(chat:{user2_id:user.id}) %>
    43:                   </li>
    44:                 <% end %>
    45:               <% end %>
  
app/views/layouts/application.html.erb:42:in `block in _app_views_layouts_application_html_erb___1675561852824586438_70175442565060'
app/views/layouts/application.html.erb:38:in `_app_views_layouts_application_html_erb___1675561852824586438_70175442565060'
Started GET "/users/index" for 127.0.0.1 at 2020-01-16 01:46:36 +0800
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (id != 5) LIMIT $1 OFFSET $2[0m  [["LIMIT", 12], ["OFFSET", 0]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mProfile Load (1.6ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 5]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mRequest Load (2.2ms)[0m  [1m[34mSELECT  "requests".* FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."requester_id" = $2 LIMIT $3[0m  [["requestee_id", 5], ["requester_id", 1], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:18
  [1m[36mProfile Load (1.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 5]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 5], ["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requester_id", 5], ["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:20
  [1m[36mProfile Load (2.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 5]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 5], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requester_id", 5], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:20
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 5]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 5], ["id", 4], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mUser Exists (2.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requester_id", 5], ["id", 4], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:20
  Rendered users/index.html.erb within layouts/application (62.1ms)
  [1m[36mProfile Load (3.8ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:40
Completed 500 Internal Server Error in 178ms (ActiveRecord: 20.5ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :chat=>{:user2_id=>1}, :controller=>"rooms"}, missing required keys: [:id]):
    39:               <% if user.id < current_user.id %>
    40:                 <% if Room.find_by(name:user.id.to_s + '_' + current_user.id.to_s) != nil %>
    41:                   <li class="link-rooms">
    42:                     <%= link_to "私人消息 (#{user.last_name})", room_path(chat:{user2_id:user.id}) %>
    43:                   </li>
    44:                 <% end %>
    45:               <% end %>
  
app/views/layouts/application.html.erb:42:in `block in _app_views_layouts_application_html_erb___1675561852824586438_70175386550600'
app/views/layouts/application.html.erb:38:in `_app_views_layouts_application_html_erb___1675561852824586438_70175386550600'
Started GET "/profiles/4" for 127.0.0.1 at 2020-01-16 01:46:39 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (3.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 5]]
  ↳ app/views/profiles/show.html.erb:22
  [1m[36mUser Exists (3.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 5], ["id", 4], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:24
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requester_id", 5], ["id", 4], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:25
  [1m[35m (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 4], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["requester_id", 4], ["accepted", 1], ["LIMIT", 4]]
  ↳ app/views/profiles/show.html.erb:66
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 4], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:82
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["user_id", 4], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:83
  [1m[36mLike Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 5) LIMIT $2[0m  [["post_id", 4], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:110
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/profiles/show.html.erb:122
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/profiles/show.html.erb:160
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:184
  Rendered profiles/show.html.erb within layouts/application (44.2ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:40
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "3_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:40
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "2_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:40
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "4_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:40
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 5], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:55
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 5], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:57
Completed 200 OK in 184ms (Views: 155.8ms | ActiveRecord: 18.6ms)


Started GET "/rooms/4?chat%5Buser2_id%5D=1" for 127.0.0.1 at 2020-01-16 01:46:45 +0800
Processing by RoomsController#show as HTML
  Parameters: {"chat"=>{"user2_id"=>"1"}, "id"=>"4"}
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:20
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (1.6ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 7]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 5]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  Rendered rooms/index.html.erb within layouts/application (66.0ms)
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:40
  [1m[36mRoom Load (0.7ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "3_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:40
  [1m[36mRoom Load (0.8ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "2_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:40
  [1m[36mRoom Load (1.0ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "4_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:40
  [1m[35m (2.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 5], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:55
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 5], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:57
Completed 200 OK in 210ms (Views: 170.2ms | ActiveRecord: 20.2ms)


Started GET "/cable" for 127.0.0.1 at 2020-01-16 01:46:45 +0800
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-01-16 01:46:45 +0800
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY2xvbmUtYm9vay9Vc2VyLzU)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:3
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzc
Started POST "/room_messages" for 127.0.0.1 at 2020-01-16 01:46:56 +0800
Processing by RoomMessagesController#create as JS
  Parameters: {"utf8"=>"✓", "room_message"=>{"message"=>"Hi", "room_id"=>"7"}, "commit"=>"发送"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/room_messages_controller.rb:12
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/room_messages_controller.rb:4
  [1m[36mRoomMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "room_messages" ("room_id", "user_id", "message", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["room_id", 7], ["user_id", 5], ["message", "Hi"], ["created_at", "2020-01-16 01:46:56.673267"], ["updated_at", "2020-01-16 01:46:56.673267"]]
  ↳ app/controllers/room_messages_controller.rb:4
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/room_messages_controller.rb:4
[ActionCable] Broadcasting to room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzc: #<RoomMessage id: 7, room_id: 7, user_id: 5, message: "Hi", created_at: "2020-01-15 17:46:56", updated_at: "2020-01-15 17:46:56">
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/models/room_message.rb:9
RoomChannel transmitting {"id"=>7, "room_id"=>7, "user_id"=>5, "message"=>"Hi", "created_at"=>"2020-01-16T01:46:56.673+08:00", "updated_at"=>"2020-01-16T01:46:56.673+08:00", "user_full_name"=>"Xie Yi", "user_avatar_url"=>"https://wx3.sinaimg.cn/mw690/515a7464ly1g8pj3k5sctj20sg0izqbz.jpg"} (via streamed from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzc)
No template found for RoomMessagesController#create, rendering head :no_content
Completed 204 No Content in 206ms (ActiveRecord: 2.5ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-01-16 01:47:42 +0800
RoomChannel stopped streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzc
Started DELETE "/users/sign_out" for 127.0.0.1 at 2020-01-16 01:47:42 +0800
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"LG0FKuDB49gHimusbVNyX5iL2j+wns7itKoJsvEh/vNK9UzErnlhuds1ju9/DpOiRpbrLOcQmprHFN96hYjAWQ=="}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (3.1ms)[0m  [1m[35mBEGIN[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (2.1ms)[0m  [1m[33mUPDATE "users" SET "remember_created_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_created_at", nil], ["updated_at", "2020-01-16 01:47:43.028356"], ["id", 5]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 26ms (ActiveRecord: 10.2ms)


Started GET "/" for 127.0.0.1 at 2020-01-16 01:47:43 +0800
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2020-01-16 01:47:43 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (8.2ms)
Completed 200 OK in 92ms (Views: 91.1ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2020-01-16 01:47:46 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"5nJEbx9Ep/AfALZoS6V6C8OzUkjynH1qdP3AVkUbJovJB0j6oEEUpZX4ZtqKjmpMNvYwR2DhacpnSuYNVILRfw==", "user"=>{"email"=>"wangyicheng215@mails.ucas.ac.cn", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"提交"}
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "wangyicheng215@mails.ucas.ac.cn"], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "remember_created_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_created_at", "2020-01-16 01:47:46.999659"], ["updated_at", "2020-01-16 01:47:47.001120"], ["id", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (2.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 11], ["current_sign_in_at", "2020-01-16 01:47:47.006199"], ["last_sign_in_at", "2020-01-15 23:49:58.212127"], ["updated_at", "2020-01-16 01:47:47.006920"], ["id", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 236ms (ActiveRecord: 6.3ms)


Started GET "/" for 127.0.0.1 at 2020-01-16 01:47:47 +0800
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (2.9ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (5.0ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (2,3,4) OR user_id = 1) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (2.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (1.6ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (4.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (2.1ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:63
  [1m[35m (6.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35mCACHE  (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:74
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:78
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mComment Load (0.3ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1 ORDER BY "comments"."created_at" ASC[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:110
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:111
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:112
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (3.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:108
  Rendered posts/index.html.erb within layouts/application (100.5ms)
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
Completed 500 Internal Server Error in 211ms (ActiveRecord: 38.8ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :chat=>{:user2_id=>3}, :controller=>"rooms"}, missing required keys: [:id]):
    46:               <% if user.id > current_user.id %>
    47:                 <% if Room.find_by(name:current_user.id.to_s + '_' + user.id.to_s) != nil %>
    48:                   <li class="link-rooms">
    49:                     <%= link_to "私人消息 (#{user.last_name})", room_path(chat:{user2_id:user.id}) %>
    50:                   </li>
    51:                 <% end %>
    52:               <% end %>
  
app/views/layouts/application.html.erb:49:in `block in _app_views_layouts_application_html_erb___1675561852824586438_70175541660060'
app/views/layouts/application.html.erb:38:in `_app_views_layouts_application_html_erb___1675561852824586438_70175541660060'
Started GET "/rooms/4?chat%5Buser2_id%5D=1" for 127.0.0.1 at 2020-01-16 01:47:51 +0800
Processing by RoomsController#show as HTML
  Parameters: {"chat"=>{"user2_id"=>"1"}, "id"=>"4"}
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_1"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:20
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/rooms_controller.rb:25
  [1m[36mRoom Create (3.5ms)[0m  [1m[32mINSERT INTO "rooms" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "1_1"], ["created_at", "2020-01-16 01:47:51.210287"], ["updated_at", "2020-01-16 01:47:51.210287"]]
  ↳ app/controllers/rooms_controller.rb:25
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/rooms_controller.rb:25
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (2.3ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 9]]
  ↳ app/views/rooms/index.html.erb:7
  Rendered rooms/index.html.erb within layouts/application (17.9ms)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (1.3ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[35m (2.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 147ms (Views: 126.5ms | ActiveRecord: 16.1ms)


Started GET "/cable" for 127.0.0.1 at 2020-01-16 01:47:52 +0800
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-01-16 01:47:52 +0800
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY2xvbmUtYm9vay9Vc2VyLzE)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:3
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzk
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-01-16 01:48:00 +0800
RoomChannel stopped streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzk
Started GET "/rooms/1?chat[user2_id]=4" for 127.0.0.1 at 2020-01-16 01:48:00 +0800
Processing by RoomsController#show as HTML
  Parameters: {"chat"=>{"user2_id"=>"4"}, "id"=>"1"}
  [1m[36mUser Load (4.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:20
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/rooms_controller.rb:25
  [1m[36mRoom Create (0.2ms)[0m  [1m[32mINSERT INTO "rooms" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "1_4"], ["created_at", "2020-01-16 01:48:00.485692"], ["updated_at", "2020-01-16 01:48:00.485692"]]
  ↳ app/controllers/rooms_controller.rb:25
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/rooms_controller.rb:25
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (4.2ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 10]]
  ↳ app/views/rooms/index.html.erb:7
  Rendered rooms/index.html.erb within layouts/application (13.4ms)
  [1m[36mProfile Load (3.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (0.9ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[35m (4.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 129ms (Views: 105.7ms | ActiveRecord: 19.5ms)


Started GET "/cable" for 127.0.0.1 at 2020-01-16 01:48:03 +0800
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-01-16 01:48:03 +0800
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY2xvbmUtYm9vay9Vc2VyLzE)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:3
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzEw
Started POST "/room_messages" for 127.0.0.1 at 2020-01-16 01:48:15 +0800
Processing by RoomMessagesController#create as JS
  Parameters: {"utf8"=>"✓", "room_message"=>{"message"=>"Hi", "room_id"=>"10"}, "commit"=>"发送"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (1.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/room_messages_controller.rb:12
  [1m[35m (1.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/room_messages_controller.rb:4
  [1m[36mRoomMessage Create (2.0ms)[0m  [1m[32mINSERT INTO "room_messages" ("room_id", "user_id", "message", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["room_id", 10], ["user_id", 1], ["message", "Hi"], ["created_at", "2020-01-16 01:48:15.894167"], ["updated_at", "2020-01-16 01:48:15.894167"]]
  ↳ app/controllers/room_messages_controller.rb:4
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/room_messages_controller.rb:4
[ActionCable] Broadcasting to room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzEw: #<RoomMessage id: 8, room_id: 10, user_id: 1, message: "Hi", created_at: "2020-01-15 17:48:15", updated_at: "2020-01-15 17:48:15">
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/room_message.rb:9
RoomChannel transmitting {"id"=>8, "room_id"=>10, "user_id"=>1, "message"=>"Hi", "created_at"=>"2020-01-16T01:48:15.894+08:00", "updated_at"=>"2020-01-16T01:48:15.894+08:00", "user_full_name"=>"Wang Yicheng", "user_avatar_url"=>"https://wx3.sinaimg.cn/mw690/515a7464ly1g8pj3k5sctj20sg0izqbz.jpg"} (via streamed from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzEw)
No template found for RoomMessagesController#create, rendering head :no_content
Completed 204 No Content in 201ms (ActiveRecord: 6.6ms)


Started GET "/rooms/1?chat%5Buser2_id%5D=5" for 127.0.0.1 at 2020-01-16 01:48:23 +0800
Processing by RoomsController#show as HTML
  Parameters: {"chat"=>{"user2_id"=>"5"}, "id"=>"1"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (2.0ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:20
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (0.3ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 7]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 5]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  Rendered rooms/index.html.erb within layouts/application (26.1ms)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 142ms (Views: 133.0ms | ActiveRecord: 6.8ms)


  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:3
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzc
Started GET "/rooms/1?chat%5Buser2_id%5D=5" for 127.0.0.1 at 2020-01-16 01:48:26 +0800
Processing by RoomsController#show as HTML
  Parameters: {"chat"=>{"user2_id"=>"5"}, "id"=>"1"}
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (1.3ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:20
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (0.3ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 7]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 5]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mProfile Load (1.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  Rendered rooms/index.html.erb within layouts/application (19.7ms)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 165ms (Views: 154.5ms | ActiveRecord: 8.2ms)


Started POST "/room_messages" for 127.0.0.1 at 2020-01-16 01:48:30 +0800
Processing by RoomMessagesController#create as JS
  Parameters: {"utf8"=>"✓", "room_message"=>{"message"=>"Hi", "room_id"=>"7"}, "commit"=>"发送"}
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/room_messages_controller.rb:12
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/room_messages_controller.rb:4
  [1m[36mRoomMessage Create (0.9ms)[0m  [1m[32mINSERT INTO "room_messages" ("room_id", "user_id", "message", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["room_id", 7], ["user_id", 1], ["message", "Hi"], ["created_at", "2020-01-16 01:48:30.703180"], ["updated_at", "2020-01-16 01:48:30.703180"]]
  ↳ app/controllers/room_messages_controller.rb:4
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/room_messages_controller.rb:4
[ActionCable] Broadcasting to room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzc: #<RoomMessage id: 9, room_id: 7, user_id: 1, message: "Hi", created_at: "2020-01-15 17:48:30", updated_at: "2020-01-15 17:48:30">
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/room_message.rb:9
RoomChannel transmitting {"id"=>9, "room_id"=>7, "user_id"=>1, "message"=>"Hi", "created_at"=>"2020-01-16T01:48:30.703+08:00", "updated_at"=>"2020-01-16T01:48:30.703+08:00", "user_full_name"=>"Wang Yicheng", "user_avatar_url"=>"https://wx3.sinaimg.cn/mw690/515a7464ly1g8pj3k5sctj20sg0izqbz.jpg"} (via streamed from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzc)
No template found for RoomMessagesController#create, rendering head :no_content
Completed 204 No Content in 240ms (ActiveRecord: 4.7ms)


Started GET "/rooms/1?chat%5Buser2_id%5D=5" for 127.0.0.1 at 2020-01-16 01:48:33 +0800
Processing by RoomsController#show as HTML
  Parameters: {"chat"=>{"user2_id"=>"5"}, "id"=>"1"}
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:20
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (0.3ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 7]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mUser Load (3.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN ($1, $2)[0m  [["id", 5], ["id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mProfile Load (3.7ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  Rendered rooms/index.html.erb within layouts/application (25.8ms)
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (1.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 137ms (Views: 122.0ms | ActiveRecord: 12.8ms)


Started GET "/rooms/1?chat%5Buser2_id%5D=5" for 127.0.0.1 at 2020-01-16 01:48:35 +0800
Processing by RoomsController#show as HTML
  Parameters: {"chat"=>{"user2_id"=>"5"}, "id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (1.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:20
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (0.3ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 7]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN ($1, $2)[0m  [["id", 5], ["id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  [1m[36mProfile Load (1.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  Rendered rooms/index.html.erb within layouts/application (36.6ms)
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (2.0ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[35m (3.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 162ms (Views: 149.0ms | ActiveRecord: 9.2ms)


Started GET "/rooms/1?chat%5Buser2_id%5D=5" for 127.0.0.1 at 2020-01-16 01:48:35 +0800
Processing by RoomsController#show as HTML
  Parameters: {"chat"=>{"user2_id"=>"5"}, "id"=>"1"}
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (3.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:20
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (3.2ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 7]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN ($1, $2)[0m  [["id", 5], ["id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  Rendered rooms/index.html.erb within layouts/application (25.0ms)
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (2.9ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (1.4ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (1.7ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 154ms (Views: 131.8ms | ActiveRecord: 19.4ms)


Started GET "/rooms/1?chat%5Buser2_id%5D=5" for 127.0.0.1 at 2020-01-16 01:48:36 +0800
Processing by RoomsController#show as HTML
  Parameters: {"chat"=>{"user2_id"=>"5"}, "id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:20
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (4.8ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 7]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN ($1, $2)[0m  [["id", 5], ["id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mProfile Load (0.8ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  [1m[36mProfile Load (2.6ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  Rendered rooms/index.html.erb within layouts/application (23.8ms)
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.7ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 138ms (Views: 122.7ms | ActiveRecord: 10.8ms)


Started GET "/rooms/1?chat%5Buser2_id%5D=5" for 127.0.0.1 at 2020-01-16 01:48:36 +0800
Processing by RoomsController#show as HTML
  Parameters: {"chat"=>{"user2_id"=>"5"}, "id"=>"1"}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (1.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:20
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (0.3ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 7]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mUser Load (4.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN ($1, $2)[0m  [["id", 5], ["id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  [1m[36mProfile Load (2.6ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  Rendered rooms/index.html.erb within layouts/application (24.6ms)
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (1.6ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mCACHE Room Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 150ms (Views: 133.1ms | ActiveRecord: 14.0ms)


Started GET "/rooms/1?chat%5Buser2_id%5D=5" for 127.0.0.1 at 2020-01-16 01:48:37 +0800
Processing by RoomsController#show as HTML
  Parameters: {"chat"=>{"user2_id"=>"5"}, "id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:20
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (0.4ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 7]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN ($1, $2)[0m  [["id", 5], ["id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mProfile Load (4.5ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  Rendered rooms/index.html.erb within layouts/application (27.2ms)
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 150ms (Views: 133.4ms | ActiveRecord: 12.3ms)


Started GET "/rooms/1?chat%5Buser2_id%5D=5" for 127.0.0.1 at 2020-01-16 01:48:39 +0800
Processing by RoomsController#show as HTML
  Parameters: {"chat"=>{"user2_id"=>"5"}, "id"=>"1"}
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:20
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (0.3ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 7]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mUser Load (3.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN ($1, $2)[0m  [["id", 5], ["id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  [1m[36mProfile Load (2.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  Rendered rooms/index.html.erb within layouts/application (23.1ms)
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (1.6ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 165ms (Views: 147.3ms | ActiveRecord: 13.7ms)


Started GET "/rooms/1?chat%5Buser2_id%5D=5" for 127.0.0.1 at 2020-01-16 01:48:40 +0800
Processing by RoomsController#show as HTML
  Parameters: {"chat"=>{"user2_id"=>"5"}, "id"=>"1"}
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:20
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (1.9ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 7]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mUser Load (4.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN ($1, $2)[0m  [["id", 5], ["id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  Rendered rooms/index.html.erb within layouts/application (27.6ms)
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (0.6ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 151ms (Views: 135.6ms | ActiveRecord: 10.6ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-01-16 01:48:55 +0800
RoomChannel stopped streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzEw
RoomChannel stopped streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzc
Started GET "/rooms/5?chat[user2_id]=1" for 127.0.0.1 at 2020-01-16 01:48:55 +0800
Processing by RoomsController#show as HTML
  Parameters: {"chat"=>{"user2_id"=>"1"}, "id"=>"5"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_1"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:20
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (2.6ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 9]]
  ↳ app/views/rooms/index.html.erb:7
  Rendered rooms/index.html.erb within layouts/application (19.6ms)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (2.0ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 139ms (Views: 127.2ms | ActiveRecord: 7.5ms)


Started GET "/cable" for 127.0.0.1 at 2020-01-16 01:48:56 +0800
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-01-16 01:48:56 +0800
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY2xvbmUtYm9vay9Vc2VyLzE)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:3
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzk
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-01-16 01:48:59 +0800
RoomChannel stopped streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzk
Started GET "/rooms/5?chat[user2_id]=1" for 127.0.0.1 at 2020-01-16 01:48:59 +0800
Processing by RoomsController#show as HTML
  Parameters: {"chat"=>{"user2_id"=>"1"}, "id"=>"5"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_1"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:20
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (4.1ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 9]]
  ↳ app/views/rooms/index.html.erb:7
  Rendered rooms/index.html.erb within layouts/application (18.4ms)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (1.8ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[35m (3.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 145ms (Views: 126.5ms | ActiveRecord: 11.1ms)


Started GET "/cable" for 127.0.0.1 at 2020-01-16 01:49:01 +0800
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-01-16 01:49:01 +0800
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY2xvbmUtYm9vay9Vc2VyLzE)
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:3
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzk
Started POST "/room_messages" for 127.0.0.1 at 2020-01-16 01:49:10 +0800
Processing by RoomMessagesController#create as JS
  Parameters: {"utf8"=>"✓", "room_message"=>{"message"=>"Good", "room_id"=>"9"}, "commit"=>"发送"}
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (1.3ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/room_messages_controller.rb:12
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/room_messages_controller.rb:4
  [1m[36mRoomMessage Create (0.7ms)[0m  [1m[32mINSERT INTO "room_messages" ("room_id", "user_id", "message", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["room_id", 9], ["user_id", 1], ["message", "Good"], ["created_at", "2020-01-16 01:49:10.231409"], ["updated_at", "2020-01-16 01:49:10.231409"]]
  ↳ app/controllers/room_messages_controller.rb:4
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/room_messages_controller.rb:4
[ActionCable] Broadcasting to room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzk: #<RoomMessage id: 10, room_id: 9, user_id: 1, message: "Good", created_at: "2020-01-15 17:49:10", updated_at: "2020-01-15 17:49:10">
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/room_message.rb:9
RoomChannel transmitting {"id"=>10, "room_id"=>9, "user_id"=>1, "message"=>"Good", "created_at"=>"2020-01-16T01:49:10.231+08:00", "updated_at"=>"2020-01-16T01:49:10.231+08:00", "user_full_name"=>"Wang Yicheng", "user_avatar_url"=>"https://wx3.sinaimg.cn/mw690/515a7464ly1g8pj3k5sctj20sg0izqbz.jpg"} (via streamed from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzk)
No template found for RoomMessagesController#create, rendering head :no_content
Completed 204 No Content in 195ms (ActiveRecord: 5.4ms)


Started GET "/rooms/5?chat%5Buser2_id%5D=5" for 127.0.0.1 at 2020-01-16 01:49:26 +0800
Processing by RoomsController#show as HTML
  Parameters: {"chat"=>{"user2_id"=>"5"}, "id"=>"5"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (1.4ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:20
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (2.3ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 7]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN ($1, $2)[0m  [["id", 5], ["id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mProfile Load (2.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  [1m[36mProfile Load (2.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  Rendered rooms/index.html.erb within layouts/application (30.6ms)
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[35m (6.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 168ms (Views: 147.8ms | ActiveRecord: 17.3ms)


  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:3
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzc
Started GET "/rooms/5?chat%5Buser2_id%5D=5" for 127.0.0.1 at 2020-01-16 01:49:28 +0800
Processing by RoomsController#show as HTML
  Parameters: {"chat"=>{"user2_id"=>"5"}, "id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:20
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (3.8ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 7]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN ($1, $2)[0m  [["id", 5], ["id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mProfile Load (3.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  [1m[36mProfile Load (1.9ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  Rendered rooms/index.html.erb within layouts/application (25.1ms)
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 147ms (Views: 130.1ms | ActiveRecord: 12.8ms)


Started GET "/rooms/5?chat%5Buser2_id%5D=5" for 127.0.0.1 at 2020-01-16 01:49:29 +0800
Processing by RoomsController#show as HTML
  Parameters: {"chat"=>{"user2_id"=>"5"}, "id"=>"5"}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:20
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (0.4ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 7]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN ($1, $2)[0m  [["id", 5], ["id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  [1m[36mProfile Load (2.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  Rendered rooms/index.html.erb within layouts/application (29.0ms)
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (1.7ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (2.4ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 152ms (Views: 138.0ms | ActiveRecord: 10.4ms)


Started GET "/rooms/5?chat%5Buser2_id%5D=4" for 127.0.0.1 at 2020-01-16 01:49:30 +0800
Processing by RoomsController#show as HTML
  Parameters: {"chat"=>{"user2_id"=>"4"}, "id"=>"5"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (1.9ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:20
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (0.3ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 10]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  Rendered rooms/index.html.erb within layouts/application (22.3ms)
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 131ms (Views: 122.0ms | ActiveRecord: 5.8ms)


  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:3
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzEw
Started GET "/rooms/5?chat%5Buser2_id%5D=2" for 127.0.0.1 at 2020-01-16 01:49:32 +0800
Processing by RoomsController#show as HTML
  Parameters: {"chat"=>{"user2_id"=>"2"}, "id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (1.4ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:20
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (2.8ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 5]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mProfile Load (3.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  Rendered rooms/index.html.erb within layouts/application (22.3ms)
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 137ms (Views: 124.0ms | ActiveRecord: 9.1ms)


  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:3
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzU
Started GET "/rooms/5?chat%5Buser2_id%5D=3" for 127.0.0.1 at 2020-01-16 01:49:34 +0800
Processing by RoomsController#show as HTML
  Parameters: {"chat"=>{"user2_id"=>"3"}, "id"=>"5"}
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:20
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (3.0ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 6]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  Rendered rooms/index.html.erb within layouts/application (21.9ms)
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[35m (2.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 144ms (Views: 128.2ms | ActiveRecord: 11.9ms)


  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:3
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzY
Started GET "/profiles/1" for 127.0.0.1 at 2020-01-16 01:50:12 +0800
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:31
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["requester_id", 1], ["accepted", 1], ["LIMIT", 4]]
  ↳ app/views/profiles/show.html.erb:66
  [1m[36mProfile Load (3.9ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (1.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (1.5ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[35m (4.8ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:82
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:83
  [1m[36mLike Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:110
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:122
  [1m[35m (5.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:160
  Rendered profiles/show.html.erb within layouts/application (242.4ms)
Started GET "/cable" for 127.0.0.1 at 2020-01-16 01:50:13 +0800
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-01-16 01:50:14 +0800
  [1m[36mUser Load (14.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (4.6ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY2xvbmUtYm9vay9Vc2VyLzE)
  [1m[36mRoom Load (20.7ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (18.8ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (0.6ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:3
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzk
  [1m[36mRoom Load (11.4ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (11.4ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:3
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzY
  [1m[35m (28.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 1236ms (Views: 923.9ms | ActiveRecord: 160.2ms)


  [1m[36mRoom Load (2.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:3
  [1m[36mRoom Load (5.9ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
RoomChannel is transmitting the subscription confirmation
  ↳ app/channels/room_channel.rb:3
RoomChannel is streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzc
  [1m[36mRoom Load (3.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:3
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzEw
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzU
Started GET "/users/index" for 127.0.0.1 at 2020-01-16 01:50:20 +0800
Processing by UsersController#index as HTML
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (3.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (id != 1) LIMIT $1 OFFSET $2[0m  [["LIMIT", 12], ["OFFSET", 0]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mProfile Load (0.5ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mProfile Load (1.8ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (1.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 4], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mProfile Load (1.8ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 5], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requester_id", 1], ["id", 5], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:20
  Rendered users/index.html.erb within layouts/application (52.6ms)
  [1m[36mProfile Load (4.8ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
Completed 500 Internal Server Error in 215ms (ActiveRecord: 21.2ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :chat=>{:user2_id=>#<User id: 3, first_name: "Jia", last_name: "Wenqing", email: "jiawenqing15@mails.ucas.ac.cn", created_at: "2019-12-16 23:48:13", updated_at: "2019-12-16 23:48:13", provider: nil, uid: nil, name: nil, image: nil>}, :controller=>"rooms"}, missing required keys: [:id]):
    46:               <% if user.id > current_user.id %>
    47:                 <% if Room.find_by(name:current_user.id.to_s + '_' + user.id.to_s) != nil %>
    48:                   <li class="link-rooms">
    49:                     <%= link_to "私人消息 (#{user.last_name})", room_path(chat:{user2_id:user}) %>
    50:                   </li>
    51:                 <% end %>
    52:               <% end %>
  
app/views/layouts/application.html.erb:49:in `block in _app_views_layouts_application_html_erb__1966259968278065991_69846050529740'
app/views/layouts/application.html.erb:38:in `_app_views_layouts_application_html_erb__1966259968278065991_69846050529740'
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-01-16 01:50:39 +0800
RoomChannel stopped streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzk
RoomChannel stopped streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzc
RoomChannel stopped streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzEw
RoomChannel stopped streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzU
RoomChannel stopped streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzY
Started GET "/profiles/1" for 127.0.0.1 at 2020-01-16 01:50:39 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:31
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["requester_id", 1], ["accepted", 1], ["LIMIT", 4]]
  ↳ app/views/profiles/show.html.erb:66
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (1.8ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (2.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:82
  [1m[36mPost Load (1.0ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:83
  [1m[36mLike Exists (3.7ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:110
  [1m[35m (2.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:122
  [1m[35m (1.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:160
  Rendered profiles/show.html.erb within layouts/application (43.6ms)
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (1.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (1.5ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 173ms (Views: 143.6ms | ActiveRecord: 21.2ms)


Started GET "/profiles/1" for 127.0.0.1 at 2020-01-16 01:50:48 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:31
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["requester_id", 1], ["accepted", 1], ["LIMIT", 4]]
  ↳ app/views/profiles/show.html.erb:66
  [1m[36mProfile Load (1.8ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (1.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (2.7ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:82
  [1m[36mPost Load (0.5ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:83
  [1m[36mLike Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:110
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:122
  [1m[35m (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:160
  Rendered profiles/show.html.erb within layouts/application (44.8ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (2.8ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 161ms (Views: 137.1ms | ActiveRecord: 15.7ms)


Started GET "/profiles/3" for 127.0.0.1 at 2020-01-16 01:50:58 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mUser Load (5.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/profiles/show.html.erb:22
  [1m[36mUser Exists (2.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 3], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:24
  [1m[35m (2.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 3], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["requester_id", 3], ["accepted", 1], ["LIMIT", 4]]
  ↳ app/views/profiles/show.html.erb:66
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (1.8ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[35m (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 3], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:82
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["user_id", 3], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:83
  [1m[36mLike Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 3], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:110
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/profiles/show.html.erb:122
  [1m[35m (2.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/profiles/show.html.erb:160
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:184
  Rendered profiles/show.html.erb within layouts/application (67.1ms)
  [1m[36mUser Load (3.8ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (3.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 188ms (Views: 151.6ms | ActiveRecord: 28.8ms)


Started GET "/profiles/3" for 127.0.0.1 at 2020-01-16 01:51:17 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/profiles/show.html.erb:22
  [1m[36mUser Exists (3.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 3], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:24
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 3], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["requester_id", 3], ["accepted", 1], ["LIMIT", 4]]
  ↳ app/views/profiles/show.html.erb:66
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (1.5ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[35m (2.5ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 3], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:82
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["user_id", 3], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:83
  [1m[36mLike Exists (1.9ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 3], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:110
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/profiles/show.html.erb:122
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/profiles/show.html.erb:160
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:184
  Rendered profiles/show.html.erb within layouts/application (52.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (1.6ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[36mRoom Load (2.5ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 170ms (Views: 146.6ms | ActiveRecord: 18.9ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2020-01-16 01:51:23 +0800
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"wT6WW/TMyw3nVm02oyoNTqO+rYT1QuGeXpJmvcJlmoD6Icy99uJb02/PHfWOGWT6jZi3O91DLBqSSj5DVwg+dA=="}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (2.2ms)[0m  [1m[35mBEGIN[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (1.6ms)[0m  [1m[33mUPDATE "users" SET "remember_created_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_created_at", nil], ["updated_at", "2020-01-16 01:51:23.744630"], ["id", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (2.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 21ms (ActiveRecord: 7.4ms)


Started GET "/" for 127.0.0.1 at 2020-01-16 01:51:23 +0800
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2020-01-16 01:51:23 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (3.1ms)
Completed 200 OK in 92ms (Views: 91.2ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2020-01-16 01:52:06 +0800
  [1m[35m (4.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 20ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2020-01-16 01:52:06 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (603.7ms)
Completed 200 OK in 791ms (Views: 733.7ms | ActiveRecord: 6.3ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2020-01-16 01:52:17 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"+hEvxxJKFzu4s5vTwK8X+eQDkiMobBgJLpOWZdOya3EYnGlA9b0Ezgp8Da/i9weRuKzX6+JMs63whM9ShRjCxQ==", "user"=>{"email"=>"wangyicheng215@mails.ucas.ac.cn", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"提交"}
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "wangyicheng215@mails.ucas.ac.cn"], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (5.1ms)[0m  [1m[35mBEGIN[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "remember_created_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_created_at", "2020-01-16 01:52:17.598103"], ["updated_at", "2020-01-16 01:52:17.607721"], ["id", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 12], ["current_sign_in_at", "2020-01-16 01:52:17.613495"], ["last_sign_in_at", "2020-01-16 01:47:47.006199"], ["updated_at", "2020-01-16 01:52:17.614959"], ["id", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 249ms (ActiveRecord: 11.6ms)


Started GET "/" for 127.0.0.1 at 2020-01-16 01:52:17 +0800
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (2.6ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (4.0ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (2,3,4) OR user_id = 1) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (1.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (2.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (1.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (1.9ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[36mLike Load (0.8ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:63
  [1m[35m (3.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:74
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:78
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mComment Load (3.5ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1 ORDER BY "comments"."created_at" ASC[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:110
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:111
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:112
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (2.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:108
  Rendered posts/index.html.erb within layouts/application (242.1ms)
  [1m[36mUser Load (5.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
Completed 500 Internal Server Error in 448ms (ActiveRecord: 74.8ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :chat=>{:user2_id=>#<User id: 3, first_name: "Jia", last_name: "Wenqing", email: "jiawenqing15@mails.ucas.ac.cn", created_at: "2019-12-16 23:48:13", updated_at: "2019-12-16 23:48:13", provider: nil, uid: nil, name: nil, image: nil>}, :controller=>"rooms"}, missing required keys: [:id]):
    46:               <% if user.id > current_user.id %>
    47:                 <% if Room.find_by(name:current_user.id.to_s + '_' + user.id.to_s) != nil %>
    48:                   <li class="link-rooms">
    49:                     <%= link_to "私人消息 (#{user.last_name})", room_path(chat:{user2_id:user}) %>
    50:                   </li>
    51:                 <% end %>
    52:               <% end %>
  
app/views/layouts/application.html.erb:49:in `block in _app_views_layouts_application_html_erb__1702819284190781969_69961096412160'
app/views/layouts/application.html.erb:38:in `_app_views_layouts_application_html_erb__1702819284190781969_69961096412160'
Started POST "/users/sign_in" for 127.0.0.1 at 2020-01-16 01:52:47 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"+hEvxxJKFzu4s5vTwK8X+eQDkiMobBgJLpOWZdOya3EYnGlA9b0Ezgp8Da/i9weRuKzX6+JMs63whM9ShRjCxQ==", "user"=>{"email"=>"wangyicheng215@mails.ucas.ac.cn", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"提交"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2020-01-16 01:52:47 +0800
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (2.1ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (4.1ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (2,3,4) OR user_id = 1) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (0.8ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (3.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (3.1ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (4.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:63
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:74
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:78
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mComment Load (0.3ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1 ORDER BY "comments"."created_at" ASC[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:110
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:111
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:112
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (4.2ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:108
  Rendered posts/index.html.erb within layouts/application (88.0ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:47
Completed 500 Internal Server Error in 208ms (ActiveRecord: 33.7ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :chat=>{:user2_id=>#<User id: 3, first_name: "Jia", last_name: "Wenqing", email: "jiawenqing15@mails.ucas.ac.cn", created_at: "2019-12-16 23:48:13", updated_at: "2019-12-16 23:48:13", provider: nil, uid: nil, name: nil, image: nil>}, :controller=>"rooms"}, missing required keys: [:id]):
    46:               <% if user.id > current_user.id %>
    47:                 <% if Room.find_by(name:current_user.id.to_s + '_' + user.id.to_s) != nil %>
    48:                   <li class="link-rooms">
    49:                     <%= link_to "私人消息 (#{user.last_name})", room_path(chat:{user2_id:user}) %>
    50:                   </li>
    51:                 <% end %>
    52:               <% end %>
  
app/views/layouts/application.html.erb:49:in `block in _app_views_layouts_application_html_erb__1702819284190781969_69961209115220'
app/views/layouts/application.html.erb:38:in `_app_views_layouts_application_html_erb__1702819284190781969_69961209115220'
Started GET "/" for 127.0.0.1 at 2020-01-16 02:00:43 +0800
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (1.3ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (2,3,4) OR user_id = 1) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (2.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (1.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (1.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (5.1ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:63
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:74
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:78
  [1m[35m (2.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mComment Load (0.2ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1 ORDER BY "comments"."created_at" ASC[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:110
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:111
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:112
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:108
  Rendered posts/index.html.erb within layouts/application (388.1ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 500 Internal Server Error in 1295ms (ActiveRecord: 51.3ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :chat=>{:user2_id=>#<User id: 3, first_name: "Jia", last_name: "Wenqing", email: "jiawenqing15@mails.ucas.ac.cn", created_at: "2019-12-16 23:48:13", updated_at: "2019-12-16 23:48:13", provider: nil, uid: nil, name: nil, image: nil>}, :controller=>"rooms"}, missing required keys: [:id]):
    48:                 <% name_root = current_user.id.to_s + '_' + user.id.to_s%>
    49:                 <% if Room.find_by(name:name_root) != nil %>
    50:                   <li class="link-rooms">
    51:                     <%= link_to "私人消息 (#{user.last_name})", room_path(chat:{user2_id:user}) %>
    52:                   </li>
    53:                 <% end %>
    54:               <% end %>
  
app/views/layouts/application.html.erb:51:in `block in _app_views_layouts_application_html_erb___2967873319789538113_35570380'
app/views/layouts/application.html.erb:38:in `_app_views_layouts_application_html_erb___2967873319789538113_35570380'
Started GET "/" for 127.0.0.1 at 2020-01-16 02:02:17 +0800
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (4.9ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (4.8ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (2,3,4) OR user_id = 1) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (1.7ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (3.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (1.6ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (3.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:63
  [1m[35m (3.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:74
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:78
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mComment Load (0.2ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1 ORDER BY "comments"."created_at" ASC[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:110
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:111
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:112
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:108
  Rendered posts/index.html.erb within layouts/application (394.8ms)
  [1m[36mUser Load (4.8ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (1.0ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 500 Internal Server Error in 1253ms (ActiveRecord: 67.0ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :chat=>{:user2_id=>#<User id: 3, first_name: "Jia", last_name: "Wenqing", email: "jiawenqing15@mails.ucas.ac.cn", created_at: "2019-12-16 23:48:13", updated_at: "2019-12-16 23:48:13", provider: nil, uid: nil, name: nil, image: nil>}, :controller=>"rooms"}, missing required keys: [:id]):
    48:                 <% name_root = current_user.id.to_s + '_' + user.id.to_s%>
    49:                 <% if (Room.find_by(name:name_root) != nil) %>
    50:                   <li class="link-rooms">
    51:                     <%= link_to "私人消息 (#{user.last_name})", room_path(chat:{user2_id:user}) %>
    52:                   </li>
    53:                 <% end %>
    54:               <% end %>
  
app/views/layouts/application.html.erb:51:in `block in _app_views_layouts_application_html_erb___233473574806807172_26146140'
app/views/layouts/application.html.erb:38:in `_app_views_layouts_application_html_erb___233473574806807172_26146140'
Started GET "/profiles/2" for 127.0.0.1 at 2020-01-16 02:05:10 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/profiles/show.html.erb:22
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:24
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 2], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["requester_id", 2], ["accepted", 1], ["LIMIT", 4]]
  ↳ app/views/profiles/show.html.erb:66
  [1m[36mProfile Load (0.9ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 2], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:82
  [1m[36mPost Load (1.1ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["user_id", 2], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:83
  [1m[36mLike Exists (2.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:110
  [1m[36mLike Load (1.9ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:115
  [1m[35m (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/profiles/show.html.erb:122
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/profiles/show.html.erb:126
  [1m[36mLike Load (0.6ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:128
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:128
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:130
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/profiles/show.html.erb:160
  [1m[36mComment Load (2.5ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1 ORDER BY "comments"."created_at" ASC[0m  [["post_id", 2]]
  ↳ app/views/profiles/show.html.erb:162
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:163
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:164
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:184
  Rendered profiles/show.html.erb within layouts/application (66.4ms)
  [1m[36mUser Load (5.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:57
Completed 200 OK in 244ms (Views: 205.5ms | ActiveRecord: 25.4ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2020-01-16 02:05:30 +0800
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"LpA9eX9qZMAX3hKo76NO3GeO84uxX9FM8+iczKtYpfS35AgfcLy8CDv8l2dHTYIiNhv168MKnOxKkOyYy6pjQw=="}
  [1m[36mUser Load (3.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (2.7ms)[0m  [1m[33mUPDATE "users" SET "remember_created_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_created_at", nil], ["updated_at", "2020-01-16 02:05:31.017164"], ["id", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 27ms (ActiveRecord: 7.3ms)


Started GET "/" for 127.0.0.1 at 2020-01-16 02:05:31 +0800
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2020-01-16 02:05:31 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (7.3ms)
Completed 200 OK in 94ms (Views: 92.7ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2020-01-16 02:05:38 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"QR9AgT4OL1CB78adw0BFFgUoD9eakpeY/g8c8pii8B8yg1gVcyctrX8Zgh5qjZG+EF+ZPRNE6dOkc1ZvdUCQQA==", "user"=>{"email"=>"wangyicheng215@mails.ucas.ac.cn", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"提交"}
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "wangyicheng215@mails.ucas.ac.cn"], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (3.1ms)[0m  [1m[33mUPDATE "users" SET "remember_created_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_created_at", "2020-01-16 02:05:38.609764"], ["updated_at", "2020-01-16 02:05:38.611578"], ["id", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 13], ["current_sign_in_at", "2020-01-16 02:05:38.619296"], ["last_sign_in_at", "2020-01-16 01:52:17.613495"], ["updated_at", "2020-01-16 02:05:38.620139"], ["id", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 239ms (ActiveRecord: 10.3ms)


Started GET "/" for 127.0.0.1 at 2020-01-16 02:05:38 +0800
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (0.6ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (2,3,4) OR user_id = 1) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (2.9ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (2.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (1.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (4.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[36mLike Load (0.9ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:63
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:74
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:78
  [1m[35m (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mComment Load (0.3ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1 ORDER BY "comments"."created_at" ASC[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:110
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:111
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:112
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (2.5ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:108
  Rendered posts/index.html.erb within layouts/application (86.1ms)
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 500 Internal Server Error in 198ms (ActiveRecord: 33.9ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :chat=>{:user2_id=>#<User id: 3, first_name: "Jia", last_name: "Wenqing", email: "jiawenqing15@mails.ucas.ac.cn", created_at: "2019-12-16 23:48:13", updated_at: "2019-12-16 23:48:13", provider: nil, uid: nil, name: nil, image: nil>}, :controller=>"rooms"}, missing required keys: [:id]):
    48:                 <% name_root = current_user.id.to_s + '_' + user.id.to_s%>
    49:                 <% if (Room.find_by(name:name_root) != nil) %>
    50:                   <li class="link-rooms">
    51:                     <%= link_to "私人消息 (#{user.last_name})", room_path(chat:{user2_id:user}) %>
    52:                   </li>
    53:                 <% end %>
    54:               <% end %>
  
app/views/layouts/application.html.erb:51:in `block in _app_views_layouts_application_html_erb___233473574806807172_70054997608800'
app/views/layouts/application.html.erb:38:in `_app_views_layouts_application_html_erb___233473574806807172_70054997608800'
Started POST "/users/sign_in" for 127.0.0.1 at 2020-01-16 02:05:55 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"QR9AgT4OL1CB78adw0BFFgUoD9eakpeY/g8c8pii8B8yg1gVcyctrX8Zgh5qjZG+EF+ZPRNE6dOkc1ZvdUCQQA==", "user"=>{"email"=>"xieyi19@mails.ucas.ac.cn", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"提交"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 23ms (ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2020-01-16 02:05:55 +0800
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (2.2ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (1.8ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (2,3,4) OR user_id = 1) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (0.6ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (3.6ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (2.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:63
  [1m[35m (2.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:74
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:78
  [1m[35m (2.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mComment Load (0.3ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1 ORDER BY "comments"."created_at" ASC[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:110
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:111
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:112
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (2.6ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (2.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:108
  Rendered posts/index.html.erb within layouts/application (103.3ms)
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 500 Internal Server Error in 210ms (ActiveRecord: 33.8ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :chat=>{:user2_id=>#<User id: 3, first_name: "Jia", last_name: "Wenqing", email: "jiawenqing15@mails.ucas.ac.cn", created_at: "2019-12-16 23:48:13", updated_at: "2019-12-16 23:48:13", provider: nil, uid: nil, name: nil, image: nil>}, :controller=>"rooms"}, missing required keys: [:id]):
    48:                 <% name_root = current_user.id.to_s + '_' + user.id.to_s%>
    49:                 <% if (Room.find_by(name:name_root) != nil) %>
    50:                   <li class="link-rooms">
    51:                     <%= link_to "私人消息 (#{user.last_name})", room_path(chat:{user2_id:user}) %>
    52:                   </li>
    53:                 <% end %>
    54:               <% end %>
  
app/views/layouts/application.html.erb:51:in `block in _app_views_layouts_application_html_erb___233473574806807172_70055050237280'
app/views/layouts/application.html.erb:38:in `_app_views_layouts_application_html_erb___233473574806807172_70055050237280'
Started POST "/users/sign_in" for 127.0.0.1 at 2020-01-16 02:06:38 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"QR9AgT4OL1CB78adw0BFFgUoD9eakpeY/g8c8pii8B8yg1gVcyctrX8Zgh5qjZG+EF+ZPRNE6dOkc1ZvdUCQQA==", "user"=>{"email"=>"jiawenqing15@mails.ucas.ac.cn", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"提交"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2020-01-16 02:06:38 +0800
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (3.9ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (1.4ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (2,3,4) OR user_id = 1) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (1.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (3.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[36mLike Load (0.7ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:63
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:74
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:78
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mComment Load (0.3ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1 ORDER BY "comments"."created_at" ASC[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:110
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:111
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:112
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (4.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:108
  Rendered posts/index.html.erb within layouts/application (90.8ms)
  [1m[36mUser Load (3.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 500 Internal Server Error in 199ms (ActiveRecord: 30.9ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :chat=>{:user2_id=>#<User id: 3, first_name: "Jia", last_name: "Wenqing", email: "jiawenqing15@mails.ucas.ac.cn", created_at: "2019-12-16 23:48:13", updated_at: "2019-12-16 23:48:13", provider: nil, uid: nil, name: nil, image: nil>}, :controller=>"rooms"}, missing required keys: [:id]):
    48:                 <% name_root = current_user.id.to_s + '_' + user.id.to_s%>
    49:                 <% if (Room.find_by(name:name_root) != nil) %>
    50:                   <li class="link-rooms">
    51:                     <%= link_to "私人消息 (#{user.last_name})", room_path(chat:{user2_id:user}) %>
    52:                   </li>
    53:                 <% end %>
    54:               <% end %>
  
app/views/layouts/application.html.erb:51:in `block in _app_views_layouts_application_html_erb___233473574806807172_45855380'
app/views/layouts/application.html.erb:38:in `_app_views_layouts_application_html_erb___233473574806807172_45855380'
Started GET "/profiles/3" for 127.0.0.1 at 2020-01-16 02:07:04 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (1.5ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/profiles/show.html.erb:22
  [1m[36mUser Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 3], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:24
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 3], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["requester_id", 3], ["accepted", 1], ["LIMIT", 4]]
  ↳ app/views/profiles/show.html.erb:66
  [1m[36mProfile Load (1.5ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (1.8ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[35m (3.3ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 3], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:82
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["user_id", 3], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:83
  [1m[36mLike Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 3], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:110
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/profiles/show.html.erb:122
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/profiles/show.html.erb:160
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:184
  Rendered profiles/show.html.erb within layouts/application (46.1ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (1.7ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[35m (3.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:57
Completed 200 OK in 175ms (Views: 146.7ms | ActiveRecord: 21.3ms)


Started GET "/rooms/3?chat%5Buser2_id%5D=3" for 127.0.0.1 at 2020-01-16 02:07:17 +0800
Processing by RoomsController#show as HTML
  Parameters: {"chat"=>{"user2_id"=>"3"}, "id"=>"3"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (2.3ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:20
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (3.2ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 6]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mProfile Load (1.5ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  Rendered rooms/index.html.erb within layouts/application (53.6ms)
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (1.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (1.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:57
Completed 200 OK in 203ms (Views: 167.7ms | ActiveRecord: 17.5ms)


Started GET "/cable" for 127.0.0.1 at 2020-01-16 02:07:17 +0800
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-01-16 02:07:17 +0800
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY2xvbmUtYm9vay9Vc2VyLzE)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:3
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzY
Started GET "/rooms/3?chat%5Buser2_id%5D=2" for 127.0.0.1 at 2020-01-16 02:07:39 +0800
Processing by RoomsController#show as HTML
  Parameters: {"chat"=>{"user2_id"=>"2"}, "id"=>"3"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (1.0ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:20
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (0.3ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 5]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  Rendered rooms/index.html.erb within layouts/application (18.5ms)
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:57
Completed 200 OK in 161ms (Views: 152.0ms | ActiveRecord: 4.9ms)


  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:3
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzU
Started GET "/rooms/3?chat%5Buser2_id%5D=4" for 127.0.0.1 at 2020-01-16 02:07:47 +0800
Processing by RoomsController#show as HTML
  Parameters: {"chat"=>{"user2_id"=>"4"}, "id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:20
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (1.4ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 10]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  Rendered rooms/index.html.erb within layouts/application (22.1ms)
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (1.7ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:57
Completed 200 OK in 134ms (Views: 122.0ms | ActiveRecord: 6.4ms)


  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:3
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzEw
Started GET "/rooms/3?chat%5Buser2_id%5D=5" for 127.0.0.1 at 2020-01-16 02:07:51 +0800
Processing by RoomsController#show as HTML
  Parameters: {"chat"=>{"user2_id"=>"5"}, "id"=>"3"}
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (1.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:20
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (0.4ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 7]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN ($1, $2)[0m  [["id", 5], ["id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mProfile Load (1.8ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  [1m[36mProfile Load (1.9ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  Rendered rooms/index.html.erb within layouts/application (28.2ms)
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:57
Completed 200 OK in 156ms (Views: 143.2ms | ActiveRecord: 10.0ms)


  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:3
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzc
Started GET "/users/index" for 127.0.0.1 at 2020-01-16 02:08:03 +0800
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (id != 1) LIMIT $1 OFFSET $2[0m  [["LIMIT", 12], ["OFFSET", 0]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (1.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mProfile Load (0.6ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (2.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 4], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 5], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requester_id", 1], ["id", 5], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:20
  Rendered users/index.html.erb within layouts/application (41.6ms)
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 500 Internal Server Error in 146ms (ActiveRecord: 12.1ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :chat=>{:user2_id=>#<User id: 3, first_name: "Jia", last_name: "Wenqing", email: "jiawenqing15@mails.ucas.ac.cn", created_at: "2019-12-16 23:48:13", updated_at: "2019-12-16 23:48:13", provider: nil, uid: nil, name: nil, image: nil>}, :controller=>"rooms"}, missing required keys: [:id]):
    48:                 <% name_root = current_user.id.to_s + '_' + user.id.to_s%>
    49:                 <% if (Room.find_by(name:name_root) != nil) %>
    50:                   <li class="link-rooms">
    51:                     <%= link_to "私人消息 (#{user.last_name})", room_path(chat:{user2_id:user}) %>
    52:                   </li>
    53:                 <% end %>
    54:               <% end %>
  
app/views/layouts/application.html.erb:51:in `block in _app_views_layouts_application_html_erb___233473574806807172_70054996474460'
app/views/layouts/application.html.erb:38:in `_app_views_layouts_application_html_erb___233473574806807172_70054996474460'
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-01-16 02:08:46 +0800
RoomChannel stopped streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzY
RoomChannel stopped streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzU
RoomChannel stopped streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzEw
RoomChannel stopped streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzc
Started GET "/rooms/3?chat%5Buser2_id%5D=5" for 127.0.0.1 at 2020-01-16 02:08:46 +0800
Processing by RoomsController#show as HTML
  Parameters: {"chat"=>{"user2_id"=>"5"}, "id"=>"3"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:20
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (0.3ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 7]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN ($1, $2)[0m  [["id", 5], ["id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mProfile Load (1.1ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  [1m[36mProfile Load (1.7ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  Rendered rooms/index.html.erb within layouts/application (26.8ms)
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (2.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:57
Completed 200 OK in 141ms (Views: 126.9ms | ActiveRecord: 9.4ms)


Started GET "/cable" for 127.0.0.1 at 2020-01-16 02:08:47 +0800
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-01-16 02:08:47 +0800
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY2xvbmUtYm9vay9Vc2VyLzE)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:3
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzc
Started GET "/profiles/1" for 127.0.0.1 at 2020-01-16 02:08:55 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mProfile Load (3.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:31
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["requester_id", 1], ["accepted", 1], ["LIMIT", 4]]
  ↳ app/views/profiles/show.html.erb:66
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (22.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:82
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:83
  [1m[36mLike Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:110
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:122
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:160
  Rendered profiles/show.html.erb within layouts/application (54.1ms)
  [1m[36mUser Load (4.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (1.8ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:57
Completed 200 OK in 184ms (Views: 138.4ms | ActiveRecord: 39.1ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-01-16 02:09:08 +0800
RoomChannel stopped streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzc
Started GET "/profiles/2" for 127.0.0.1 at 2020-01-16 02:09:08 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (6.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mUser Load (3.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/profiles/show.html.erb:22
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:24
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 2], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["requester_id", 2], ["accepted", 1], ["LIMIT", 4]]
  ↳ app/views/profiles/show.html.erb:66
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (1.9ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[35m (1.9ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 2], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:82
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["user_id", 2], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:83
  [1m[36mLike Exists (2.0ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:110
  [1m[36mLike Load (2.4ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:115
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/profiles/show.html.erb:122
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/profiles/show.html.erb:126
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:128
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:128
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:130
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/profiles/show.html.erb:160
  [1m[36mComment Load (1.7ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1 ORDER BY "comments"."created_at" ASC[0m  [["post_id", 2]]
  ↳ app/views/profiles/show.html.erb:162
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:163
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:164
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:184
  Rendered profiles/show.html.erb within layouts/application (59.4ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.6ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (1.6ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (2.0ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:57
Completed 200 OK in 194ms (Views: 156.3ms | ActiveRecord: 30.1ms)


Started GET "/profiles/1" for 127.0.0.1 at 2020-01-16 02:09:16 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mProfile Load (1.9ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:31
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["requester_id", 1], ["accepted", 1], ["LIMIT", 4]]
  ↳ app/views/profiles/show.html.erb:66
  [1m[36mProfile Load (2.9ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (1.1ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[35m (4.2ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:82
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:83
  [1m[36mLike Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:110
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:122
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:160
  Rendered profiles/show.html.erb within layouts/application (37.2ms)
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (2.8ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[35m (4.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:57
Completed 200 OK in 164ms (Views: 132.3ms | ActiveRecord: 26.0ms)


Started GET "/profiles/2" for 127.0.0.1 at 2020-01-16 02:09:38 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (1.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/profiles/show.html.erb:22
  [1m[36mUser Exists (2.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:24
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 2], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["requester_id", 2], ["accepted", 1], ["LIMIT", 4]]
  ↳ app/views/profiles/show.html.erb:66
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (2.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 2], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:82
  [1m[36mPost Load (1.5ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["user_id", 2], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:83
  [1m[36mLike Exists (4.5ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:110
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:115
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/profiles/show.html.erb:122
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/profiles/show.html.erb:126
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:128
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:128
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:130
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/profiles/show.html.erb:160
  [1m[36mComment Load (0.2ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1 ORDER BY "comments"."created_at" ASC[0m  [["post_id", 2]]
  ↳ app/views/profiles/show.html.erb:162
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:163
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:164
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:184
  Rendered profiles/show.html.erb within layouts/application (64.2ms)
  [1m[36mUser Load (4.9ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[35m (2.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:57
Completed 200 OK in 181ms (Views: 146.1ms | ActiveRecord: 26.4ms)


Started GET "/profiles/3" for 127.0.0.1 at 2020-01-16 02:09:44 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mUser Load (5.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/profiles/show.html.erb:22
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 3], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:24
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 3], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["requester_id", 3], ["accepted", 1], ["LIMIT", 4]]
  ↳ app/views/profiles/show.html.erb:66
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 3], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:82
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["user_id", 3], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:83
  [1m[36mLike Exists (2.2ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 3], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:110
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/profiles/show.html.erb:122
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/profiles/show.html.erb:160
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:184
  Rendered profiles/show.html.erb within layouts/application (48.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (1.3ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.8ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (2.3ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:57
Completed 200 OK in 168ms (Views: 137.4ms | ActiveRecord: 20.4ms)


Started GET "/profiles/4" for 127.0.0.1 at 2020-01-16 02:09:47 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (2.8ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mUser Load (4.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/profiles/show.html.erb:22
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 4], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:24
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 4], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["requester_id", 4], ["accepted", 1], ["LIMIT", 4]]
  ↳ app/views/profiles/show.html.erb:66
  [1m[36mProfile Load (1.9ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[35m (2.2ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 4], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:82
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["user_id", 4], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:83
  [1m[36mLike Exists (2.5ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 4], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:110
  [1m[35m (2.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/profiles/show.html.erb:122
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/profiles/show.html.erb:160
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:184
  Rendered profiles/show.html.erb within layouts/application (41.0ms)
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (1.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[35m (2.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:57
Completed 200 OK in 152ms (Views: 118.4ms | ActiveRecord: 27.6ms)


Started GET "/profiles/5" for 127.0.0.1 at 2020-01-16 02:09:51 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.9ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/profiles/show.html.erb:22
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 5], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:24
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requester_id", 1], ["id", 5], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:25
  [1m[35m (2.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 5], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 5], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:82
  Rendered profiles/show.html.erb within layouts/application (19.4ms)
  [1m[36mProfile Load (2.1ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.7ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[35m (2.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:57
Completed 200 OK in 136ms (Views: 115.4ms | ActiveRecord: 13.2ms)


Started GET "/profiles/1" for 127.0.0.1 at 2020-01-16 02:09:58 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mProfile Load (5.7ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:31
  [1m[35m (5.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["requester_id", 1], ["accepted", 1], ["LIMIT", 4]]
  ↳ app/views/profiles/show.html.erb:66
  [1m[36mProfile Load (2.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (2.9ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:82
  [1m[36mPost Load (1.3ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:83
  [1m[36mLike Exists (3.6ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:110
  [1m[35m (3.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:122
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:160
  Rendered profiles/show.html.erb within layouts/application (51.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.6ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (2.7ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:57
Completed 200 OK in 163ms (Views: 122.9ms | ActiveRecord: 33.9ms)


Started POST "/likes?like%5Bpost_id%5D=1" for 127.0.0.1 at 2020-01-16 02:10:04 +0800
Processing by LikesController#create as HTML
  Parameters: {"authenticity_token"=>"/voXXirq62xGqBSXFuEYVkWEC5n2xLT77TLWgO/O6nQLv4ZUAOa1Eqj8gMky3RfYph8fkw30zC90Oc7UOYsTQw==", "like"=>{"post_id"=>"1"}}
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (3.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/likes_controller.rb:5
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/likes_controller.rb:5
  [1m[36mLike Exists (2.8ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."post_id" = $2 LIMIT $3[0m  [["user_id", 1], ["post_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/likes_controller.rb:5
  [1m[36mLike Create (2.3ms)[0m  [1m[32mINSERT INTO "likes" ("user_id", "post_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 1], ["post_id", 1], ["created_at", "2020-01-16 02:10:05.056383"], ["updated_at", "2020-01-16 02:10:05.056383"]]
  ↳ app/controllers/likes_controller.rb:5
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/likes_controller.rb:5
Redirected to http://localhost:3000/
Completed 302 Found in 21ms (ActiveRecord: 12.8ms)


Started GET "/" for 127.0.0.1 at 2020-01-16 02:10:05 +0800
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (2.0ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (1.5ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (2.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (2,3,4) OR user_id = 1) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (4.6ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (2.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (2.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:63
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:74
  [1m[36mLike Load (1.1ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:78
  [1m[35m (1.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mComment Load (0.3ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1 ORDER BY "comments"."created_at" ASC[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:110
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:111
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:112
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:63
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:74
  [1m[36mLike Load (0.8ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:78
  [1m[35m (2.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:108
  Rendered posts/index.html.erb within layouts/application (97.3ms)
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (2.8ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 500 Internal Server Error in 208ms (ActiveRecord: 35.7ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :chat=>{:user2_id=>#<User id: 3, first_name: "Jia", last_name: "Wenqing", email: "jiawenqing15@mails.ucas.ac.cn", created_at: "2019-12-16 23:48:13", updated_at: "2019-12-16 23:48:13", provider: nil, uid: nil, name: nil, image: nil>}, :controller=>"rooms"}, missing required keys: [:id]):
    48:                 <% name_root = current_user.id.to_s + '_' + user.id.to_s%>
    49:                 <% if (Room.find_by(name:name_root) != nil) %>
    50:                   <li class="link-rooms">
    51:                     <%= link_to "私人消息 (#{user.last_name})", room_path(chat:{user2_id:user}) %>
    52:                   </li>
    53:                 <% end %>
    54:               <% end %>
  
app/views/layouts/application.html.erb:51:in `block in _app_views_layouts_application_html_erb___233473574806807172_70055048516480'
app/views/layouts/application.html.erb:38:in `_app_views_layouts_application_html_erb___233473574806807172_70055048516480'
Started GET "/users/index" for 127.0.0.1 at 2020-01-16 02:10:33 +0800
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (4.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (id != 1) LIMIT $1 OFFSET $2[0m  [["LIMIT", 12], ["OFFSET", 0]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 4], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mProfile Load (0.8ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (2.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 5], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requester_id", 1], ["id", 5], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:20
  Rendered users/index.html.erb within layouts/application (35.0ms)
  [1m[36mProfile Load (0.8ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.8ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 500 Internal Server Error in 138ms (ActiveRecord: 13.0ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :chat=>{:user2_id=>#<User id: 3, first_name: "Jia", last_name: "Wenqing", email: "jiawenqing15@mails.ucas.ac.cn", created_at: "2019-12-16 23:48:13", updated_at: "2019-12-16 23:48:13", provider: nil, uid: nil, name: nil, image: nil>}, :controller=>"rooms"}, missing required keys: [:id]):
    48:                 <% name_root = current_user.id.to_s + '_' + user.id.to_s%>
    49:                 <% if (Room.find_by(name:name_root) != nil) %>
    50:                   <li class="link-rooms">
    51:                     <%= link_to "私人消息 (#{user.last_name})", room_path(chat:{user2_id:user}) %>
    52:                   </li>
    53:                 <% end %>
    54:               <% end %>
  
app/views/layouts/application.html.erb:51:in `block in _app_views_layouts_application_html_erb___233473574806807172_70054995313380'
app/views/layouts/application.html.erb:38:in `_app_views_layouts_application_html_erb___233473574806807172_70054995313380'
Started GET "/profiles/1" for 127.0.0.1 at 2020-01-16 02:10:36 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:31
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["requester_id", 1], ["accepted", 1], ["LIMIT", 4]]
  ↳ app/views/profiles/show.html.erb:66
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (2.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[35m (2.1ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:82
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:83
  [1m[36mLike Exists (2.7ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:110
  [1m[36mLike Load (2.6ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:115
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:122
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:126
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:128
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:128
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:130
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:160
  Rendered profiles/show.html.erb within layouts/application (45.7ms)
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (3.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:57
Completed 200 OK in 153ms (Views: 123.5ms | ActiveRecord: 22.8ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2020-01-16 02:10:46 +0800
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"pqWoOOZeImzIm0OdqP4p2Qfd1jylQ9w6ggmTETWCJCRT4DkyzFJ8EibP18OMwiZX5EbCNl5zpO4bAotF48fdEw=="}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (2.6ms)[0m  [1m[35mBEGIN[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "remember_created_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_created_at", nil], ["updated_at", "2020-01-16 02:10:46.712372"], ["id", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 13ms (ActiveRecord: 5.2ms)


Started GET "/" for 127.0.0.1 at 2020-01-16 02:10:46 +0800
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2020-01-16 02:10:46 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (7.3ms)
Completed 200 OK in 116ms (Views: 115.4ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2020-01-16 02:11:00 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Im/j8wm8xPSNw7I4gITd8nBul1l+JoWObmdTtZC8Ch8esD5hnGF1cSKPKVjA5hLVFrwz8FouVsG7d6+rK10oAA==", "user"=>{"email"=>"wangyicheng215@mails.ucas.ac.cn", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"提交"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "wangyicheng215@mails.ucas.ac.cn"], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (3.3ms)[0m  [1m[33mUPDATE "users" SET "remember_created_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_created_at", "2020-01-16 02:11:01.026978"], ["updated_at", "2020-01-16 02:11:01.027945"], ["id", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 14], ["current_sign_in_at", "2020-01-16 02:11:01.034292"], ["last_sign_in_at", "2020-01-16 02:05:38.619296"], ["updated_at", "2020-01-16 02:11:01.035113"], ["id", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 222ms (ActiveRecord: 7.1ms)


Started GET "/" for 127.0.0.1 at 2020-01-16 02:11:01 +0800
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (3.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (2,3,4) OR user_id = 1) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (2.8ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (2.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (5.7ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:63
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:74
  [1m[36mLike Load (0.4ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:78
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mComment Load (0.2ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1 ORDER BY "comments"."created_at" ASC[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:110
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:111
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:112
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (1.9ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[36mLike Load (2.0ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:63
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:74
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:78
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:108
  Rendered posts/index.html.erb within layouts/application (101.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 500 Internal Server Error in 213ms (ActiveRecord: 30.2ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :chat=>{:user2_id=>#<User id: 3, first_name: "Jia", last_name: "Wenqing", email: "jiawenqing15@mails.ucas.ac.cn", created_at: "2019-12-16 23:48:13", updated_at: "2019-12-16 23:48:13", provider: nil, uid: nil, name: nil, image: nil>}, :controller=>"rooms"}, missing required keys: [:id]):
    48:                 <% name_root = current_user.id.to_s + '_' + user.id.to_s%>
    49:                 <% if (Room.find_by(name:name_root) != nil) %>
    50:                   <li class="link-rooms">
    51:                     <%= link_to "私人消息 (#{user.last_name})", room_path(chat:{user2_id:user}) %>
    52:                   </li>
    53:                 <% end %>
    54:               <% end %>
  
app/views/layouts/application.html.erb:51:in `block in _app_views_layouts_application_html_erb___233473574806807172_70054997232400'
app/views/layouts/application.html.erb:38:in `_app_views_layouts_application_html_erb___233473574806807172_70054997232400'
Started POST "/users/sign_in" for 127.0.0.1 at 2020-01-16 02:11:39 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Im/j8wm8xPSNw7I4gITd8nBul1l+JoWObmdTtZC8Ch8esD5hnGF1cSKPKVjA5hLVFrwz8FouVsG7d6+rK10oAA==", "user"=>{"email"=>"hudenghang15@mails.ucas.ac.cn", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"提交"}
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 1.7ms)


Started GET "/" for 127.0.0.1 at 2020-01-16 02:11:39 +0800
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (1.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (2.7ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (2,3,4) OR user_id = 1) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (2.8ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (2.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (3.1ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (2.9ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (3.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:63
  [1m[35m (2.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:74
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:78
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mComment Load (0.2ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1 ORDER BY "comments"."created_at" ASC[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:110
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:111
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:112
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (3.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:63
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:74
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:78
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:108
  Rendered posts/index.html.erb within layouts/application (110.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 500 Internal Server Error in 220ms (ActiveRecord: 36.6ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :chat=>{:user2_id=>#<User id: 3, first_name: "Jia", last_name: "Wenqing", email: "jiawenqing15@mails.ucas.ac.cn", created_at: "2019-12-16 23:48:13", updated_at: "2019-12-16 23:48:13", provider: nil, uid: nil, name: nil, image: nil>}, :controller=>"rooms"}, missing required keys: [:id]):
    48:                 <% name_root = current_user.id.to_s + '_' + user.id.to_s%>
    49:                 <% if (Room.find_by(name:name_root) != nil) %>
    50:                   <li class="link-rooms">
    51:                     <%= link_to "私人消息 (#{user.last_name})", room_path(chat:{user2_id:user}) %>
    52:                   </li>
    53:                 <% end %>
    54:               <% end %>
  
app/views/layouts/application.html.erb:51:in `block in _app_views_layouts_application_html_erb___233473574806807172_70055050281760'
app/views/layouts/application.html.erb:38:in `_app_views_layouts_application_html_erb___233473574806807172_70055050281760'
Started GET "/profiles/1" for 127.0.0.1 at 2020-01-16 02:19:27 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mProfile Load (1.5ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:31
  [1m[35m (3.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["requester_id", 1], ["accepted", 1], ["LIMIT", 4]]
  ↳ app/views/profiles/show.html.erb:66
  [1m[36mProfile Load (1.8ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[35m (3.2ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:82
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:83
  [1m[36mLike Exists (3.2ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:110
  [1m[36mLike Load (1.0ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:115
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:122
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:126
  [1m[36mLike Load (0.6ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:128
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:128
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:130
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:160
  Rendered profiles/show.html.erb within layouts/application (62.5ms)
  [1m[36mUser Load (6.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:57
Completed 200 OK in 207ms (Views: 166.5ms | ActiveRecord: 29.1ms)


Started GET "/profiles/2" for 127.0.0.1 at 2020-01-16 02:20:28 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/profiles/show.html.erb:22
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:24
  [1m[35m (2.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 2], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["requester_id", 2], ["accepted", 1], ["LIMIT", 4]]
  ↳ app/views/profiles/show.html.erb:66
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (1.9ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[35m (2.5ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 2], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:82
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["user_id", 2], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:83
  [1m[36mLike Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:110
  [1m[36mLike Load (0.5ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:115
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/profiles/show.html.erb:122
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/profiles/show.html.erb:126
  [1m[36mLike Load (0.5ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:128
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:128
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:130
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/profiles/show.html.erb:160
  [1m[36mComment Load (0.3ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1 ORDER BY "comments"."created_at" ASC[0m  [["post_id", 2]]
  ↳ app/views/profiles/show.html.erb:162
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:163
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:164
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:184
  Rendered profiles/show.html.erb within layouts/application (61.9ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (1.4ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (2.5ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:57
Completed 200 OK in 181ms (Views: 145.4ms | ActiveRecord: 22.7ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2020-01-16 02:21:13 +0800
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"qFIaFgiuNTlKiE+4nBprWn+OonpyHdoT92yEZhyRefnJNNEwtykmSlOkOaF4+0DpMktGpr2uvGpgyLWpCgxQhw=="}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (1.0ms)[0m  [1m[33mUPDATE "users" SET "remember_created_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_created_at", nil], ["updated_at", "2020-01-16 02:21:13.089379"], ["id", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (3.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 13ms (ActiveRecord: 4.9ms)


Started GET "/" for 127.0.0.1 at 2020-01-16 02:21:13 +0800
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2020-01-16 02:21:13 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (5.8ms)
Completed 200 OK in 97ms (Views: 95.9ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2020-01-16 02:21:18 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"4ehJCh4evPChIVwoGjjjfJVVgx2JURjtVY2MrFhFXP4W4DFmtUmnBBw5iyWomt5duhXUTSAlf9OGXCBKrmP7fA==", "user"=>{"email"=>"xieyi19@mails.ucas.ac.cn", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"提交"}
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "xieyi19@mails.ucas.ac.cn"], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (3.9ms)[0m  [1m[35mBEGIN[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (1.7ms)[0m  [1m[33mUPDATE "users" SET "remember_created_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_created_at", "2020-01-16 02:21:19.168708"], ["updated_at", "2020-01-16 02:21:19.173439"], ["id", 5]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (2.7ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 4], ["current_sign_in_at", "2020-01-16 02:21:19.178514"], ["last_sign_in_at", "2020-01-16 01:44:12.589249"], ["updated_at", "2020-01-16 02:21:19.180070"], ["id", 5]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 230ms (ActiveRecord: 12.8ms)


Started GET "/" for 127.0.0.1 at 2020-01-16 02:21:19 +0800
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (2.4ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 5], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (0.6ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (NULL) OR user_id = 5) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  Rendered posts/index.html.erb within layouts/application (18.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "3_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "2_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "4_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
Completed 500 Internal Server Error in 156ms (ActiveRecord: 10.0ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :chat=>{:user2_id=>#<User id: 1, first_name: "Wang", last_name: "Yicheng", email: "wangyicheng215@mails.ucas.ac.cn", created_at: "2019-12-16 23:45:28", updated_at: "2020-01-15 18:21:13", provider: nil, uid: nil, name: nil, image: nil>}, :controller=>"rooms"}, missing required keys: [:id]):
    40:                 <% name_root = user.id.to_s + '_' + current_user.id.to_s%>
    41:                 <% if (Room.find_by(name:name_root) != nil) %>
    42:                   <li class="link-rooms">
    43:                     <%= link_to "私人消息 (#{user.last_name})", room_path(chat:{user2_id:user}) %>
    44:                   </li>
    45:                 <% end %>
    46:               <% end %>
  
app/views/layouts/application.html.erb:43:in `block in _app_views_layouts_application_html_erb___233473574806807172_26239140'
app/views/layouts/application.html.erb:38:in `_app_views_layouts_application_html_erb___233473574806807172_26239140'
Started GET "/profiles/1" for 127.0.0.1 at 2020-01-16 02:34:57 +0800
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 5]]
  ↳ app/views/profiles/show.html.erb:22
  [1m[36mRequest Load (1.6ms)[0m  [1m[34mSELECT  "requests".* FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."requester_id" = $2 LIMIT $3[0m  [["requestee_id", 5], ["requester_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:23
  [1m[35m (4.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["requester_id", 1], ["accepted", 1], ["LIMIT", 4]]
  ↳ app/views/profiles/show.html.erb:66
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (2.9ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:82
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:83
  [1m[36mLike Exists (2.8ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 5) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:110
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:122
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:126
  [1m[36mLike Load (3.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:128
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:128
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:130
  [1m[35m (2.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:160
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:184
  Rendered profiles/show.html.erb within layouts/application (363.9ms)
Completed 500 Internal Server Error in 537ms (ActiveRecord: 53.9ms)


  
SyntaxError (/home/yicheng/sda4/share/findYourCpNow/app/views/layouts/application.html.erb:43: syntax error, unexpected '}', expecting =>
..._path(chat:{user2_id:user, :id}) );@output_buffer.safe_appen...
...                               ^
/home/yicheng/sda4/share/findYourCpNow/app/views/layouts/application.html.erb:45: syntax error, unexpected keyword_end, expecting ')'
'.freeze;                 end 
                             ^
/home/yicheng/sda4/share/findYourCpNow/app/views/layouts/application.html.erb:51: syntax error, unexpected '}', expecting =>
..._path(chat:{user2_id:user, :id}) );@output_buffer.safe_appen...
...                               ^
/home/yicheng/sda4/share/findYourCpNow/app/views/layouts/application.html.erb:53: syntax error, unexpected keyword_end, expecting ')'
'.freeze;                 end 
                             ^
/home/yicheng/sda4/share/findYourCpNow/app/views/layouts/application.html.erb:68: syntax error, unexpected keyword_end, expecting ')'
'.freeze;           end 
                       ^
/home/yicheng/sda4/share/findYourCpNow/app/views/layouts/application.html.erb:88: syntax error, unexpected keyword_ensure, expecting ')'
/home/yicheng/sda4/share/findYourCpNow/app/views/layouts/application.html.erb:90: syntax error, unexpected keyword_end, expecting ')'):
  
app/views/layouts/application.html.erb:43: syntax error, unexpected '}', expecting =>
app/views/layouts/application.html.erb:45: syntax error, unexpected keyword_end, expecting ')'
app/views/layouts/application.html.erb:51: syntax error, unexpected '}', expecting =>
app/views/layouts/application.html.erb:53: syntax error, unexpected keyword_end, expecting ')'
app/views/layouts/application.html.erb:68: syntax error, unexpected keyword_end, expecting ')'
app/views/layouts/application.html.erb:88: syntax error, unexpected keyword_ensure, expecting ')'
app/views/layouts/application.html.erb:90: syntax error, unexpected keyword_end, expecting ')'
Started GET "/profiles/1" for 127.0.0.1 at 2020-01-16 02:36:11 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 5]]
  ↳ app/views/profiles/show.html.erb:22
  [1m[36mRequest Load (0.3ms)[0m  [1m[34mSELECT  "requests".* FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."requester_id" = $2 LIMIT $3[0m  [["requestee_id", 5], ["requester_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:23
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["requester_id", 1], ["accepted", 1], ["LIMIT", 4]]
  ↳ app/views/profiles/show.html.erb:66
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (1.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (0.7ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:82
  [1m[36mPost Load (1.0ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:83
  [1m[36mLike Exists (3.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 5) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:110
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:122
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:126
  [1m[36mLike Load (0.4ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:128
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:128
  [1m[36mProfile Load (4.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:130
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:160
  [1m[36mProfile Load (2.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:184
  Rendered profiles/show.html.erb within layouts/application (84.6ms)
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "3_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "2_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "4_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
  [1m[36mRoom Load (1.3ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 5], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:57
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 5], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:59
Completed 200 OK in 903ms (Views: 863.0ms | ActiveRecord: 32.8ms)


Started GET "/rooms/1?chat%5Buser2_id%5D=1" for 127.0.0.1 at 2020-01-16 02:38:22 +0800
Processing by RoomsController#show as HTML
  Parameters: {"chat"=>{"user2_id"=>"1"}, "id"=>"1"}
  [1m[36mUser Load (3.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:20
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (2.7ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 7]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mUser Load (8.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN ($1, $2)[0m  [["id", 5], ["id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mProfile Load (0.5ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  Rendered rooms/index.html.erb within layouts/application (94.6ms)
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "3_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "2_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
  [1m[36mRoom Load (1.6ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "4_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 5], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:57
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 5], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:59
Completed 200 OK in 303ms (Views: 249.3ms | ActiveRecord: 30.6ms)


Started GET "/cable" for 127.0.0.1 at 2020-01-16 02:38:23 +0800
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-01-16 02:38:23 +0800
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY2xvbmUtYm9vay9Vc2VyLzU)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:3
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzc
Started POST "/room_messages" for 127.0.0.1 at 2020-01-16 02:38:41 +0800
Processing by RoomMessagesController#create as JS
  Parameters: {"utf8"=>"✓", "room_message"=>{"message"=>"Haoba", "room_id"=>"7"}, "commit"=>"发送"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/room_messages_controller.rb:12
  [1m[35m (1.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/room_messages_controller.rb:4
  [1m[36mRoomMessage Create (3.4ms)[0m  [1m[32mINSERT INTO "room_messages" ("room_id", "user_id", "message", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["room_id", 7], ["user_id", 5], ["message", "Haoba"], ["created_at", "2020-01-16 02:38:41.699724"], ["updated_at", "2020-01-16 02:38:41.699724"]]
  ↳ app/controllers/room_messages_controller.rb:4
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/room_messages_controller.rb:4
[ActionCable] Broadcasting to room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzc: #<RoomMessage id: 11, room_id: 7, user_id: 5, message: "Haoba", created_at: "2020-01-15 18:38:41", updated_at: "2020-01-15 18:38:41">
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/models/room_message.rb:9
RoomChannel transmitting {"id"=>11, "room_id"=>7, "user_id"=>5, "message"=>"Haoba", "created_at"=>"2020-01-16T02:38:41.699+08:00", "updated_at"=>"2020-01-16T02:38:41.699+08:00", "user_full_name"=>"Xie Yi", "user_avatar_url"=>"https://wx3.sinaimg.cn/mw690/515a7464ly1g8pj3k5sctj20sg0izqbz.jpg"} (via streamed from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzc)
No template found for RoomMessagesController#create, rendering head :no_content
Completed 204 No Content in 207ms (ActiveRecord: 6.3ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-01-16 02:38:53 +0800
RoomChannel stopped streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzc
Started DELETE "/users/sign_out" for 127.0.0.1 at 2020-01-16 02:38:53 +0800
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"48Zlcz8axJMWy4GdQW8ydiRJtnI01EZ9iOdsnMifETyeiW3JkHPGY1UnwIrSY/30UCmoSljLPUdNX+BgcD5HNA=="}
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (1.5ms)[0m  [1m[35mBEGIN[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (2.6ms)[0m  [1m[33mUPDATE "users" SET "remember_created_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_created_at", nil], ["updated_at", "2020-01-16 02:38:53.447738"], ["id", 5]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 15ms (ActiveRecord: 7.6ms)


Started GET "/" for 127.0.0.1 at 2020-01-16 02:38:53 +0800
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2020-01-16 02:38:53 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (3.1ms)
Completed 200 OK in 103ms (Views: 101.6ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2020-01-16 02:38:58 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"p8x8YK5cLgLPT6T0focsQcwfVHIQi6SdqLgFiWSTi7Eya0zoyKgl90ngvveDpB+tJyYKAOlwTX0JQpckkAXvAQ==", "user"=>{"email"=>"wangyicheng215@mails.ucas.ac.cn", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"提交"}
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "wangyicheng215@mails.ucas.ac.cn"], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "remember_created_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_created_at", "2020-01-16 02:38:58.291834"], ["updated_at", "2020-01-16 02:38:58.295655"], ["id", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (2.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 15], ["current_sign_in_at", "2020-01-16 02:38:58.300786"], ["last_sign_in_at", "2020-01-16 02:11:01.034292"], ["updated_at", "2020-01-16 02:38:58.301593"], ["id", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (4.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 245ms (ActiveRecord: 9.9ms)


Started GET "/" for 127.0.0.1 at 2020-01-16 02:38:58 +0800
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (4.3ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (0.7ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (2,3,4) OR user_id = 1) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (2.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (1.6ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[36mLike Load (2.9ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:63
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:74
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:78
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mComment Load (0.2ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1 ORDER BY "comments"."created_at" ASC[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:110
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:111
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:112
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (1.7ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:63
  [1m[35m (2.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:74
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:78
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:108
  Rendered posts/index.html.erb within layouts/application (101.8ms)
  [1m[36mUser Load (5.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 500 Internal Server Error in 218ms (ActiveRecord: 35.9ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :chat=>{:user2_id=>#<User id: 3, first_name: "Jia", last_name: "Wenqing", email: "jiawenqing15@mails.ucas.ac.cn", created_at: "2019-12-16 23:48:13", updated_at: "2019-12-16 23:48:13", provider: nil, uid: nil, name: nil, image: nil>}, :controller=>"rooms"}, missing required keys: [:id]):
    48:                 <% name_root = current_user.id.to_s + '_' + user.id.to_s%>
    49:                 <% if (Room.find_by(name:name_root) != nil) %>
    50:                   <li class="link-rooms">
    51:                     <%= link_to "私人消息 (#{user.last_name})", room_path(chat:{user2_id:user}) %>
    52:                   </li>
    53:                 <% end %>
    54:               <% end %>
  
app/views/layouts/application.html.erb:51:in `block in _app_views_layouts_application_html_erb__1807913865154226190_69857458573900'
app/views/layouts/application.html.erb:38:in `_app_views_layouts_application_html_erb__1807913865154226190_69857458573900'
Started GET "/profiles/1" for 127.0.0.1 at 2020-01-16 02:39:07 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mProfile Load (1.8ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:31
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["requester_id", 1], ["accepted", 1], ["LIMIT", 4]]
  ↳ app/views/profiles/show.html.erb:66
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:82
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:83
  [1m[36mLike Exists (1.7ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:110
  [1m[36mLike Load (0.9ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:115
  [1m[35m (5.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:122
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:126
  [1m[36mLike Load (1.0ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:128
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:128
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:130
  [1m[35m (2.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:160
  Rendered profiles/show.html.erb within layouts/application (53.8ms)
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (1.7ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:57
Completed 200 OK in 204ms (Views: 172.3ms | ActiveRecord: 22.4ms)


Started GET "/rooms/1?chat%5Buser2_id%5D=5" for 127.0.0.1 at 2020-01-16 02:39:15 +0800
Processing by RoomsController#show as HTML
  Parameters: {"chat"=>{"user2_id"=>"5"}, "id"=>"1"}
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:20
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (0.3ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 7]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN ($1, $2)[0m  [["id", 5], ["id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mProfile Load (1.6ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  [1m[36mProfile Load (3.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  Rendered rooms/index.html.erb within layouts/application (34.2ms)
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (1.8ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (1.4ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[35m (4.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:57
Completed 200 OK in 169ms (Views: 147.3ms | ActiveRecord: 17.0ms)


Started GET "/cable" for 127.0.0.1 at 2020-01-16 02:39:15 +0800
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-01-16 02:39:15 +0800
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY2xvbmUtYm9vay9Vc2VyLzE)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:3
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzc
Started GET "/" for 127.0.0.1 at 2020-01-16 02:40:56 +0800
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (3.1ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (4.1ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (2.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (2,3,4) OR user_id = 1) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (3.6ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (2.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:63
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:74
  [1m[36mLike Load (1.2ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:78
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mComment Load (0.2ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1 ORDER BY "comments"."created_at" ASC[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:110
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:111
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:112
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:63
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:74
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:78
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:108
  Rendered posts/index.html.erb within layouts/application (96.8ms)
  [1m[36mUser Load (3.8ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 500 Internal Server Error in 209ms (ActiveRecord: 36.2ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :chat=>{:user2_id=>#<User id: 3, first_name: "Jia", last_name: "Wenqing", email: "jiawenqing15@mails.ucas.ac.cn", created_at: "2019-12-16 23:48:13", updated_at: "2019-12-16 23:48:13", provider: nil, uid: nil, name: nil, image: nil>}, :controller=>"rooms"}, missing required keys: [:id]):
    48:                 <% name_root = current_user.id.to_s + '_' + user.id.to_s%>
    49:                 <% if (Room.find_by(name:name_root) != nil) %>
    50:                   <li class="link-rooms">
    51:                     <%= link_to "私人消息 (#{user.last_name})", room_path(chat:{user2_id:user}) %>
    52:                   </li>
    53:                 <% end %>
    54:               <% end %>
  
app/views/layouts/application.html.erb:51:in `block in _app_views_layouts_application_html_erb__1807913865154226190_69857460501040'
app/views/layouts/application.html.erb:38:in `_app_views_layouts_application_html_erb__1807913865154226190_69857460501040'
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-01-16 02:41:33 +0800
RoomChannel stopped streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzc
Started GET "/" for 127.0.0.1 at 2020-01-16 02:41:33 +0800
Processing by PostsController#index as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (2.6ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (2,3,4) OR user_id = 1) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (1.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (3.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:63
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:74
  [1m[36mLike Load (0.8ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:78
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mComment Load (0.2ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1 ORDER BY "comments"."created_at" ASC[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:110
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:111
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:112
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[36mLike Load (2.0ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:63
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:74
  [1m[36mLike Load (1.2ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:78
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:108
  Rendered posts/index.html.erb within layouts/application (115.7ms)
  [1m[36mUser Load (4.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 500 Internal Server Error in 238ms (ActiveRecord: 31.9ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :chat=>{:user2_id=>#<User id: 3, first_name: "Jia", last_name: "Wenqing", email: "jiawenqing15@mails.ucas.ac.cn", created_at: "2019-12-16 23:48:13", updated_at: "2019-12-16 23:48:13", provider: nil, uid: nil, name: nil, image: nil>}, :controller=>"rooms"}, missing required keys: [:id]):
    48:                 <% name_root = current_user.id.to_s + '_' + user.id.to_s%>
    49:                 <% if (Room.find_by(name:name_root) != nil) %>
    50:                   <li class="link-rooms">
    51:                     <%= link_to "私人消息 (#{user.last_name})", room_path(chat:{user2_id:user}) %>
    52:                   </li>
    53:                 <% end %>
    54:               <% end %>
  
app/views/layouts/application.html.erb:51:in `block in _app_views_layouts_application_html_erb__1807913865154226190_69857286114740'
app/views/layouts/application.html.erb:38:in `_app_views_layouts_application_html_erb__1807913865154226190_69857286114740'
Started GET "/rooms/1?chat%5Buser2_id%5D=5" for 127.0.0.1 at 2020-01-16 02:42:14 +0800
Processing by RoomsController#show as HTML
  Parameters: {"chat"=>{"user2_id"=>"5"}, "id"=>"1"}
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (1.5ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:20
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (0.3ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 7]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN ($1, $2)[0m  [["id", 5], ["id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mProfile Load (3.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  [1m[36mProfile Load (1.5ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  Rendered rooms/index.html.erb within layouts/application (37.0ms)
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (3.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:57
Completed 200 OK in 147ms (Views: 129.5ms | ActiveRecord: 14.6ms)


Started GET "/cable" for 127.0.0.1 at 2020-01-16 02:42:15 +0800
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-01-16 02:42:15 +0800
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY2xvbmUtYm9vay9Vc2VyLzE)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:3
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzc
Started GET "/chatroom" for 127.0.0.1 at 2020-01-16 02:43:31 +0800
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "public_room"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:3
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (0.6ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  Rendered rooms/index.html.erb within layouts/application (20.7ms)
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 500 Internal Server Error in 119ms (ActiveRecord: 4.2ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :chat=>{:user2_id=>#<User id: 3, first_name: "Jia", last_name: "Wenqing", email: "jiawenqing15@mails.ucas.ac.cn", created_at: "2019-12-16 23:48:13", updated_at: "2019-12-16 23:48:13", provider: nil, uid: nil, name: nil, image: nil>}, :controller=>"rooms"}, missing required keys: [:id]):
    48:                 <% name_root = current_user.id.to_s + '_' + user.id.to_s%>
    49:                 <% if (Room.find_by(name:name_root) != nil) %>
    50:                   <li class="link-rooms">
    51:                     <%= link_to "私人消息 (#{user.last_name})", room_path(chat:{user2_id:user}) %>
    52:                   </li>
    53:                 <% end %>
    54:               <% end %>
  
app/views/layouts/application.html.erb:51:in `block in _app_views_layouts_application_html_erb__1807913865154226190_42808440'
app/views/layouts/application.html.erb:38:in `_app_views_layouts_application_html_erb__1807913865154226190_42808440'
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-01-16 02:43:39 +0800
RoomChannel stopped streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzc
Started GET "/rooms/1?chat%5Buser2_id%5D=5" for 127.0.0.1 at 2020-01-16 02:43:39 +0800
Processing by RoomsController#show as HTML
  Parameters: {"chat"=>{"user2_id"=>"5"}, "id"=>"1"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (1.8ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:20
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (0.4ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 7]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN ($1, $2)[0m  [["id", 5], ["id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mProfile Load (0.6ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  [1m[36mProfile Load (1.7ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  Rendered rooms/index.html.erb within layouts/application (30.2ms)
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.6ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[35m (2.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:57
Completed 200 OK in 143ms (Views: 129.1ms | ActiveRecord: 11.1ms)


Started GET "/cable" for 127.0.0.1 at 2020-01-16 02:43:41 +0800
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-01-16 02:43:41 +0800
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY2xvbmUtYm9vay9Vc2VyLzE)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:3
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzc
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-01-16 02:43:46 +0800
RoomChannel stopped streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzc
Started DELETE "/users/sign_out" for 127.0.0.1 at 2020-01-16 02:43:46 +0800
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"VT5u2YWoYTR8FRaX2IjPyz/WktuBqDGvTY38JkOpVaSGaoPc2bvJEXYshVAXQ27GPgkt+Ng0XwMNIMwMfxGCLg=="}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (1.3ms)[0m  [1m[35mBEGIN[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (3.7ms)[0m  [1m[33mUPDATE "users" SET "remember_created_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_created_at", nil], ["updated_at", "2020-01-16 02:43:46.739333"], ["id", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 13ms (ActiveRecord: 7.3ms)


Started GET "/" for 127.0.0.1 at 2020-01-16 02:43:46 +0800
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2020-01-16 02:43:46 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (11.1ms)
Completed 200 OK in 106ms (Views: 105.3ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2020-01-16 02:43:50 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"O+5PT6YpjUo2SY/eGxwF9qILrObdJoUl1iwHZ66k2XgrSprfoNJ0zWHA5uSJj8tcQmKgPZ9dwD4JWcwx2WnmmA==", "user"=>{"email"=>"xieyi19@mails.ucas.ac.cn", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"提交"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "xieyi19@mails.ucas.ac.cn"], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "remember_created_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_created_at", "2020-01-16 02:43:51.078315"], ["updated_at", "2020-01-16 02:43:51.081852"], ["id", 5]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (2.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 5], ["current_sign_in_at", "2020-01-16 02:43:51.086707"], ["last_sign_in_at", "2020-01-16 02:21:19.178514"], ["updated_at", "2020-01-16 02:43:51.087466"], ["id", 5]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 250ms (ActiveRecord: 5.5ms)


Started GET "/" for 127.0.0.1 at 2020-01-16 02:43:51 +0800
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 5], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (5.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (NULL) OR user_id = 5) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  Rendered posts/index.html.erb within layouts/application (11.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.6ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "3_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "2_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
  [1m[36mRoom Load (1.9ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "4_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
Completed 500 Internal Server Error in 128ms (ActiveRecord: 11.2ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :chat=>{:user2_id=>#<User id: 1, first_name: "Wang", last_name: "Yicheng", email: "wangyicheng215@mails.ucas.ac.cn", created_at: "2019-12-16 23:45:28", updated_at: "2020-01-15 18:43:46", provider: nil, uid: nil, name: nil, image: nil>}, :controller=>"rooms"}, missing required keys: [:id]):
    40:                 <% name_root = user.id.to_s + '_' + current_user.id.to_s%>
    41:                 <% if (Room.find_by(name:name_root) != nil) %>
    42:                   <li class="link-rooms">
    43:                     <%= link_to "私人消息 (#{user.last_name})", room_path(chat:{user2_id:user}) %>
    44:                   </li>
    45:                 <% end %>
    46:               <% end %>
  
app/views/layouts/application.html.erb:43:in `block in _app_views_layouts_application_html_erb__1807913865154226190_69857456425440'
app/views/layouts/application.html.erb:38:in `_app_views_layouts_application_html_erb__1807913865154226190_69857456425440'
Started GET "/profiles/1" for 127.0.0.1 at 2020-01-16 02:43:58 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (2.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mUser Load (6.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 5]]
  ↳ app/views/profiles/show.html.erb:22
  [1m[36mRequest Load (1.2ms)[0m  [1m[34mSELECT  "requests".* FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."requester_id" = $2 LIMIT $3[0m  [["requestee_id", 5], ["requester_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:23
  [1m[35m (2.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[36mUser Load (5.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["requester_id", 1], ["accepted", 1], ["LIMIT", 4]]
  ↳ app/views/profiles/show.html.erb:66
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (0.5ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:82
  [1m[36mPost Load (1.6ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:83
  [1m[36mLike Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 5) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:110
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:122
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:126
  [1m[36mLike Load (3.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:128
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:128
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:130
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:160
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:184
  Rendered profiles/show.html.erb within layouts/application (66.5ms)
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "3_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
  [1m[36mRoom Load (0.7ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "2_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
  [1m[36mRoom Load (1.7ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "4_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 5], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:57
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 5], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:59
Completed 200 OK in 190ms (Views: 148.8ms | ActiveRecord: 31.9ms)


Started GET "/chatroom" for 127.0.0.1 at 2020-01-16 02:44:09 +0800
Processing by RoomsController#index as HTML
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (1.3ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "public_room"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:3
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (1.4ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  Rendered rooms/index.html.erb within layouts/application (23.2ms)
  [1m[36mProfile Load (2.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "3_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "2_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "4_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
  [1m[36mRoom Load (1.5ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
Completed 500 Internal Server Error in 144ms (ActiveRecord: 9.7ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :chat=>{:user2_id=>#<User id: 1, first_name: "Wang", last_name: "Yicheng", email: "wangyicheng215@mails.ucas.ac.cn", created_at: "2019-12-16 23:45:28", updated_at: "2020-01-15 18:43:46", provider: nil, uid: nil, name: nil, image: nil>}, :controller=>"rooms"}, missing required keys: [:id]):
    40:                 <% name_root = user.id.to_s + '_' + current_user.id.to_s%>
    41:                 <% if (Room.find_by(name:name_root) != nil) %>
    42:                   <li class="link-rooms">
    43:                     <%= link_to "私人消息 (#{user.last_name})", room_path(chat:{user2_id:user}) %>
    44:                   </li>
    45:                 <% end %>
    46:               <% end %>
  
app/views/layouts/application.html.erb:43:in `block in _app_views_layouts_application_html_erb__1807913865154226190_69857276175480'
app/views/layouts/application.html.erb:38:in `_app_views_layouts_application_html_erb__1807913865154226190_69857276175480'
Started GET "/profiles/1" for 127.0.0.1 at 2020-01-16 02:44:13 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 5]]
  ↳ app/views/profiles/show.html.erb:22
  [1m[36mRequest Load (0.2ms)[0m  [1m[34mSELECT  "requests".* FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."requester_id" = $2 LIMIT $3[0m  [["requestee_id", 5], ["requester_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:23
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["requester_id", 1], ["accepted", 1], ["LIMIT", 4]]
  ↳ app/views/profiles/show.html.erb:66
  [1m[36mProfile Load (2.8ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[35m (1.9ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:82
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:83
  [1m[36mLike Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 5) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:110
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:122
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:126
  [1m[36mLike Load (2.5ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:128
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:128
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:130
  [1m[35m (2.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:160
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:184
  Rendered profiles/show.html.erb within layouts/application (54.4ms)
  [1m[36mUser Load (4.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "3_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "2_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "4_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 5], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:57
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 5], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:59
Completed 200 OK in 168ms (Views: 140.2ms | ActiveRecord: 21.8ms)


Started GET "/index" for 127.0.0.1 at 2020-01-16 02:44:54 +0800
  
ActionController::RoutingError (No route matches [GET] "/index"):
  
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.12.2) lib/puma/configuration.rb:227:in `call'
puma (3.12.2) lib/puma/server.rb:674:in `handle_request'
puma (3.12.2) lib/puma/server.rb:476:in `process_client'
puma (3.12.2) lib/puma/server.rb:334:in `block in run'
puma (3.12.2) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
Started GET "/rooms/1?chat%5Buser2_id%5D=1" for 127.0.0.1 at 2020-01-16 02:45:36 +0800
Processing by RoomsController#show as HTML
  Parameters: {"chat"=>{"user2_id"=>"1"}, "id"=>"1"}
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:20
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (3.4ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 7]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN ($1, $2)[0m  [["id", 5], ["id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  [1m[36mProfile Load (1.7ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  Rendered rooms/index.html.erb within layouts/application (27.5ms)
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "3_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "2_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "4_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
  [1m[35m (3.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 5], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:57
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 5], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:59
Completed 200 OK in 146ms (Views: 127.6ms | ActiveRecord: 14.4ms)


Started GET "/cable" for 127.0.0.1 at 2020-01-16 02:45:36 +0800
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-01-16 02:45:36 +0800
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY2xvbmUtYm9vay9Vc2VyLzU)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:3
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzc
Started GET "/profiles/5" for 127.0.0.1 at 2020-01-16 02:46:51 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:31
  [1m[35m (4.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 5], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 5], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:82
  Rendered profiles/show.html.erb within layouts/application (18.3ms)
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "3_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "2_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
  [1m[36mRoom Load (2.6ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "4_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 5], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:57
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 5], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:59
Completed 200 OK in 145ms (Views: 123.7ms | ActiveRecord: 12.1ms)


Started GET "/rooms/5?chat%5Buser2_id%5D=1" for 127.0.0.1 at 2020-01-16 02:47:10 +0800
Processing by RoomsController#show as HTML
  Parameters: {"chat"=>{"user2_id"=>"1"}, "id"=>"5"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:20
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (2.7ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 7]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN ($1, $2)[0m  [["id", 5], ["id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mProfile Load (2.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  [1m[36mProfile Load (0.8ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  Rendered rooms/index.html.erb within layouts/application (27.2ms)
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.6ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "3_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
  [1m[36mRoom Load (0.6ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "2_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
  [1m[36mRoom Load (0.6ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "4_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 5], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:57
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 5], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:59
Completed 200 OK in 146ms (Views: 131.8ms | ActiveRecord: 11.1ms)


Started GET "/cable" for 127.0.0.1 at 2020-01-16 03:01:31 +0800
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-01-16 03:01:31 +0800
Started GET "/rooms/5?chat%5Buser2_id%5D=1" for 127.0.0.1 at 2020-01-16 03:01:31 +0800
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
Processing by RoomsController#show as HTML
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-01-16 03:01:31 +0800
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:13
  Parameters: {"chat"=>{"user2_id"=>"1"}, "id"=>"5"}
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Registered connection (Z2lkOi8vY2xvbmUtYm9vay9Vc2VyLzU)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:20
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (1.1ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 7]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN ($1, $2)[0m  [["id", 5], ["id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  Rendered rooms/index.html.erb within layouts/application (279.3ms)
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mUser Load (3.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "3_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "2_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "4_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 5], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:57
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 5], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:59
Completed 200 OK in 1092ms (Views: 957.6ms | ActiveRecord: 58.0ms)


Started GET "/cable" for 127.0.0.1 at 2020-01-16 03:01:33 +0800
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-01-16 03:01:33 +0800
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY2xvbmUtYm9vay9Vc2VyLzU)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:3
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzc
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-01-16 03:01:51 +0800
RoomChannel stopped streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzc
Started GET "/profiles/1" for 127.0.0.1 at 2020-01-16 03:01:51 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 5]]
  ↳ app/views/profiles/show.html.erb:22
  [1m[36mRequest Load (0.3ms)[0m  [1m[34mSELECT  "requests".* FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."requester_id" = $2 LIMIT $3[0m  [["requestee_id", 5], ["requester_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:23
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["requester_id", 1], ["accepted", 1], ["LIMIT", 4]]
  ↳ app/views/profiles/show.html.erb:66
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (1.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:82
  [1m[36mPost Load (0.5ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:83
  [1m[36mLike Exists (6.1ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 5) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:110
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:122
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:126
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:128
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:128
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:130
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:160
  [1m[36mProfile Load (2.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:184
  Rendered profiles/show.html.erb within layouts/application (181.9ms)
  [1m[36mUser Load (4.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "3_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "2_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "4_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 5], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:57
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 5], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:59
Completed 200 OK in 352ms (Views: 287.8ms | ActiveRecord: 39.1ms)


Started GET "/profiles/5" for 127.0.0.1 at 2020-01-16 03:02:01 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (3.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:31
  [1m[35m (3.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 5], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 5], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:82
  Rendered profiles/show.html.erb within layouts/application (16.1ms)
  [1m[36mUser Load (5.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "3_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "2_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "4_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
  [1m[35m (3.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 5], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:57
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 5], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:59
Completed 200 OK in 141ms (Views: 115.8ms | ActiveRecord: 17.4ms)


Started GET "/" for 127.0.0.1 at 2020-01-16 03:02:06 +0800
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 5], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (3.7ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (NULL) OR user_id = 5) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  Rendered posts/index.html.erb within layouts/application (16.8ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "3_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "2_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "4_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
Completed 500 Internal Server Error in 154ms (ActiveRecord: 6.9ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :chat=>{:user2_id=>1}, :controller=>"rooms"}, missing required keys: [:id]):
    40:                 <% name_root = user.id.to_s + '_' + current_user.id.to_s%>
    41:                 <% if (Room.find_by(name:name_root) != nil) %>
    42:                   <li class="link-rooms">
    43:                     <%= link_to "私人消息 (#{user.last_name})", room_path(chat:{user2_id:user.id}) %>
    44:                   </li>
    45:                 <% end %>
    46:               <% end %>
  
app/views/layouts/application.html.erb:43:in `block in _app_views_layouts_application_html_erb___1006756530550132750_70287747356060'
app/views/layouts/application.html.erb:38:in `_app_views_layouts_application_html_erb___1006756530550132750_70287747356060'
Started GET "/" for 127.0.0.1 at 2020-01-16 03:08:05 +0800
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by PostsController#index as HTML
  [1m[36mUser Load (4.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 5], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (0.6ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (NULL) OR user_id = 5) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  Rendered posts/index.html.erb within layouts/application (80.5ms)
Completed 500 Internal Server Error in 233ms (ActiveRecord: 30.5ms)


  
SyntaxError (/home/yicheng/sda4/share/findYourCpNow/app/views/layouts/application.html.erb:43: syntax error, unexpected ')', expecting '='
...m_path(chat:{user2_id:(user,id)}) );@output_buffer.safe_appe...
...                               ^
/home/yicheng/sda4/share/findYourCpNow/app/views/layouts/application.html.erb:45: syntax error, unexpected keyword_end, expecting ')'
'.freeze;                 end 
                             ^
/home/yicheng/sda4/share/findYourCpNow/app/views/layouts/application.html.erb:51: syntax error, unexpected ')', expecting '='
...m_path(chat:{user2_id:(user,id)}) );@output_buffer.safe_appe...
...                               ^
/home/yicheng/sda4/share/findYourCpNow/app/views/layouts/application.html.erb:53: syntax error, unexpected keyword_end, expecting ')'
'.freeze;                 end 
                             ^
/home/yicheng/sda4/share/findYourCpNow/app/views/layouts/application.html.erb:68: syntax error, unexpected keyword_end, expecting ')'
'.freeze;           end 
                       ^
/home/yicheng/sda4/share/findYourCpNow/app/views/layouts/application.html.erb:88: syntax error, unexpected keyword_ensure, expecting ')'
/home/yicheng/sda4/share/findYourCpNow/app/views/layouts/application.html.erb:90: syntax error, unexpected keyword_end, expecting ')'):
  
app/views/layouts/application.html.erb:43: syntax error, unexpected ')', expecting '='
app/views/layouts/application.html.erb:45: syntax error, unexpected keyword_end, expecting ')'
app/views/layouts/application.html.erb:51: syntax error, unexpected ')', expecting '='
app/views/layouts/application.html.erb:53: syntax error, unexpected keyword_end, expecting ')'
app/views/layouts/application.html.erb:68: syntax error, unexpected keyword_end, expecting ')'
app/views/layouts/application.html.erb:88: syntax error, unexpected keyword_ensure, expecting ')'
app/views/layouts/application.html.erb:90: syntax error, unexpected keyword_end, expecting ')'
Started GET "/profiles/1" for 127.0.0.1 at 2020-01-16 10:18:30 +0800
  
PG::ConnectionBad (FATAL:  could not write init file
):
  
pg (1.0.0) lib/pg.rb:56:in `initialize'
pg (1.0.0) lib/pg.rb:56:in `new'
pg (1.0.0) lib/pg.rb:56:in `connect'
activerecord (5.2.0) lib/active_record/connection_adapters/postgresql_adapter.rb:684:in `connect'
activerecord (5.2.0) lib/active_record/connection_adapters/postgresql_adapter.rb:215:in `initialize'
activerecord (5.2.0) lib/active_record/connection_adapters/postgresql_adapter.rb:40:in `new'
activerecord (5.2.0) lib/active_record/connection_adapters/postgresql_adapter.rb:40:in `postgresql_connection'
activerecord (5.2.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:809:in `new_connection'
activerecord (5.2.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:853:in `checkout_new_connection'
activerecord (5.2.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:832:in `try_to_checkout_new_connection'
activerecord (5.2.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:793:in `acquire_connection'
activerecord (5.2.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:521:in `checkout'
activerecord (5.2.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:380:in `connection'
activerecord (5.2.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:1008:in `retrieve_connection'
activerecord (5.2.0) lib/active_record/connection_handling.rb:118:in `retrieve_connection'
activerecord (5.2.0) lib/active_record/connection_handling.rb:90:in `connection'
activerecord (5.2.0) lib/active_record/migration.rb:554:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.0) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.12.2) lib/puma/configuration.rb:227:in `call'
puma (3.12.2) lib/puma/server.rb:674:in `handle_request'
puma (3.12.2) lib/puma/server.rb:476:in `process_client'
puma (3.12.2) lib/puma/server.rb:334:in `block in run'
puma (3.12.2) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2020-01-16 10:18:51 +0800
  
PG::ConnectionBad (FATAL:  could not write init file
):
  
pg (1.0.0) lib/pg.rb:56:in `initialize'
pg (1.0.0) lib/pg.rb:56:in `new'
pg (1.0.0) lib/pg.rb:56:in `connect'
activerecord (5.2.0) lib/active_record/connection_adapters/postgresql_adapter.rb:684:in `connect'
activerecord (5.2.0) lib/active_record/connection_adapters/postgresql_adapter.rb:215:in `initialize'
activerecord (5.2.0) lib/active_record/connection_adapters/postgresql_adapter.rb:40:in `new'
activerecord (5.2.0) lib/active_record/connection_adapters/postgresql_adapter.rb:40:in `postgresql_connection'
activerecord (5.2.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:809:in `new_connection'
activerecord (5.2.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:853:in `checkout_new_connection'
activerecord (5.2.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:832:in `try_to_checkout_new_connection'
activerecord (5.2.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:793:in `acquire_connection'
activerecord (5.2.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:521:in `checkout'
activerecord (5.2.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:380:in `connection'
activerecord (5.2.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:1008:in `retrieve_connection'
activerecord (5.2.0) lib/active_record/connection_handling.rb:118:in `retrieve_connection'
activerecord (5.2.0) lib/active_record/connection_handling.rb:90:in `connection'
activerecord (5.2.0) lib/active_record/migration.rb:554:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.0) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.12.2) lib/puma/configuration.rb:227:in `call'
puma (3.12.2) lib/puma/server.rb:674:in `handle_request'
puma (3.12.2) lib/puma/server.rb:476:in `process_client'
puma (3.12.2) lib/puma/server.rb:334:in `block in run'
puma (3.12.2) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
Started GET "/profiles/1" for 127.0.0.1 at 2020-01-16 10:29:35 +0800
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"1"}
Completed 401 Unauthorized in 23ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2020-01-16 10:29:37 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (488.1ms)
Completed 200 OK in 771ms (Views: 710.9ms | ActiveRecord: 12.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2020-01-16 10:29:46 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"pdurN3VjI6kg6nOvLFlK1ESJQrWuS/2gULAxZDkXlnWfv86SBaZHhI8LidoUs8DcPOSk5oPe5/4IdMX/xv7NPA==", "user"=>{"email"=>"wangyicheng215@mails.ucas.ac.cn", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"提交"}
  [1m[36mUser Load (14.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "wangyicheng215@mails.ucas.ac.cn"], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (1.4ms)[0m  [1m[33mUPDATE "users" SET "remember_created_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_created_at", "2020-01-16 10:29:47.005501"], ["updated_at", "2020-01-16 10:29:47.006914"], ["id", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (2.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 16], ["current_sign_in_at", "2020-01-16 10:29:47.019282"], ["last_sign_in_at", "2020-01-16 02:38:58.300786"], ["updated_at", "2020-01-16 10:29:47.020115"], ["id", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/profiles/1
Completed 302 Found in 300ms (ActiveRecord: 20.0ms)


Started GET "/profiles/1" for 127.0.0.1 at 2020-01-16 10:29:47 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (2.1ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:31
  [1m[35m (3.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["requester_id", 1], ["accepted", 1], ["LIMIT", 4]]
  ↳ app/views/profiles/show.html.erb:66
  [1m[36mProfile Load (1.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (2.6ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (2.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[35m (2.8ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:82
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:83
  [1m[36mLike Exists (3.2ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:110
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:115
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:122
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:126
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:128
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:128
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:130
  [1m[35m (2.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:160
  Rendered profiles/show.html.erb within layouts/application (164.4ms)
  [1m[36mUser Load (4.8ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (3.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (1.4ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (1.3ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[35m (1.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:57
Completed 200 OK in 476ms (Views: 297.4ms | ActiveRecord: 73.2ms)


Started GET "/users/index" for 127.0.0.1 at 2020-01-16 10:30:00 +0800
Processing by UsersController#index as HTML
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (id != 1) LIMIT $1 OFFSET $2[0m  [["LIMIT", 12], ["OFFSET", 0]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mUser Load (5.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 5], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mUser Exists (3.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requester_id", 1], ["id", 5], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:20
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mProfile Load (0.6ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 4], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  Rendered users/index.html.erb within layouts/application (51.7ms)
  [1m[36mProfile Load (0.8ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 500 Internal Server Error in 181ms (ActiveRecord: 15.6ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :chat=>{:user2_id=>#<User id: 5, first_name: "Xie", last_name: "Yi", email: "xieyi19@mails.ucas.ac.cn", created_at: "2020-01-15 14:45:33", updated_at: "2020-01-15 18:43:51", provider: nil, uid: nil, name: nil, image: nil>}, :controller=>"rooms"}, missing required keys: [:id]):
    48:                 <% name_root = current_user.id.to_s + '_' + user.id.to_s%>
    49:                 <% if (Room.find_by(name:name_root) != nil) %>
    50:                   <li class="link-rooms">
    51:                     <%= link_to "私人消息 (#{user.last_name})", room_path(chat:{user2_id:user}) %>
    52:                   </li>
    53:                 <% end %>
    54:               <% end %>
  
app/views/layouts/application.html.erb:51:in `block in _app_views_layouts_application_html_erb__2677499967914987066_70259747226900'
app/views/layouts/application.html.erb:38:in `_app_views_layouts_application_html_erb__2677499967914987066_70259747226900'
Started GET "/index" for 127.0.0.1 at 2020-01-16 10:30:24 +0800
  
ActionController::RoutingError (No route matches [GET] "/index"):
  
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.12.2) lib/puma/configuration.rb:227:in `call'
puma (3.12.2) lib/puma/server.rb:674:in `handle_request'
puma (3.12.2) lib/puma/server.rb:476:in `process_client'
puma (3.12.2) lib/puma/server.rb:334:in `block in run'
puma (3.12.2) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
Started GET "/profiles/1" for 127.0.0.1 at 2020-01-16 10:31:16 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:31
  [1m[35m (2.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["requester_id", 1], ["accepted", 1], ["LIMIT", 4]]
  ↳ app/views/profiles/show.html.erb:66
  [1m[36mProfile Load (1.7ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[35m (2.8ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:82
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:83
  [1m[36mLike Exists (2.2ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:110
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:115
  [1m[35m (4.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:122
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:126
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:128
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:128
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:130
  [1m[35m (5.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:160
  Rendered profiles/show.html.erb within layouts/application (53.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (2.6ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[35m (2.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:57
Completed 200 OK in 182ms (Views: 147.3ms | ActiveRecord: 29.4ms)


Started GET "/rooms/1?chat%5Buser2_id%5D=5" for 127.0.0.1 at 2020-01-16 10:31:24 +0800
Processing by RoomsController#show as HTML
  Parameters: {"chat"=>{"user2_id"=>"5"}, "id"=>"1"}
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:20
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (8.5ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 7]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN ($1, $2)[0m  [["id", 5], ["id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  Rendered rooms/index.html.erb within layouts/application (132.6ms)
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:57
Completed 200 OK in 284ms (Views: 236.7ms | ActiveRecord: 24.1ms)


Started GET "/cable" for 127.0.0.1 at 2020-01-16 10:31:25 +0800
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-01-16 10:31:25 +0800
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY2xvbmUtYm9vay9Vc2VyLzE)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:3
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzc
Started GET "/rooms/1?chat%5Buser2_id%5D=3" for 127.0.0.1 at 2020-01-16 10:31:27 +0800
Processing by RoomsController#show as HTML
  Parameters: {"chat"=>{"user2_id"=>"3"}, "id"=>"1"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:20
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (3.6ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 6]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  Rendered rooms/index.html.erb within layouts/application (24.5ms)
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (1.9ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[35m (6.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:57
Completed 200 OK in 143ms (Views: 123.5ms | ActiveRecord: 14.0ms)


  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:3
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzY
Started GET "/rooms/1?chat%5Buser2_id%5D=2" for 127.0.0.1 at 2020-01-16 10:31:28 +0800
Processing by RoomsController#show as HTML
  Parameters: {"chat"=>{"user2_id"=>"2"}, "id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:20
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (0.3ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 5]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  Rendered rooms/index.html.erb within layouts/application (23.8ms)
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (1.0ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[35m (2.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:57
Completed 200 OK in 137ms (Views: 127.6ms | ActiveRecord: 5.8ms)


  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:3
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzU
Started GET "/rooms/1?chat%5Buser2_id%5D=4" for 127.0.0.1 at 2020-01-16 10:31:30 +0800
Processing by RoomsController#show as HTML
  Parameters: {"chat"=>{"user2_id"=>"4"}, "id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:20
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (3.9ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 10]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mProfile Load (2.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  Rendered rooms/index.html.erb within layouts/application (18.8ms)
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (3.5ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:57
Completed 200 OK in 144ms (Views: 125.3ms | ActiveRecord: 13.9ms)


  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:3
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzEw
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-01-16 10:31:40 +0800
RoomChannel stopped streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzc
RoomChannel stopped streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzY
RoomChannel stopped streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzU
RoomChannel stopped streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzEw
Started DELETE "/users/sign_out" for 127.0.0.1 at 2020-01-16 10:31:40 +0800
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"miV4Q+82wQ38k+CLKZhltjB7aKv8Z49pxF6YMbQbtWfcWiot8wI7Q/9er+7kF+Y1NSxsmnPTBBsOUlCtr9emlQ=="}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (2.9ms)[0m  [1m[33mUPDATE "users" SET "remember_created_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_created_at", nil], ["updated_at", "2020-01-16 10:31:40.065361"], ["id", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (2.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 13ms (ActiveRecord: 5.9ms)


Started GET "/" for 127.0.0.1 at 2020-01-16 10:31:40 +0800
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2020-01-16 10:31:40 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (12.8ms)
Completed 200 OK in 116ms (Views: 114.7ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2020-01-16 10:31:43 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"hFK61CoOleDLWDCsgmQh2mFNVtk7u+rc2vmBkfxs6HICsyAJNnYPKgtfHQwX+1GMD5/4v0tUD7NR3IwJGFFiow==", "user"=>{"email"=>"qinzheng15@mails.ucas.ac.cn", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"提交"}
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "qinzheng15@mails.ucas.ac.cn"], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (3.5ms)[0m  [1m[35mBEGIN[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "remember_created_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_created_at", "2020-01-16 10:31:43.472274"], ["updated_at", "2020-01-16 10:31:43.477035"], ["id", 4]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 4], ["current_sign_in_at", "2020-01-16 10:31:43.481752"], ["last_sign_in_at", "2020-01-16 01:43:53.074473"], ["updated_at", "2020-01-16 10:31:43.482502"], ["id", 4]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 232ms (ActiveRecord: 9.0ms)


Started GET "/" for 127.0.0.1 at 2020-01-16 10:31:43 +0800
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 4], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (2.8ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (1) OR user_id = 4) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 4) LIMIT $2[0m  [["post_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (2.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (2.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 4) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:74
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:78
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:108
  Rendered posts/index.html.erb within layouts/application (57.5ms)
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "4_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (1.8ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
Completed 500 Internal Server Error in 188ms (ActiveRecord: 17.0ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :chat=>{:user2_id=>#<User id: 1, first_name: "Wang", last_name: "Yicheng", email: "wangyicheng215@mails.ucas.ac.cn", created_at: "2019-12-16 23:45:28", updated_at: "2020-01-16 02:31:40", provider: nil, uid: nil, name: nil, image: nil>}, :controller=>"rooms"}, missing required keys: [:id]):
    40:                 <% name_root = user.id.to_s + '_' + current_user.id.to_s%>
    41:                 <% if (Room.find_by(name:name_root) != nil) %>
    42:                   <li class="link-rooms">
    43:                     <%= link_to "私人消息 (#{user.last_name})", room_path(chat:{user2_id:user}) %>
    44:                   </li>
    45:                 <% end %>
    46:               <% end %>
  
app/views/layouts/application.html.erb:43:in `block in _app_views_layouts_application_html_erb__2677499967914987066_70259664065280'
app/views/layouts/application.html.erb:38:in `_app_views_layouts_application_html_erb__2677499967914987066_70259664065280'
Started GET "/profiles/1" for 127.0.0.1 at 2020-01-16 10:32:10 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 4]]
  ↳ app/views/profiles/show.html.erb:22
  [1m[36mUser Exists (2.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 4], ["id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:24
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["requester_id", 1], ["accepted", 1], ["LIMIT", 4]]
  ↳ app/views/profiles/show.html.erb:66
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[35m (2.2ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:82
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:83
  [1m[36mLike Exists (5.8ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 4) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:110
  [1m[35m (2.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:122
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:126
  [1m[36mLike Load (2.5ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:128
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:128
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:130
  [1m[35m (2.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:160
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:184
  Rendered profiles/show.html.erb within layouts/application (59.6ms)
  [1m[36mUser Load (4.8ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "4_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "3_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "2_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
  [1m[35m (2.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 4], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:57
Completed 200 OK in 169ms (Views: 126.7ms | ActiveRecord: 34.9ms)


Started GET "/rooms/1?chat%5Buser2_id%5D=1" for 127.0.0.1 at 2020-01-16 10:32:24 +0800
Processing by RoomsController#show as HTML
  Parameters: {"chat"=>{"user2_id"=>"1"}, "id"=>"1"}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:20
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (0.3ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 10]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  Rendered rooms/index.html.erb within layouts/application (22.9ms)
  [1m[36mProfile Load (2.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mUser Load (3.9ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "4_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "3_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "2_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 4], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:57
Completed 200 OK in 152ms (Views: 139.9ms | ActiveRecord: 9.4ms)


Started GET "/cable" for 127.0.0.1 at 2020-01-16 10:32:24 +0800
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-01-16 10:32:25 +0800
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY2xvbmUtYm9vay9Vc2VyLzQ)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:3
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzEw
Started GET "/chatroom" for 127.0.0.1 at 2020-01-16 10:32:25 +0800
Processing by RoomsController#index as HTML
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (1.6ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "public_room"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:3
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (0.3ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mProfile Load (1.8ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  Rendered rooms/index.html.erb within layouts/application (25.4ms)
  [1m[36mProfile Load (4.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mUser Load (3.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "4_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
Completed 500 Internal Server Error in 138ms (ActiveRecord: 13.3ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :chat=>{:user2_id=>#<User id: 1, first_name: "Wang", last_name: "Yicheng", email: "wangyicheng215@mails.ucas.ac.cn", created_at: "2019-12-16 23:45:28", updated_at: "2020-01-16 02:31:40", provider: nil, uid: nil, name: nil, image: nil>}, :controller=>"rooms"}, missing required keys: [:id]):
    40:                 <% name_root = user.id.to_s + '_' + current_user.id.to_s%>
    41:                 <% if (Room.find_by(name:name_root) != nil) %>
    42:                   <li class="link-rooms">
    43:                     <%= link_to "私人消息 (#{user.last_name})", room_path(chat:{user2_id:user}) %>
    44:                   </li>
    45:                 <% end %>
    46:               <% end %>
  
app/views/layouts/application.html.erb:43:in `block in _app_views_layouts_application_html_erb__2677499967914987066_70259663893700'
app/views/layouts/application.html.erb:38:in `_app_views_layouts_application_html_erb__2677499967914987066_70259663893700'
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-01-16 10:32:36 +0800
RoomChannel stopped streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzEw
Started GET "/rooms/1?chat%5Buser2_id%5D=1" for 127.0.0.1 at 2020-01-16 10:32:36 +0800
Processing by RoomsController#show as HTML
  Parameters: {"chat"=>{"user2_id"=>"1"}, "id"=>"1"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.9ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:20
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (0.3ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 10]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mProfile Load (3.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  Rendered rooms/index.html.erb within layouts/application (20.9ms)
  [1m[36mProfile Load (3.1ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "4_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "3_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "2_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 4], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:57
Completed 200 OK in 133ms (Views: 118.2ms | ActiveRecord: 10.3ms)


Started GET "/cable" for 127.0.0.1 at 2020-01-16 10:32:37 +0800
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-01-16 10:32:37 +0800
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY2xvbmUtYm9vay9Vc2VyLzQ)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:3
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzEw
Started GET "/profiles/1" for 127.0.0.1 at 2020-01-16 10:37:38 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mUser Load (3.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 4]]
  ↳ app/views/profiles/show.html.erb:22
  [1m[36mUser Exists (4.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 4], ["id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:24
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["requester_id", 1], ["accepted", 1], ["LIMIT", 4]]
  ↳ app/views/profiles/show.html.erb:66
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (1.1ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (1.9ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:82
  [1m[36mPost Load (0.8ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:83
  [1m[36mLike Exists (4.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 4) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:110
  [1m[35m (3.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:122
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:126
  [1m[36mLike Load (1.1ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:128
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:128
  [1m[36mProfile Load (3.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:130
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:160
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:184
  Rendered profiles/show.html.erb within layouts/application (63.7ms)
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (4.0ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "4_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "3_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "2_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 4], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:57
Completed 200 OK in 172ms (Views: 129.7ms | ActiveRecord: 34.1ms)


Started GET "/index" for 127.0.0.1 at 2020-01-16 10:37:44 +0800
  
ActionController::RoutingError (No route matches [GET] "/index"):
  
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.12.2) lib/puma/configuration.rb:227:in `call'
puma (3.12.2) lib/puma/server.rb:674:in `handle_request'
puma (3.12.2) lib/puma/server.rb:476:in `process_client'
puma (3.12.2) lib/puma/server.rb:334:in `block in run'
puma (3.12.2) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
Started GET "/index" for 127.0.0.1 at 2020-01-16 11:10:24 +0800
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  
ActionController::RoutingError (No route matches [GET] "/index"):
  
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.12.2) lib/puma/configuration.rb:227:in `call'
puma (3.12.2) lib/puma/server.rb:674:in `handle_request'
puma (3.12.2) lib/puma/server.rb:476:in `process_client'
puma (3.12.2) lib/puma/server.rb:334:in `block in run'
puma (3.12.2) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
Started GET "/cable" for 127.0.0.1 at 2020-01-16 11:10:26 +0800
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-01-16 11:10:26 +0800
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (3.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY2xvbmUtYm9vay9Vc2VyLzQ)
  [1m[36mRoom Load (0.7ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:3
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzEw
Started GET "/cable" for 127.0.0.1 at 2020-01-16 11:13:20 +0800
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-01-16 11:13:20 +0800
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY2xvbmUtYm9vay9Vc2VyLzQ)
  [1m[36mRoom Load (3.5ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:3
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzEw
Started GET "/index" for 127.0.0.1 at 2020-01-16 11:13:46 +0800
  
ActionController::RoutingError (No route matches [GET] "/index"):
  
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.12.2) lib/puma/configuration.rb:227:in `call'
puma (3.12.2) lib/puma/server.rb:674:in `handle_request'
puma (3.12.2) lib/puma/server.rb:476:in `process_client'
puma (3.12.2) lib/puma/server.rb:334:in `block in run'
puma (3.12.2) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2020-01-16 11:13:50 +0800
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 4], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (0.7ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (1) OR user_id = 4) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  [1m[36mUser Load (3.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 4) LIMIT $2[0m  [["post_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (3.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (3.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (1.7ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 4) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:74
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:78
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:108
  Rendered posts/index.html.erb within layouts/application (347.0ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "4_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
  [1m[36mRoom Load (1.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "3_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "2_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 4], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:57
Completed 200 OK in 1309ms (Views: 1191.6ms | ActiveRecord: 46.9ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2020-01-16 11:14:02 +0800
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"Im4i0KpliA1nizPDFc1R3/H1gLYzeN8GqD0VkWc5OXMr5RsoLHUqs2n7hk1wEmQCkhe0WMmnm93cGbUmFqaFEQ=="}
  [1m[36mUser Load (3.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (1.4ms)[0m  [1m[33mUPDATE "users" SET "remember_created_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_created_at", nil], ["updated_at", "2020-01-16 11:14:02.856410"], ["id", 4]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (3.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 25ms (ActiveRecord: 8.5ms)


Started GET "/" for 127.0.0.1 at 2020-01-16 11:14:02 +0800
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2020-01-16 11:14:02 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (12.4ms)
Completed 200 OK in 155ms (Views: 153.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2020-01-16 11:14:06 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"cLS1t/n3bljqJcDFyOLMam1iAmmjgSgDdK2pBC3JQrGfFzwg4VuEjxc5jwkufsiRHNFi6EfuNObMWp3Nks/OjQ==", "user"=>{"email"=>"wangyicheng215@mails.ucas.ac.cn", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"提交"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "wangyicheng215@mails.ucas.ac.cn"], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "remember_created_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_created_at", "2020-01-16 11:14:06.304056"], ["updated_at", "2020-01-16 11:14:06.309665"], ["id", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (2.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (2.8ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 17], ["current_sign_in_at", "2020-01-16 11:14:06.315766"], ["last_sign_in_at", "2020-01-16 10:29:47.019282"], ["updated_at", "2020-01-16 11:14:06.316473"], ["id", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 278ms (ActiveRecord: 7.2ms)


Started GET "/" for 127.0.0.1 at 2020-01-16 11:14:06 +0800
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (3.5ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (2,3,4) OR user_id = 1) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (4.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (0.9ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (3.1ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (4.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (1.9ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[36mLike Load (2.7ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:63
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:74
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:78
  [1m[35m (13.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mComment Load (0.3ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1 ORDER BY "comments"."created_at" ASC[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:110
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:111
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:112
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (5.8ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:63
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:74
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:78
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:108
  Rendered posts/index.html.erb within layouts/application (161.2ms)
  [1m[36mUser Load (4.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (2.3ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:57
Completed 200 OK in 321ms (Views: 249.9ms | ActiveRecord: 57.5ms)


Started GET "/" for 127.0.0.1 at 2020-01-16 16:05:10 +0800
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (0.8ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (2,3,4) OR user_id = 1) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (1.9ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (5.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (11.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:63
  [1m[35m (2.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:74
  [1m[36mLike Load (1.4ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:78
  [1m[35m (2.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mComment Load (0.4ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1 ORDER BY "comments"."created_at" ASC[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:110
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:111
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:112
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (4.1ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:63
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:74
  [1m[36mLike Load (3.0ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:78
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:108
  Rendered posts/index.html.erb within layouts/application (448.8ms)
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:57
Completed 200 OK in 1501ms (Views: 1269.0ms | ActiveRecord: 89.8ms)


Started GET "/profiles/1" for 127.0.0.1 at 2020-01-16 16:05:24 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:31
  [1m[35m (4.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["requester_id", 1], ["accepted", 1], ["LIMIT", 4]]
  ↳ app/views/profiles/show.html.erb:66
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (1.1ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[35m (2.1ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:82
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:83
  [1m[36mLike Exists (2.9ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:110
  [1m[36mLike Load (0.4ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:115
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:122
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:126
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:128
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:128
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:130
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:160
  Rendered profiles/show.html.erb within layouts/application (56.8ms)
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:57
Completed 200 OK in 204ms (Views: 169.5ms | ActiveRecord: 23.9ms)


Started GET "/profiles/1/edit" for 127.0.0.1 at 2020-01-16 16:05:31 +0800
Processing by ProfilesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (1.6ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:10
  Rendering profiles/edit.html.erb within layouts/application
  Rendered profiles/edit.html.erb within layouts/application (15.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.8ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:57
Completed 200 OK in 152ms (Views: 141.0ms | ActiveRecord: 5.2ms)


Started GET "/cable" for 127.0.0.1 at 2020-01-16 16:05:38 +0800
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-01-16 16:05:38 +0800
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY2xvbmUtYm9vay9Vc2VyLzE)
  [1m[36mRoom Load (0.8ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:3
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzEw
Started GET "/profiles/1" for 127.0.0.1 at 2020-01-16 16:05:46 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mProfile Load (0.7ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:31
  [1m[35m (3.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["requester_id", 1], ["accepted", 1], ["LIMIT", 4]]
  ↳ app/views/profiles/show.html.erb:66
  [1m[36mProfile Load (1.5ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (1.8ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:82
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:83
  [1m[36mLike Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:110
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:115
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:122
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:126
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:128
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:128
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:130
  [1m[35m (2.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:160
  Rendered profiles/show.html.erb within layouts/application (48.4ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (1.6ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:57
Completed 200 OK in 170ms (Views: 143.4ms | ActiveRecord: 16.8ms)


Started GET "/profiles/3" for 127.0.0.1 at 2020-01-16 16:05:49 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (1.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/profiles/show.html.erb:22
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 3], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:24
  [1m[35m (2.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 3], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["requester_id", 3], ["accepted", 1], ["LIMIT", 4]]
  ↳ app/views/profiles/show.html.erb:66
  [1m[36mProfile Load (2.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 3], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:82
  [1m[36mPost Load (1.5ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["user_id", 3], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:83
  [1m[36mLike Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 3], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:110
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/profiles/show.html.erb:122
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/profiles/show.html.erb:160
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:184
  Rendered profiles/show.html.erb within layouts/application (43.7ms)
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (1.6ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (1.0ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:57
Completed 200 OK in 160ms (Views: 131.8ms | ActiveRecord: 22.2ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-01-16 16:05:59 +0800
RoomChannel stopped streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzEw
Started GET "/chatroom" for 127.0.0.1 at 2020-01-16 16:06:02 +0800
Processing by RoomsController#index as HTML
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (2.4ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "public_room"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:3
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (3.8ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  Rendered rooms/index.html.erb within layouts/application (83.6ms)
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (1.5ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (1.8ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:57
Completed 200 OK in 220ms (Views: 177.1ms | ActiveRecord: 16.8ms)


Started GET "/cable" for 127.0.0.1 at 2020-01-16 16:06:02 +0800
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-01-16 16:06:02 +0800
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY2xvbmUtYm9vay9Vc2VyLzE)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:3
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzE
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-01-16 16:06:06 +0800
RoomChannel stopped streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzE
Started GET "/users/edit.1" for 127.0.0.1 at 2020-01-16 16:06:06 +0800
Processing by Devise::RegistrationsController#edit as 
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/registrations/edit.html.erb within layouts/application (7.5ms)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (1.0ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:57
Completed 200 OK in 135ms (Views: 124.9ms | ActiveRecord: 4.5ms)


Started GET "/users/index" for 127.0.0.1 at 2020-01-16 16:06:09 +0800
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (id != 1) LIMIT $1 OFFSET $2[0m  [["LIMIT", 12], ["OFFSET", 0]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 5], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mUser Exists (2.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requester_id", 1], ["id", 5], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:20
  [1m[36mProfile Load (3.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mProfile Load (0.7ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (3.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND (requests.accepted = 0)[0m  [["requestee_id", 1]]
  ↳ app/views/users/index.html.erb:17
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requester_id" WHERE "requests"."requestee_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["requestee_id", 1], ["id", 4], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:19
  Rendered users/index.html.erb within layouts/application (40.0ms)
  [1m[36mProfile Load (3.6ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.8ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:57
Completed 200 OK in 156ms (Views: 127.1ms | ActiveRecord: 23.6ms)


Started GET "/" for 127.0.0.1 at 2020-01-16 16:06:26 +0800
Processing by PostsController#index as HTML
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (4.1ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (2,3,4) OR user_id = 1) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (1.1ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (4.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (1.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (2.0ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:63
  [1m[35m (2.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:74
  [1m[36mLike Load (0.5ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:78
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mComment Load (1.6ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1 ORDER BY "comments"."created_at" ASC[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:110
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:111
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:112
  [1m[36mCACHE User Load (4.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:63
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:74
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:78
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:108
  Rendered posts/index.html.erb within layouts/application (104.1ms)
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (3.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:57
Completed 200 OK in 214ms (Views: 166.7ms | ActiveRecord: 39.6ms)


Started GET "/chatroom" for 127.0.0.1 at 2020-01-16 16:06:28 +0800
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (1.6ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "public_room"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:3
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (4.4ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  Rendered rooms/index.html.erb within layouts/application (21.8ms)
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:57
Completed 200 OK in 145ms (Views: 131.0ms | ActiveRecord: 11.1ms)


Started GET "/cable" for 127.0.0.1 at 2020-01-16 16:06:28 +0800
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-01-16 16:06:28 +0800
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY2xvbmUtYm9vay9Vc2VyLzE)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:3
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzE
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-01-16 16:06:35 +0800
RoomChannel stopped streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzE
Started GET "/privateroom.1_5" for 127.0.0.1 at 2020-01-16 16:06:35 +0800
Processing by RoomsController#one as 
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Completed 500 Internal Server Error in 3ms (ActiveRecord: 1.5ms)


  
ArgumentError (wrong number of arguments (given 0, expected 1)):
  
app/controllers/rooms_controller.rb:33:in `one'
Started GET "/chatroom" for 127.0.0.1 at 2020-01-16 16:06:42 +0800
Processing by RoomsController#index as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.7ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "public_room"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:3
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (5.5ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mProfile Load (1.7ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  Rendered rooms/index.html.erb within layouts/application (29.7ms)
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:57
Completed 200 OK in 151ms (Views: 135.8ms | ActiveRecord: 12.2ms)


Started GET "/cable" for 127.0.0.1 at 2020-01-16 16:06:42 +0800
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-01-16 16:06:42 +0800
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY2xvbmUtYm9vay9Vc2VyLzE)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:3
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzE
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-01-16 16:06:44 +0800
RoomChannel stopped streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzE
Started GET "/privateroom.1_3" for 127.0.0.1 at 2020-01-16 16:06:44 +0800
Processing by RoomsController#one as 
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.3ms)


  
ArgumentError (wrong number of arguments (given 0, expected 1)):
  
app/controllers/rooms_controller.rb:33:in `one'
Started GET "/index" for 127.0.0.1 at 2020-01-16 16:11:44 +0800
  
ActionController::RoutingError (No route matches [GET] "/index"):
  
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.12.2) lib/puma/configuration.rb:227:in `call'
puma (3.12.2) lib/puma/server.rb:674:in `handle_request'
puma (3.12.2) lib/puma/server.rb:476:in `process_client'
puma (3.12.2) lib/puma/server.rb:334:in `block in run'
puma (3.12.2) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2020-01-16 16:23:38 +0800
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (2.3ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/models/post.rb:14
  Rendering posts/index.html.erb within layouts/application
  [1m[36mProfile Load (0.8ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:10
  [1m[36mPost Load (1.0ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE (user_id IN (2,3,4) OR user_id = 1) ORDER BY "posts"."created_at" DESC, "posts"."created_at" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/posts/index.html.erb:29
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (3.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 4], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 4]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (4.9ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 3], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[35m (2.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 3]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[36mLike Load (1.1ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:63
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:74
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:78
  [1m[35m (1.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:108
  [1m[36mComment Load (0.3ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1 ORDER BY "comments"."created_at" ASC[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:110
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:111
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:112
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:33
  [1m[36mLike Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:58
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:63
  [1m[35m (2.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:70
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:74
  [1m[36mLike Load (3.1ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:76
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:78
  [1m[35m (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:108
  Rendered posts/index.html.erb within layouts/application (395.3ms)
  [1m[36mUser Load (5.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (1.8ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (2.0ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:57
Completed 200 OK in 1381ms (Views: 1152.8ms | ActiveRecord: 76.1ms)


Started GET "/privateroom.1_5" for 127.0.0.1 at 2020-01-16 16:23:45 +0800
Processing by RoomsController#one as 
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Completed 500 Internal Server Error in 435ms (ActiveRecord: 1.1ms)


  
NameError (undefined local variable or method `name_root' for #<RoomsController:0x007f0db4037208>):
  
app/controllers/rooms_controller.rb:34:in `one'
Started GET "/privateroom.1_5" for 127.0.0.1 at 2020-01-16 16:31:46 +0800
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by RoomsController#one as 
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:35
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (0.4ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 7]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN ($1, $2)[0m  [["id", 5], ["id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  [1m[36mProfile Load (1.6ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  Rendered rooms/index.html.erb within layouts/application (299.6ms)
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[35m (3.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:57
Completed 200 OK in 1153ms (Views: 1012.1ms | ActiveRecord: 33.6ms)


Started GET "/cable" for 127.0.0.1 at 2020-01-16 16:31:48 +0800
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-01-16 16:31:48 +0800
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY2xvbmUtYm9vay9Vc2VyLzE)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:3
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzc
Started GET "/profiles/1" for 127.0.0.1 at 2020-01-16 16:32:00 +0800
Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:4
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/profiles_controller.rb:5
  Rendering profiles/show.html.erb within layouts/application
  [1m[36mProfile Load (4.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:31
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2[0m  [["requester_id", 1], ["accepted", 1]]
  ↳ app/views/profiles/show.html.erb:63
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "requests" ON "users"."id" = "requests"."requestee_id" WHERE "requests"."requester_id" = $1 AND "requests"."accepted" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["requester_id", 1], ["accepted", 1], ["LIMIT", 4]]
  ↳ app/views/profiles/show.html.erb:66
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (1.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[36mProfile Load (2.9ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:68
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3) subquery_for_count[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:82
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["user_id", 1], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/profiles/show.html.erb:83
  [1m[36mLike Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:110
  [1m[36mLike Load (0.2ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 AND (user_id = 1) ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:115
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:122
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:126
  [1m[36mLike Load (2.0ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."post_id" = $1 ORDER BY "likes"."created_at" DESC LIMIT $2[0m  [["post_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:128
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:128
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/profiles/show.html.erb:130
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/profiles/show.html.erb:160
  Rendered profiles/show.html.erb within layouts/application (121.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.9ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:57
Completed 200 OK in 295ms (Views: 229.7ms | ActiveRecord: 35.9ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-01-16 16:32:01 +0800
RoomChannel stopped streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzc
Started GET "/privateroom.1_2" for 127.0.0.1 at 2020-01-16 16:32:01 +0800
Processing by RoomsController#one as 
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /var/lib/gems/2.3.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mRoom Load (2.8ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/controllers/rooms_controller.rb:35
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoomMessage Load (0.3ms)[0m  [1m[34mSELECT "room_messages".* FROM "room_messages" WHERE "room_messages"."room_id" = $1[0m  [["room_id", 5]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mUser Load (4.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 1]]
  ↳ app/views/rooms/index.html.erb:7
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/rooms/index.html.erb:11
  Rendered rooms/index.html.erb within layouts/application (42.5ms)
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mUser Load (27.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/layouts/application.html.erb:38
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_5"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (1.9ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_3"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_2"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mRoom Load (0.8ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "1_4"], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "requests" WHERE "requests"."requestee_id" = $1 AND "requests"."accepted" = $2[0m  [["requestee_id", 1], ["accepted", 0]]
  ↳ app/views/layouts/application.html.erb:57
Completed 200 OK in 252ms (Views: 206.7ms | ActiveRecord: 41.5ms)


Started GET "/cable" for 127.0.0.1 at 2020-01-16 16:32:02 +0800
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-01-16 16:32:02 +0800
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY2xvbmUtYm9vay9Vc2VyLzE)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:3
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzU
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-01-16 17:59:35 +0800
RoomChannel stopped streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzU
Started GET "/cable" for 127.0.0.1 at 2020-01-16 17:59:35 +0800
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-01-16 17:59:35 +0800
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY2xvbmUtYm9vay9Vc2VyLzE)
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT  "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/channels/room_channel.rb:3
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room:Z2lkOi8vY2xvbmUtYm9vay9Sb29tLzU
